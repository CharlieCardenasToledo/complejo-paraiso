var fN=Object.create;var Zg=Object.defineProperty,pN=Object.defineProperties,gN=Object.getOwnPropertyDescriptor,mN=Object.getOwnPropertyDescriptors,yN=Object.getOwnPropertyNames,yE=Object.getOwnPropertySymbols,wE=Object.getPrototypeOf,_E=Object.prototype.hasOwnProperty,vN=Object.prototype.propertyIsEnumerable,wN=Reflect.get;var vE=(n,e,t)=>e in n?Zg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,$=(n,e)=>{for(var t in e||={})_E.call(e,t)&&vE(n,t,e[t]);if(yE)for(var t of yE(e))vN.call(e,t)&&vE(n,t,e[t]);return n},re=(n,e)=>pN(n,mN(e));var _N=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var IN=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of yN(e))!_E.call(n,i)&&i!==t&&Zg(n,i,{get:()=>e[i],enumerable:!(r=gN(e,i))||r.enumerable});return n};var IE=(n,e,t)=>(t=n!=null?fN(wE(n)):{},IN(e||!n||!n.__esModule?Zg(t,"default",{value:n,enumerable:!0}):t,n));var Li=(n,e,t)=>wN(wE(n),t,e);var D=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(d){i(d)}},s=u=>{try{a(t.throw(u))}catch(d){i(d)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var sE=_N((kr,oE)=>{"use strict";(function(n,e){typeof kr=="object"&&typeof oE<"u"?oE.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(kr,function(){"use strict";function n(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(l,h){return l.get(n(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(n(l,h),y),y}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,w=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),h()},o),window.scrollTo(y,w)}),d="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"].reduce((l,h)=>(l[h]=d+h,l),{}),I=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),M="SweetAlert2:",L=l=>l.charAt(0).toUpperCase()+l.slice(1),k=l=>{console.warn(`${M} ${typeof l=="object"?l.join(" "):l}`)},H=l=>{console.error(`${M} ${l}`)},Q=[],ee=l=>{Q.includes(l)||(Q.push(l),k(l))},ge=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;ee(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},$e=l=>typeof l=="function"?l():l,ne=l=>l&&typeof l.toPromise=="function",A=l=>ne(l)?l.toPromise():Promise.resolve(l),E=l=>l&&Promise.resolve(l)===l,b=()=>document.body.querySelector(`.${g.container}`),T=l=>{let h=b();return h?h.querySelector(l):null},x=l=>T(`.${l}`),S=()=>x(g.popup),C=()=>x(g.icon),kn=()=>x(g["icon-content"]),yi=()=>x(g.title),Tc=()=>x(g["html-container"]),vi=()=>x(g.image),Lr=()=>x(g["progress-steps"]),wi=()=>x(g["validation-message"]),cn=()=>T(`.${g.actions} .${g.confirm}`),_i=()=>T(`.${g.actions} .${g.cancel}`),Vt=()=>T(`.${g.actions} .${g.deny}`),Ct=()=>x(g["input-label"]),Ii=()=>T(`.${g.loader}`),Fn=()=>x(g.actions),Ll=()=>x(g.footer),or=()=>x(g["timer-progress-bar"]),Sc=()=>x(g.close),Mg=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,Ei=()=>{let l=S();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort((G,me)=>{let Ne=parseInt(G.getAttribute("tabindex")||"0"),Je=parseInt(me.getAttribute("tabindex")||"0");return Ne>Je?1:Ne<Je?-1:0}),w=l.querySelectorAll(Mg),N=Array.from(w).filter(G=>G.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(N))].filter(G=>Nt(G))},bi=()=>un(document.body,g.shown)&&!un(document.body,g["toast-shown"])&&!un(document.body,g["no-backdrop"]),Ci=()=>{let l=S();return l?un(l,g.toast):!1},Ac=()=>{let l=S();return l?l.hasAttribute("data-loading"):!1},Mt=(l,h)=>{if(l.textContent="",h){let w=new DOMParser().parseFromString(h,"text/html"),N=w.querySelector("head");N&&Array.from(N.childNodes).forEach(me=>{l.appendChild(me)});let G=w.querySelector("body");G&&Array.from(G.childNodes).forEach(me=>{me instanceof HTMLVideoElement||me instanceof HTMLAudioElement?l.appendChild(me.cloneNode(!0)):l.appendChild(me)})}},un=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let w=0;w<y.length;w++)if(!l.classList.contains(y[w]))return!1;return!0},Vl=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(g).includes(y)&&!Object.values(I).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},jt=(l,h,y)=>{if(Vl(l,h),!h.customClass)return;let w=h.customClass[y];if(w){if(typeof w!="string"&&!w.forEach){k(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof w}"`);return}we(l,w)}},Ps=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${g.popup} > .${g[h]}`);case"checkbox":return l.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return l.querySelector(`.${g.popup} > .${g.radio} input:checked`)||l.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return l.querySelector(`.${g.popup} > .${g.range} input`);default:return l.querySelector(`.${g.popup} > .${g.input}`)}},xc=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},Rc=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(w=>{Array.isArray(l)?l.forEach(N=>{y?N.classList.add(w):N.classList.remove(w)}):y?l.classList.add(w):l.classList.remove(w)}))},we=(l,h)=>{Rc(l,h,!0)},Gt=(l,h)=>{Rc(l,h,!1)},sr=(l,h)=>{let y=Array.from(l.children);for(let w=0;w<y.length;w++){let N=y[w];if(N instanceof HTMLElement&&un(N,h))return N}},Ln=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},nt=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},ct=l=>{l&&(l.style.display="none")},ut=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{ar(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},Dt=(l,h,y,w)=>{let N=l.querySelector(h);N&&N.style.setProperty(y,w)},ar=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?nt(l,y):ct(l)},Nt=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),jl=()=>!Nt(cn())&&!Nt(Vt())&&!Nt(_i()),Ul=l=>l.scrollHeight>l.clientHeight,Di=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),w=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||w>0},Os=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=or();y&&Nt(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},Bl=()=>{let l=or();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),w=h/y*100;l.style.width=`${w}%`},Mc=()=>typeof window>"u"||typeof document>"u",Ng=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Pg=()=>{let l=b();return l?(l.remove(),Gt([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},Vn=()=>{s.currentInstance.resetValidationMessage()},$l=()=>{let l=S(),h=sr(l,g.input),y=sr(l,g.file),w=l.querySelector(`.${g.range} input`),N=l.querySelector(`.${g.range} output`),G=sr(l,g.select),me=l.querySelector(`.${g.checkbox} input`),Ne=sr(l,g.textarea);h.oninput=Vn,y.onchange=Vn,G.onchange=Vn,me.onchange=Vn,Ne.oninput=Vn,w.oninput=()=>{Vn(),N.value=w.value},w.onchange=()=>{Vn(),N.value=w.value}},Hl=l=>typeof l=="string"?document.querySelector(l):l,vo=l=>{let h=S();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},Nc=l=>{window.getComputedStyle(l).direction==="rtl"&&we(b(),g.rtl)},Pc=l=>{let h=Pg();if(Mc()){H("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=g.container,h&&we(y,g["no-transition"]),Mt(y,Ng);let w=Hl(l.target);w.appendChild(y),vo(l),Nc(w),$l()},jn=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?zl(l,h):l&&Mt(h,l)},zl=(l,h)=>{l.jquery?ks(h,l):Mt(h,l.toString())},ks=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},ql=(l,h)=>{let y=Fn(),w=Ii();!y||!w||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?ct(y):nt(y),jt(y,h,"actions"),wo(y,w,h),Mt(w,h.loaderHtml||""),jt(w,h,"loader"))};function wo(l,h,y){let w=cn(),N=Vt(),G=_i();!w||!N||!G||(gt(w,"confirm",y),gt(N,"deny",y),gt(G,"cancel",y),Gl(w,N,G,y),y.reverseButtons&&(y.toast?(l.insertBefore(G,w),l.insertBefore(N,w)):(l.insertBefore(G,h),l.insertBefore(N,h),l.insertBefore(w,h))))}function Gl(l,h,y,w){if(!w.buttonsStyling){Gt([l,h,y],g.styled);return}we([l,h,y],g.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,we(l,g["default-outline"])),w.denyButtonColor&&(h.style.backgroundColor=w.denyButtonColor,we(h,g["default-outline"])),w.cancelButtonColor&&(y.style.backgroundColor=w.cancelButtonColor,we(y,g["default-outline"]))}function gt(l,h,y){let w=L(h);ar(l,y[`show${w}Button`],"inline-block"),Mt(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=g[h],jt(l,y,`${h}Button`)}let Wl=(l,h)=>{let y=Sc();y&&(Mt(y,h.closeButtonHtml||""),jt(y,h,"closeButton"),ar(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},_o=(l,h)=>{let y=b();y&&(Io(y,h.backdrop),Og(y,h.position),kg(y,h.grow),jt(y,h,"container"))};function Io(l,h){typeof h=="string"?l.style.background=h:h||we([document.documentElement,document.body],g["no-backdrop"])}function Og(l,h){h&&(h in g?we(l,g[h]):(k('The "position" parameter is not valid, defaulting to "center"'),we(l,g.center)))}function kg(l,h){h&&we(l,g[`grow-${h}`])}var ke={innerParams:new WeakMap,domCache:new WeakMap};let Fg=["input","file","range","select","radio","checkbox","textarea"],Lg=(l,h)=>{let y=S();if(!y)return;let w=ke.innerParams.get(l),N=!w||h.input!==w.input;Fg.forEach(G=>{let me=sr(y,g[G]);me&&(Oc(G,h.inputAttributes),me.className=g[G],N&&ct(me))}),h.input&&(N&&Fs(h),Ls(h))},Fs=l=>{if(!l.input)return;if(!Qe[l.input]){H(`Unexpected type of input! Expected ${Object.keys(Qe).join(" | ")}, got "${l.input}"`);return}let h=kc(l.input);if(!h)return;let y=Qe[l.input](h,l);nt(h),l.inputAutoFocus&&setTimeout(()=>{xc(y)})},Kl=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},Oc=(l,h)=>{let y=S();if(!y)return;let w=Ps(y,l);if(w){Kl(w);for(let N in h)w.setAttribute(N,h[N])}},Ls=l=>{if(!l.input)return;let h=kc(l.input);h&&jt(h,l,"input")},In=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},Ti=(l,h,y)=>{if(y.inputLabel){let w=document.createElement("label"),N=g["input-label"];w.setAttribute("for",l.id),w.className=N,typeof y.customClass=="object"&&we(w,y.customClass.inputLabel),w.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",w)}},kc=l=>{let h=S();if(h)return sr(h,g[l]||g.input)},Si=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:E(h)||k(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Qe={};Qe.text=Qe.email=Qe.password=Qe.number=Qe.tel=Qe.url=Qe.search=Qe.date=Qe["datetime-local"]=Qe.time=Qe.week=Qe.month=(l,h)=>(Si(l,h.inputValue),Ti(l,l,h),In(l,h),l.type=h.input,l),Qe.file=(l,h)=>(Ti(l,l,h),In(l,h),l),Qe.range=(l,h)=>{let y=l.querySelector("input"),w=l.querySelector("output");return Si(y,h.inputValue),y.type=h.input,Si(w,h.inputValue),Ti(y,l,h),l},Qe.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");Mt(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return Ti(l,l,h),l},Qe.radio=l=>(l.textContent="",l),Qe.checkbox=(l,h)=>{let y=Ps(S(),"checkbox");y.value="1",y.checked=!!h.inputValue;let w=l.querySelector("span");return Mt(w,h.inputPlaceholder||h.inputLabel),y},Qe.textarea=(l,h)=>{Si(l,h.inputValue),In(l,h),Ti(l,l,h);let y=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let w=parseInt(window.getComputedStyle(S()).width),N=()=>{if(!document.body.contains(l))return;let G=l.offsetWidth+y(l);G>w?S().style.width=`${G}px`:Ln(S(),"width",h.width)};new MutationObserver(N).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let Ql=(l,h)=>{let y=Tc();y&&(ut(y),jt(y,h,"htmlContainer"),h.html?(jn(h.html,y),nt(y,"block")):h.text?(y.textContent=h.text,nt(y,"block")):ct(y),Lg(l,h))},Yl=(l,h)=>{let y=Ll();y&&(ut(y),ar(y,h.footer,"block"),h.footer&&jn(h.footer,y),jt(y,h,"footer"))},Vg=(l,h)=>{let y=ke.innerParams.get(l),w=C();if(w){if(y&&h.icon===y.icon){cr(w,h),Eo(w,h);return}if(!h.icon&&!h.iconHtml){ct(w);return}if(h.icon&&Object.keys(I).indexOf(h.icon)===-1){H(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),ct(w);return}nt(w),cr(w,h),Eo(w,h),we(w,h.showClass&&h.showClass.icon)}},Eo=(l,h)=>{for(let[y,w]of Object.entries(I))h.icon!==y&&Gt(l,w);we(l,h.icon&&I[h.icon]),Lc(l,h),Zl(),jt(l,h,"icon")},Zl=()=>{let l=S();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<y.length;w++)y[w].style.backgroundColor=h},Fc=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,bo=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,cr=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,w="";h.iconHtml?w=Jl(h.iconHtml):h.icon==="success"?(w=Fc,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?w=bo:h.icon&&(w=Jl({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==w.trim()&&Mt(l,w)},Lc=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Dt(l,y,"background-color",h.iconColor);Dt(l,".swal2-success-ring","border-color",h.iconColor)}},Jl=l=>`<div class="${g["icon-content"]}">${l}</div>`,Xl=(l,h)=>{let y=vi();if(y){if(!h.imageUrl){ct(y);return}nt(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),Ln(y,"width",h.imageWidth),Ln(y,"height",h.imageHeight),y.className=g.image,jt(y,h,"image")}},Vs=!1,Vc=0,js=0,Us=0,jc=0,ed=l=>{l.addEventListener("mousedown",Bs),document.body.addEventListener("mousemove",Co),l.addEventListener("mouseup",Do),l.addEventListener("touchstart",Bs),document.body.addEventListener("touchmove",Co),l.addEventListener("touchend",Do)},jg=l=>{l.removeEventListener("mousedown",Bs),document.body.removeEventListener("mousemove",Co),l.removeEventListener("mouseup",Do),l.removeEventListener("touchstart",Bs),document.body.removeEventListener("touchmove",Co),l.removeEventListener("touchend",Do)},Bs=l=>{let h=S();if(l.target===h||C().contains(l.target)){Vs=!0;let y=td(l);Vc=y.clientX,js=y.clientY,Us=parseInt(h.style.insetInlineStart)||0,jc=parseInt(h.style.insetBlockStart)||0,we(h,"swal2-dragging")}},Co=l=>{let h=S();if(Vs){let{clientX:y,clientY:w}=td(l);h.style.insetInlineStart=`${Us+(y-Vc)}px`,h.style.insetBlockStart=`${jc+(w-js)}px`}},Do=()=>{let l=S();Vs=!1,Gt(l,"swal2-dragging")},td=l=>{let h=0,y=0;return l.type.startsWith("mouse")?(h=l.clientX,y=l.clientY):l.type.startsWith("touch")&&(h=l.touches[0].clientX,y=l.touches[0].clientY),{clientX:h,clientY:y}},Vr=(l,h)=>{let y=b(),w=S();if(!(!y||!w)){if(h.toast){Ln(y,"width",h.width),w.style.width="100%";let N=Ii();N&&w.insertBefore(N,C())}else Ln(w,"width",h.width);Ln(w,"padding",h.padding),h.color&&(w.style.color=h.color),h.background&&(w.style.background=h.background),ct(wi()),Un(w,h),h.draggable&&!h.toast?(we(w,g.draggable),ed(w)):(Gt(w,g.draggable),jg(w))}},Un=(l,h)=>{let y=h.showClass||{};l.className=`${g.popup} ${Nt(l)?y.popup:""}`,h.toast?(we([document.documentElement,document.body],g["toast-shown"]),we(l,g.toast)):we(l,g.modal),jt(l,h,"popup"),typeof h.customClass=="string"&&we(l,h.customClass),h.icon&&we(l,g[`icon-${h.icon}`])},$s=(l,h)=>{let y=Lr();if(!y)return;let{progressSteps:w,currentProgressStep:N}=h;if(!w||w.length===0||N===void 0){ct(y);return}nt(y),y.textContent="",N>=w.length&&k("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach((G,me)=>{let Ne=Hs(G);if(y.appendChild(Ne),me===N&&we(Ne,g["active-progress-step"]),me!==w.length-1){let Je=nd(h);y.appendChild(Je)}})},Hs=l=>{let h=document.createElement("li");return we(h,g["progress-step"]),Mt(h,l),h},nd=l=>{let h=document.createElement("li");return we(h,g["progress-step-line"]),l.progressStepsDistance&&Ln(h,"width",l.progressStepsDistance),h},He=(l,h)=>{let y=yi();y&&(ut(y),ar(y,h.title||h.titleText,"block"),h.title&&jn(h.title,y),h.titleText&&(y.innerText=h.titleText),jt(y,h,"title"))},To=(l,h)=>{Vr(l,h),_o(l,h),$s(l,h),Vg(l,h),Xl(l,h),He(l,h),Wl(l,h),Ql(l,h),ql(l,h),Yl(l,h);let y=S();typeof h.didRender=="function"&&y&&h.didRender(y),s.eventEmitter.emit("didRender",y)},So=()=>Nt(S()),Ai=()=>{var l;return(l=cn())===null||l===void 0?void 0:l.click()},Ug=()=>{var l;return(l=Vt())===null||l===void 0?void 0:l.click()},rd=()=>{var l;return(l=_i())===null||l===void 0?void 0:l.click()},xi=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),id=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},Bg=(l,h,y)=>{id(l),h.toast||(l.keydownHandler=w=>od(h,w,y),l.keydownTarget=h.keydownListenerCapture?window:S(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},Uc=(l,h)=>{var y;let w=Ei();if(w.length){l=l+h,l===w.length?l=0:l===-1&&(l=w.length-1),w[l].focus();return}(y=S())===null||y===void 0||y.focus()},Ri=["ArrowRight","ArrowDown"],ur=["ArrowLeft","ArrowUp"],od=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?sd(h,l):h.key==="Tab"?ad(h):[...Ri,...ur].includes(h.key)?Mi(h.key):h.key==="Escape"&&$g(h,l,y)))},sd=(l,h)=>{if(!$e(h.allowEnterKey))return;let y=Ps(S(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;Ai(),l.preventDefault()}},ad=l=>{let h=l.target,y=Ei(),w=-1;for(let N=0;N<y.length;N++)if(h===y[N]){w=N;break}l.shiftKey?Uc(w,-1):Uc(w,1),l.stopPropagation(),l.preventDefault()},Mi=l=>{let h=Fn(),y=cn(),w=Vt(),N=_i();if(!h||!y||!w||!N)return;let G=[y,w,N];if(document.activeElement instanceof HTMLElement&&!G.includes(document.activeElement))return;let me=Ri.includes(l)?"nextElementSibling":"previousElementSibling",Ne=document.activeElement;if(Ne){for(let Je=0;Je<h.children.length;Je++){if(Ne=Ne[me],!Ne)return;if(Ne instanceof HTMLButtonElement&&Nt(Ne))break}Ne instanceof HTMLButtonElement&&Ne.focus()}},$g=(l,h,y)=>{$e(h.allowEscapeKey)&&(l.preventDefault(),y(xi.esc))};var Ni={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Hg=()=>{let l=b();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Bn=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},cd=typeof window<"u"&&!!window.GestureEvent,zg=()=>{if(cd&&!un(document.body,g.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,we(document.body,g.iosfix),Ao()}},Ao=()=>{let l=b();if(!l)return;let h;l.ontouchstart=y=>{h=zs(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},zs=l=>{let h=l.target,y=b(),w=Tc();return!y||!w||ud(l)||xo(l)?!1:h===y||!Ul(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(Ul(w)&&w.contains(h))},ud=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",xo=l=>l.touches&&l.touches.length>1,Ro=()=>{if(un(document.body,g.iosfix)){let l=parseInt(document.body.style.top,10);Gt(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},ld=()=>{let l=document.createElement("div");l.className=g["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},lr=null,Ye=l=>{lr===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(lr=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${lr+ld()}px`)},qg=()=>{lr!==null&&(document.body.style.paddingRight=`${lr}px`,lr=null)};function dd(l,h,y,w){Ci()?Oi(l,w):(u(y).then(()=>Oi(l,w)),id(s)),cd?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),bi()&&(qg(),Ro(),Bn()),hd()}function hd(){Gt([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function $n(l){l=Hn(l);let h=Ni.swalPromiseResolve.get(this),y=fd(this);this.isAwaitingPromise?l.isDismissed||(Pi(this),h(l)):y&&h(l)}let fd=l=>{let h=S();if(!h)return!1;let y=ke.innerParams.get(l);if(!y||un(h,y.hideClass.popup))return!1;Gt(h,y.showClass.popup),we(h,y.hideClass.popup);let w=b();return Gt(w,y.showClass.backdrop),we(w,y.hideClass.backdrop),pd(l,h,y),!0};function Mo(l){let h=Ni.swalPromiseReject.get(this);Pi(this),h&&h(l)}let Pi=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,ke.innerParams.get(l)||l._destroy())},Hn=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),pd=(l,h,y)=>{var w;let N=b(),G=Di(h);typeof y.willClose=="function"&&y.willClose(h),(w=s.eventEmitter)===null||w===void 0||w.emit("willClose",h),G?Gg(l,h,N,y.returnFocus,y.didClose):dd(l,N,y.returnFocus,y.didClose)},Gg=(l,h,y,w,N)=>{s.swalCloseEventFinishedCallback=dd.bind(null,l,y,w,N);let G=function(me){if(me.target===h){var Ne;(Ne=s.swalCloseEventFinishedCallback)===null||Ne===void 0||Ne.call(s),delete s.swalCloseEventFinishedCallback,h.removeEventListener("animationend",G),h.removeEventListener("transitionend",G)}};h.addEventListener("animationend",G),h.addEventListener("transitionend",G)},Oi=(l,h)=>{setTimeout(()=>{var y;typeof h=="function"&&h.bind(l.params)(),(y=s.eventEmitter)===null||y===void 0||y.emit("didClose"),l._destroy&&l._destroy()})},jr=l=>{let h=S();if(h||new Td,h=S(),!h)return;let y=Ii();Ci()?ct(C()):Bc(h,l),nt(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},Bc=(l,h)=>{let y=Fn(),w=Ii();!y||!w||(!h&&Nt(cn())&&(h=cn()),nt(y),h&&(ct(h),w.setAttribute("data-button-to-replace",h.className),y.insertBefore(w,h)),we([l,y],g.loading))},qs=(l,h)=>{h.input==="select"||h.input==="radio"?No(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(ne(h.inputValue)||E(h.inputValue))&&(jr(cn()),yd(l,h))},gd=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return Gs(y);case"radio":return Wg(y);case"file":return md(y);default:return h.inputAutoTrim?y.value.trim():y.value}},Gs=l=>l.checked?1:0,Wg=l=>l.checked?l.value:null,md=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,No=(l,h)=>{let y=S();if(!y)return;let w=N=>{h.input==="select"?vd(y,ki(N),h):h.input==="radio"&&$c(y,ki(N),h)};ne(h.inputOptions)||E(h.inputOptions)?(jr(cn()),A(h.inputOptions).then(N=>{l.hideLoading(),w(N)})):typeof h.inputOptions=="object"?w(h.inputOptions):H(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},yd=(l,h)=>{let y=l.getInput();y&&(ct(y),A(h.inputValue).then(w=>{y.value=h.input==="number"?`${parseFloat(w)||0}`:`${w}`,nt(y),y.focus(),l.hideLoading()}).catch(w=>{H(`Error in inputValue promise: ${w}`),y.value="",nt(y),y.focus(),l.hideLoading()}))};function vd(l,h,y){let w=sr(l,g.select);if(!w)return;let N=(G,me,Ne)=>{let Je=document.createElement("option");Je.value=Ne,Mt(Je,me),Je.selected=Hc(Ne,y.inputValue),G.appendChild(Je)};h.forEach(G=>{let me=G[0],Ne=G[1];if(Array.isArray(Ne)){let Je=document.createElement("optgroup");Je.label=me,Je.disabled=!1,w.appendChild(Je),Ne.forEach(Ys=>N(Je,Ys[1],Ys[0]))}else N(w,Ne,me)}),w.focus()}function $c(l,h,y){let w=sr(l,g.radio);if(!w)return;h.forEach(G=>{let me=G[0],Ne=G[1],Je=document.createElement("input"),Ys=document.createElement("label");Je.type="radio",Je.name=g.radio,Je.value=me,Hc(me,y.inputValue)&&(Je.checked=!0);let Yg=document.createElement("span");Mt(Yg,Ne),Yg.className=g.label,Ys.appendChild(Je),Ys.appendChild(Yg),w.appendChild(Ys)});let N=w.querySelectorAll("input");N.length&&N[0].focus()}let ki=l=>{let h=[];return l instanceof Map?l.forEach((y,w)=>{let N=y;typeof N=="object"&&(N=ki(N)),h.push([w,N])}):Object.keys(l).forEach(y=>{let w=l[y];typeof w=="object"&&(w=ki(w)),h.push([y,w])}),h},Hc=(l,h)=>!!h&&h.toString()===l.toString(),Ws=l=>{let h=ke.innerParams.get(l);l.disableButtons(),h.input?dr(l,"confirm"):Fi(l,!0)},wd=l=>{let h=ke.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?dr(l,"deny"):Ks(l,!1)},_d=(l,h)=>{l.disableButtons(),h(xi.cancel)},dr=(l,h)=>{let y=ke.innerParams.get(l);if(!y.input){H(`The "input" parameter is needed to be set when using returnInputValueOn${L(h)}`);return}let w=l.getInput(),N=gd(l,y);y.inputValidator?Id(l,N,h):w&&!w.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||w.validationMessage)):h==="deny"?Ks(l,N):Fi(l,N)},Id=(l,h,y)=>{let w=ke.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>A(w.inputValidator(h,w.validationMessage))).then(G=>{l.enableButtons(),l.enableInput(),G?l.showValidationMessage(G):y==="deny"?Ks(l,h):Fi(l,h)})},Ks=(l,h)=>{let y=ke.innerParams.get(l||void 0);y.showLoaderOnDeny&&jr(Vt()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>A(y.preDeny(h,y.validationMessage))).then(N=>{N===!1?(l.hideLoading(),Pi(l)):l.close({isDenied:!0,value:typeof N>"u"?h:N})}).catch(N=>qc(l||void 0,N))):l.close({isDenied:!0,value:h})},zc=(l,h)=>{l.close({isConfirmed:!0,value:h})},qc=(l,h)=>{l.rejectPromise(h)},Fi=(l,h)=>{let y=ke.innerParams.get(l||void 0);y.showLoaderOnConfirm&&jr(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>A(y.preConfirm(h,y.validationMessage))).then(N=>{Nt(wi())||N===!1?(l.hideLoading(),Pi(l)):zc(l,typeof N>"u"?h:N)}).catch(N=>qc(l||void 0,N))):zc(l,h)};function Tt(){let l=ke.innerParams.get(this);if(!l)return;let h=ke.domCache.get(this);ct(h.loader),Ci()?l.icon&&nt(C()):Ed(h),Gt([h.popup,h.actions],g.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Ed=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?nt(h[0],"inline-block"):jl()&&ct(l.actions)};function Gc(){let l=ke.innerParams.get(this),h=ke.domCache.get(this);return h?Ps(h.popup,l.input):null}function Ur(l,h,y){let w=ke.domCache.get(l);h.forEach(N=>{w[N].disabled=y})}function c(l,h){let y=S();if(!(!y||!l))if(l.type==="radio"){let w=y.querySelectorAll(`[name="${g.radio}"]`);for(let N=0;N<w.length;N++)w[N].disabled=h}else l.disabled=h}function f(){Ur(this,["confirmButton","denyButton","cancelButton"],!1)}function m(){Ur(this,["confirmButton","denyButton","cancelButton"],!0)}function v(){c(this.getInput(),!1)}function R(){c(this.getInput(),!0)}function P(l){let h=ke.domCache.get(this),y=ke.innerParams.get(this);Mt(h.validationMessage,l),h.validationMessage.className=g["validation-message"],y.customClass&&y.customClass.validationMessage&&we(h.validationMessage,y.customClass.validationMessage),nt(h.validationMessage);let w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",g["validation-message"]),xc(w),we(w,g.inputerror))}function z(){let l=ke.domCache.get(this);l.validationMessage&&ct(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),Gt(h,g.inputerror))}let Re={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},mt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Me={allowEnterKey:void 0},St=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],yt=l=>Object.prototype.hasOwnProperty.call(Re,l),Br=l=>mt.indexOf(l)!==-1,en=l=>Me[l],Qs=l=>{yt(l)||k(`Unknown parameter "${l}"`)},Wc=l=>{St.includes(l)&&k(`The parameter "${l}" is incompatible with toasts`)},wM=l=>{let h=en(l);h&&ge(l,h)},_M=l=>{l.backdrop===!1&&l.allowOutsideClick&&k('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)Qs(h),l.toast&&Wc(h),wM(h)};function aE(l){let h=S(),y=ke.innerParams.get(this);if(!h||un(h,y.hideClass.popup)){k("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let w=IM(l),N=Object.assign({},y,w);To(this,N),ke.innerParams.set(this,N),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let IM=l=>{let h={};return Object.keys(l).forEach(y=>{Br(y)?h[y]=l[y]:k(`Invalid parameter to update: ${y}`)}),h};function cE(){let l=ke.domCache.get(this),h=ke.innerParams.get(this);if(!h){uE(this);return}l.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),s.eventEmitter.emit("didDestroy"),EM(this)}let EM=l=>{uE(l),delete l.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},uE=l=>{l.isAwaitingPromise?(Kg(ke,l),l.isAwaitingPromise=!0):(Kg(Ni,l),Kg(ke,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},Kg=(l,h)=>{for(let y in l)l[y].delete(h)};var bM=Object.freeze({__proto__:null,_destroy:cE,close:$n,closeModal:$n,closePopup:$n,closeToast:$n,disableButtons:m,disableInput:R,disableLoading:Tt,enableButtons:f,enableInput:v,getInput:Gc,handleAwaitingPromise:Pi,hideLoading:Tt,rejectPromise:Mo,resetValidationMessage:z,showValidationMessage:P,update:aE});let CM=(l,h,y)=>{l.toast?DM(l,h,y):(SM(h),AM(h),xM(l,h,y))},DM=(l,h,y)=>{h.popup.onclick=()=>{l&&(TM(l)||l.timer||l.input)||y(xi.close)}},TM=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),bd=!1,SM=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(bd=!0)}}},AM=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(bd=!0)}}},xM=(l,h,y)=>{h.container.onclick=w=>{if(bd){bd=!1;return}w.target===h.container&&$e(l.allowOutsideClick)&&y(xi.backdrop)}},RM=l=>typeof l=="object"&&l.jquery,lE=l=>l instanceof Element||RM(l),MM=l=>{let h={};return typeof l[0]=="object"&&!lE(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,w)=>{let N=l[w];typeof N=="string"||lE(N)?h[y]=N:N!==void 0&&H(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof N}`)}),h};function NM(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function PM(l){class h extends this{_main(w,N){return super._main(w,Object.assign({},l,N))}}return h}let OM=()=>s.timeout&&s.timeout.getTimerLeft(),dE=()=>{if(s.timeout)return Bl(),s.timeout.stop()},hE=()=>{if(s.timeout){let l=s.timeout.start();return Os(l),l}},kM=()=>{let l=s.timeout;return l&&(l.running?dE():hE())},FM=l=>{if(s.timeout){let h=s.timeout.increase(l);return Os(h,!0),h}},LM=()=>!!(s.timeout&&s.timeout.isRunning()),fE=!1,Qg={};function VM(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Qg[l]=this,fE||(document.body.addEventListener("click",jM),fE=!0)}let jM=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in Qg){let w=h.getAttribute(y);if(w){Qg[y].fire({template:w});return}}};class UM{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let w=this._getHandlersByEventName(h);w.includes(y)||w.push(y)}once(h,y){var w=this;let N=function(){w.removeListener(h,N);for(var G=arguments.length,me=new Array(G),Ne=0;Ne<G;Ne++)me[Ne]=arguments[Ne];y.apply(w,me)};this.on(h,N)}emit(h){for(var y=arguments.length,w=new Array(y>1?y-1:0),N=1;N<y;N++)w[N-1]=arguments[N];this._getHandlersByEventName(h).forEach(G=>{try{G.apply(this,w)}catch(me){console.error(me)}})}removeListener(h,y){let w=this._getHandlersByEventName(h),N=w.indexOf(y);N>-1&&w.splice(N,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}s.eventEmitter=new UM;var BM=Object.freeze({__proto__:null,argsToParams:MM,bindClickHandler:VM,clickCancel:rd,clickConfirm:Ai,clickDeny:Ug,enableLoading:jr,fire:NM,getActions:Fn,getCancelButton:_i,getCloseButton:Sc,getConfirmButton:cn,getContainer:b,getDenyButton:Vt,getFocusableElements:Ei,getFooter:Ll,getHtmlContainer:Tc,getIcon:C,getIconContent:kn,getImage:vi,getInputLabel:Ct,getLoader:Ii,getPopup:S,getProgressSteps:Lr,getTimerLeft:OM,getTimerProgressBar:or,getTitle:yi,getValidationMessage:wi,increaseTimer:FM,isDeprecatedParameter:en,isLoading:Ac,isTimerRunning:LM,isUpdatableParameter:Br,isValidParameter:yt,isVisible:So,mixin:PM,off:(l,h)=>{if(!l){s.eventEmitter.reset();return}h?s.eventEmitter.removeListener(l,h):s.eventEmitter.removeAllListeners(l)},on:(l,h)=>{s.eventEmitter.on(l,h)},once:(l,h)=>{s.eventEmitter.once(l,h)},resumeTimer:hE,showLoading:jr,stopTimer:dE,toggleTimer:kM});class $M{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let pE=["swal-title","swal-html","swal-footer"],HM=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return ZM(y),Object.assign(zM(y),qM(y),GM(y),WM(y),KM(y),QM(y),YM(y,pE))},zM=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(w=>{Po(w,["name","value"]);let N=w.getAttribute("name"),G=w.getAttribute("value");!N||!G||(typeof Re[N]=="boolean"?h[N]=G!=="false":typeof Re[N]=="object"?h[N]=JSON.parse(G):h[N]=G)}),h},qM=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(w=>{let N=w.getAttribute("name"),G=w.getAttribute("value");!N||!G||(h[N]=new Function(`return ${G}`)())}),h},GM=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(w=>{Po(w,["type","color","aria-label"]);let N=w.getAttribute("type");!N||!["confirm","cancel","deny"].includes(N)||(h[`${N}ButtonText`]=w.innerHTML,h[`show${L(N)}Button`]=!0,w.hasAttribute("color")&&(h[`${N}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(h[`${N}ButtonAriaLabel`]=w.getAttribute("aria-label")))}),h},WM=l=>{let h={},y=l.querySelector("swal-image");return y&&(Po(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},KM=l=>{let h={},y=l.querySelector("swal-icon");return y&&(Po(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},QM=l=>{let h={},y=l.querySelector("swal-input");y&&(Po(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let w=Array.from(l.querySelectorAll("swal-input-option"));return w.length&&(h.inputOptions={},w.forEach(N=>{Po(N,["value"]);let G=N.getAttribute("value");if(!G)return;let me=N.innerHTML;h.inputOptions[G]=me})),h},YM=(l,h)=>{let y={};for(let w in h){let N=h[w],G=l.querySelector(N);G&&(Po(G,[]),y[N.replace(/^swal-/,"")]=G.innerHTML.trim())}return y},ZM=l=>{let h=pE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let w=y.tagName.toLowerCase();h.includes(w)||k(`Unrecognized element <${w}>`)})},Po=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&k([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},gE=10,JM=l=>{let h=b(),y=S();typeof l.willOpen=="function"&&l.willOpen(y),s.eventEmitter.emit("willOpen",y);let N=window.getComputedStyle(document.body).overflowY;tN(h,y,l),setTimeout(()=>{XM(h,y)},gE),bi()&&(eN(h,l.scrollbarPadding,N),Hg()),!Ci()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),s.eventEmitter.emit("didOpen",y),Gt(h,g["no-transition"])},Cd=l=>{let h=S();if(l.target!==h)return;let y=b();h.removeEventListener("animationend",Cd),h.removeEventListener("transitionend",Cd),y.style.overflowY="auto"},XM=(l,h)=>{Di(h)?(l.style.overflowY="hidden",h.addEventListener("animationend",Cd),h.addEventListener("transitionend",Cd)):l.style.overflowY="auto"},eN=(l,h,y)=>{zg(),h&&y!=="hidden"&&Ye(y),setTimeout(()=>{l.scrollTop=0})},tN=(l,h,y)=>{we(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),nt(h,"grid"),setTimeout(()=>{we(h,y.showClass.popup),h.style.removeProperty("opacity")},gE)):nt(h,"grid"),we([document.documentElement,document.body],g.shown),y.heightAuto&&y.backdrop&&!y.toast&&we([document.documentElement,document.body],g["height-auto"])};var mE={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function nN(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=mE.email),l.input==="url"&&(l.inputValidator=mE.url))}function rN(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(k('Target parameter is not valid, defaulting to "body"'),l.target="body")}function iN(l){nN(l),l.showLoaderOnConfirm&&!l.preConfirm&&k(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),rN(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),Pc(l)}let hr;var Dd=new WeakMap;class st{constructor(){if(r(this,Dd,void 0),typeof window>"u")return;hr=this;for(var h=arguments.length,y=new Array(h),w=0;w<h;w++)y[w]=arguments[w];let N=Object.freeze(this.constructor.argsToParams(y));this.params=N,this.isAwaitingPromise=!1,i(Dd,this,this._main(hr.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_M(Object.assign({},y,h)),s.currentInstance){let G=Ni.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:me}=s.currentInstance;s.currentInstance._destroy(),me||G({isDismissed:!0}),bi()&&Bn()}s.currentInstance=hr;let w=sN(h,y);iN(w),Object.freeze(w),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let N=aN(hr);return To(hr,w),ke.innerParams.set(hr,w),oN(hr,N,w)}then(h){return t(Dd,this).then(h)}finally(h){return t(Dd,this).finally(h)}}let oN=(l,h,y)=>new Promise((w,N)=>{let G=me=>{l.close({isDismissed:!0,dismiss:me})};Ni.swalPromiseResolve.set(l,w),Ni.swalPromiseReject.set(l,N),h.confirmButton.onclick=()=>{Ws(l)},h.denyButton.onclick=()=>{wd(l)},h.cancelButton.onclick=()=>{_d(l,G)},h.closeButton.onclick=()=>{G(xi.close)},CM(y,h,G),Bg(s,y,G),qs(l,y),JM(y),cN(s,y,G),uN(h,y),setTimeout(()=>{h.container.scrollTop=0})}),sN=(l,h)=>{let y=HM(l),w=Object.assign({},Re,h,y,l);return w.showClass=Object.assign({},Re.showClass,w.showClass),w.hideClass=Object.assign({},Re.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},aN=l=>{let h={popup:S(),container:b(),actions:Fn(),confirmButton:cn(),denyButton:Vt(),cancelButton:_i(),loader:Ii(),closeButton:Sc(),validationMessage:wi(),progressSteps:Lr()};return ke.domCache.set(l,h),h},cN=(l,h,y)=>{let w=or();ct(w),h.timer&&(l.timeout=new $M(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(nt(w),jt(w,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&Os(h.timer)})))},uN=(l,h)=>{if(!h.toast){if(!$e(h.allowEnterKey)){ge("allowEnterKey"),hN();return}lN(l)||dN(l,h)||Uc(-1,1)}},lN=l=>{let h=Array.from(l.popup.querySelectorAll("[autofocus]"));for(let y of h)if(y instanceof HTMLElement&&Nt(y))return y.focus(),!0;return!1},dN=(l,h)=>h.focusDeny&&Nt(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&Nt(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&Nt(l.confirmButton)?(l.confirmButton.focus(),!0):!1,hN=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}st.prototype.disableButtons=m,st.prototype.enableButtons=f,st.prototype.getInput=Gc,st.prototype.disableInput=R,st.prototype.enableInput=v,st.prototype.hideLoading=Tt,st.prototype.disableLoading=Tt,st.prototype.showValidationMessage=P,st.prototype.resetValidationMessage=z,st.prototype.close=$n,st.prototype.closePopup=$n,st.prototype.closeModal=$n,st.prototype.closeToast=$n,st.prototype.rejectPromise=Mo,st.prototype.update=aE,st.prototype._destroy=cE,Object.assign(st,BM),Object.keys(bM).forEach(l=>{st[l]=function(){return hr&&hr[l]?hr[l](...arguments):null}}),st.DismissReason=xi,st.version="11.15.10";let Td=st;return Td.default=Td,Td});typeof kr<"u"&&kr.Sweetalert2&&(kr.swal=kr.sweetAlert=kr.Swal=kr.SweetAlert=kr.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}')});function EE(n,e){return Object.is(n,e)}var vt=null,Sd=!1,Ad=1,$r=Symbol("SIGNAL");function Ee(n){let e=vt;return vt=n,e}function bE(){return vt}var Qc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function em(n){if(Sd)throw new Error("");if(vt===null)return;vt.consumerOnSignalRead(n);let e=vt.nextProducerIndex++;if(Nd(vt),e<vt.producerNode.length&&vt.producerNode[e]!==n&&Kc(vt)){let t=vt.producerNode[e];Md(t,vt.producerIndexOfThis[e])}vt.producerNode[e]!==n&&(vt.producerNode[e]=n,vt.producerIndexOfThis[e]=Kc(vt)?SE(n,vt,e):0),vt.producerLastReadVersion[e]=n.version}function EN(){Ad++}function CE(n){if(!(Kc(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Ad)){if(!n.producerMustRecompute(n)&&!nm(n)){n.dirty=!1,n.lastCleanEpoch=Ad;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Ad}}function DE(n){if(n.liveConsumerNode===void 0)return;let e=Sd;Sd=!0;try{for(let t of n.liveConsumerNode)t.dirty||bN(t)}finally{Sd=e}}function TE(){return vt?.consumerAllowSignalWrites!==!1}function bN(n){n.dirty=!0,DE(n),n.consumerMarkedDirty?.(n)}function Rd(n){return n&&(n.nextProducerIndex=0),Ee(n)}function tm(n,e){if(Ee(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Kc(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Md(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function nm(n){Nd(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(CE(t),r!==t.version))return!0}return!1}function rm(n){if(Nd(n),Kc(n))for(let e=0;e<n.producerNode.length;e++)Md(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function SE(n,e,t){if(AE(n),n.liveConsumerNode.length===0&&xE(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=SE(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Md(n,e){if(AE(n),n.liveConsumerNode.length===1&&xE(n))for(let r=0;r<n.producerNode.length;r++)Md(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Nd(i),i.producerIndexOfThis[r]=e}}function Kc(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Nd(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function AE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function xE(n){return n.producerNode!==void 0}function RE(n){let e=Object.create(CN);e.computation=n;let t=()=>{if(CE(e),em(e),e.value===xd)throw e.error;return e.value};return t[$r]=e,t}var Jg=Symbol("UNSET"),Xg=Symbol("COMPUTING"),xd=Symbol("ERRORED"),CN=re($({},Qc),{value:Jg,dirty:!0,error:null,equal:EE,producerMustRecompute(n){return n.value===Jg||n.value===Xg},producerRecomputeValue(n){if(n.value===Xg)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Xg;let t=Rd(n),r;try{r=n.computation()}catch(i){r=xd,n.error=i}finally{tm(n,t)}if(e!==Jg&&e!==xd&&r!==xd&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function DN(){throw new Error}var ME=DN;function NE(){ME()}function PE(n){ME=n}var TN=null;function OE(n){let e=Object.create(FE);e.value=n;let t=()=>(em(e),e.value);return t[$r]=e,t}function im(n,e){TE()||NE(),n.equal(n.value,e)||(n.value=e,SN(n))}function kE(n,e){TE()||NE(),im(n,e(n.value))}var FE=re($({},Qc),{equal:EE,value:void 0});function SN(n){n.version++,EN(),DE(n),TN?.()}function le(n){return typeof n=="function"}function Zs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Pd=Zs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Oo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var rt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(le(r))try{r()}catch(o){e=o instanceof Pd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{LE(o)}catch(s){e=e??[],s instanceof Pd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Pd(e)}}add(e){var t;if(e&&e!==this)if(this.closed)LE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Oo(t,e)}remove(e){let{_finalizers:t}=this;t&&Oo(t,e),e instanceof n&&e._removeParent(this)}};rt.EMPTY=(()=>{let n=new rt;return n.closed=!0,n})();var om=rt.EMPTY;function Od(n){return n instanceof rt||n&&"closed"in n&&le(n.remove)&&le(n.add)&&le(n.unsubscribe)}function LE(n){le(n)?n():n.unsubscribe()}var zn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Js={setTimeout(n,e,...t){let{delegate:r}=Js;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Js;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function kd(n){Js.setTimeout(()=>{let{onUnhandledError:e}=zn;if(e)e(n);else throw n})}function Yc(){}var VE=sm("C",void 0,void 0);function jE(n){return sm("E",void 0,n)}function UE(n){return sm("N",n,void 0)}function sm(n,e,t){return{kind:n,value:e,error:t}}var ko=null;function Xs(n){if(zn.useDeprecatedSynchronousErrorHandling){let e=!ko;if(e&&(ko={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ko;if(ko=null,t)throw r}}else n()}function BE(n){zn.useDeprecatedSynchronousErrorHandling&&ko&&(ko.errorThrown=!0,ko.error=n)}var Fo=class extends rt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Od(e)&&e.add(this)):this.destination=RN}static create(e,t,r){return new ea(e,t,r)}next(e){this.isStopped?cm(UE(e),this):this._next(e)}error(e){this.isStopped?cm(jE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cm(VE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},AN=Function.prototype.bind;function am(n,e){return AN.call(n,e)}var um=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Fd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Fd(r)}else Fd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Fd(t)}}},ea=class extends Fo{constructor(e,t,r){super();let i;if(le(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&zn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&am(e.next,o),error:e.error&&am(e.error,o),complete:e.complete&&am(e.complete,o)}):i=e}this.destination=new um(i)}};function Fd(n){zn.useDeprecatedSynchronousErrorHandling?BE(n):kd(n)}function xN(n){throw n}function cm(n,e){let{onStoppedNotification:t}=zn;t&&Js.setTimeout(()=>t(n,e))}var RN={closed:!0,next:Yc,error:xN,complete:Yc};var ta=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ln(n){return n}function Ld(...n){return lm(n)}function lm(n){return n.length===0?ln:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Ce=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=NN(t)?t:new ea(t,r,i);return Xs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=$E(r),new r((i,o)=>{let s=new ea({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ta](){return this}pipe(...t){return lm(t)(this)}toPromise(t){return t=$E(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function $E(n){var e;return(e=n??zn.Promise)!==null&&e!==void 0?e:Promise}function MN(n){return n&&le(n.next)&&le(n.error)&&le(n.complete)}function NN(n){return n&&n instanceof Fo||MN(n)&&Od(n)}function dm(n){return le(n?.lift)}function Pe(n){return e=>{if(dm(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function De(n,e,t,r,i){return new hm(n,e,t,r,i)}var hm=class extends Fo{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function na(){return Pe((n,e)=>{let t=null;n._refCount++;let r=De(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ra=class extends Ce{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,dm(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rt;let t=this.getSubject();e.add(this.source.subscribe(De(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rt.EMPTY)}return e}refCount(){return na()(this)}};var HE=Zs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Pt=(()=>{class n extends Ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Vd(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new HE}next(t){Xs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Xs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Xs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?om:(this.currentObservers=null,o.push(t),new rt(()=>{this.currentObservers=null,Oo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Ce;return t.source=this,t}}return n.create=(e,t)=>new Vd(e,t),n})(),Vd=class extends Pt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:om}};var Ot=class extends Pt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var fm={now(){return(fm.delegate||Date).now()},delegate:void 0};var jd=class extends rt{constructor(e,t){super()}schedule(e,t=0){return this}};var Zc={setInterval(n,e,...t){let{delegate:r}=Zc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Zc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ia=class extends jd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Zc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Zc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Oo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var oa=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};oa.now=fm.now;var sa=class extends oa{constructor(e,t=oa.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var pm=new sa(ia);var Ud=class extends ia{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Bd=class extends sa{};var gm=new Bd(Ud);var dn=new Ce(n=>n.complete());function zE(n){return n&&le(n.schedule)}function qE(n){return n[n.length-1]}function $d(n){return le(qE(n))?n.pop():void 0}function Vi(n){return zE(qE(n))?n.pop():void 0}function mm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function WE(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(g){s(g)}}function u(p){try{d(r.throw(p))}catch(g){s(g)}}function d(p){p.done?o(p.value):i(p.value).then(a,u)}d((r=r.apply(n,e||[])).next())})}function GE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Lo(n){return this instanceof Lo?(this.v=n,this):new Lo(n)}function KE(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(I){return function(M){return Promise.resolve(M).then(I,g)}}function a(I,M){r[I]&&(i[I]=function(L){return new Promise(function(k,H){o.push([I,L,k,H])>1||u(I,L)})},M&&(i[I]=M(i[I])))}function u(I,M){try{d(r[I](M))}catch(L){_(o[0][3],L)}}function d(I){I.value instanceof Lo?Promise.resolve(I.value.v).then(p,g):_(o[0][2],I)}function p(I){u("next",I)}function g(I){u("throw",I)}function _(I,M){I(M),o.shift(),o.length&&u(o[0][0],o[0][1])}}function QE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof GE=="function"?GE(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(d){o({value:d,done:a})},s)}}var Hd=n=>n&&typeof n.length=="number"&&typeof n!="function";function zd(n){return le(n?.then)}function qd(n){return le(n[ta])}function Gd(n){return Symbol.asyncIterator&&le(n?.[Symbol.asyncIterator])}function Wd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function PN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Kd=PN();function Qd(n){return le(n?.[Kd])}function Yd(n){return KE(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Lo(t.read());if(i)return yield Lo(void 0);yield yield Lo(r)}}finally{t.releaseLock()}})}function Zd(n){return le(n?.getReader)}function lt(n){if(n instanceof Ce)return n;if(n!=null){if(qd(n))return ON(n);if(Hd(n))return kN(n);if(zd(n))return FN(n);if(Gd(n))return YE(n);if(Qd(n))return LN(n);if(Zd(n))return VN(n)}throw Wd(n)}function ON(n){return new Ce(e=>{let t=n[ta]();if(le(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kN(n){return new Ce(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function FN(n){return new Ce(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,kd)})}function LN(n){return new Ce(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function YE(n){return new Ce(e=>{jN(n,e).catch(t=>e.error(t))})}function VN(n){return YE(Yd(n))}function jN(n,e){var t,r,i,o;return WE(this,void 0,void 0,function*(){try{for(t=QE(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function tn(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function ji(n,e=0){return Pe((t,r)=>{t.subscribe(De(r,i=>tn(r,n,()=>r.next(i),e),()=>tn(r,n,()=>r.complete(),e),i=>tn(r,n,()=>r.error(i),e)))})}function Ui(n,e=0){return Pe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ZE(n,e){return lt(n).pipe(Ui(e),ji(e))}function JE(n,e){return lt(n).pipe(Ui(e),ji(e))}function XE(n,e){return new Ce(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function eb(n,e){return new Ce(t=>{let r;return tn(t,e,()=>{r=n[Kd](),tn(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>le(r?.return)&&r.return()})}function Jd(n,e){if(!n)throw new Error("Iterable cannot be null");return new Ce(t=>{tn(t,e,()=>{let r=n[Symbol.asyncIterator]();tn(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function tb(n,e){return Jd(Yd(n),e)}function nb(n,e){if(n!=null){if(qd(n))return ZE(n,e);if(Hd(n))return XE(n,e);if(zd(n))return JE(n,e);if(Gd(n))return Jd(n,e);if(Qd(n))return eb(n,e);if(Zd(n))return tb(n,e)}throw Wd(n)}function it(n,e){return e?nb(n,e):lt(n)}function oe(...n){let e=Vi(n);return it(n,e)}function aa(n,e){let t=le(n)?n:()=>n,r=i=>i.error(t());return new Ce(e?i=>e.schedule(r,0,i):r)}function ym(n){return!!n&&(n instanceof Ce||le(n.lift)&&le(n.subscribe))}var Hr=Zs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function se(n,e){return Pe((t,r)=>{let i=0;t.subscribe(De(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:UN}=Array;function BN(n,e){return UN(e)?n(...e):n(e)}function Xd(n){return se(e=>BN(n,e))}var{isArray:$N}=Array,{getPrototypeOf:HN,prototype:zN,keys:qN}=Object;function eh(n){if(n.length===1){let e=n[0];if($N(e))return{args:e,keys:null};if(GN(e)){let t=qN(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function GN(n){return n&&typeof n=="object"&&HN(n)===zN}function th(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function nh(...n){let e=Vi(n),t=$d(n),{args:r,keys:i}=eh(n);if(r.length===0)return it([],e);let o=new Ce(WN(r,e,i?s=>th(i,s):ln));return t?o.pipe(Xd(t)):o}function WN(n,e,t=ln){return r=>{rb(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)rb(e,()=>{let d=it(n[u],e),p=!1;d.subscribe(De(r,g=>{o[u]=g,p||(p=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function rb(n,e,t){n?tn(t,n,e):e()}function ib(n,e,t,r,i,o,s,a){let u=[],d=0,p=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},I=L=>d<r?M(L):u.push(L),M=L=>{o&&e.next(L),d++;let k=!1;lt(t(L,p++)).subscribe(De(e,H=>{i?.(H),o?I(H):e.next(H)},()=>{k=!0},void 0,()=>{if(k)try{for(d--;u.length&&d<r;){let H=u.shift();s?tn(e,s,()=>M(H)):M(H)}_()}catch(H){e.error(H)}}))};return n.subscribe(De(e,I,()=>{g=!0,_()})),()=>{a?.()}}function wt(n,e,t=1/0){return le(e)?wt((r,i)=>se((o,s)=>e(r,o,i,s))(lt(n(r,i))),t):(typeof e=="number"&&(t=e),Pe((r,i)=>ib(r,i,n,t)))}function vm(n=1/0){return wt(ln,n)}function ob(){return vm(1)}function ca(...n){return ob()(it(n,Vi(n)))}function rh(n){return new Ce(e=>{lt(n()).subscribe(e)})}function wm(...n){let e=$d(n),{args:t,keys:r}=eh(n),i=new Ce(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,d=s;for(let p=0;p<s;p++){let g=!1;lt(t[p]).subscribe(De(o,_=>{g||(g=!0,d--),a[p]=_},()=>u--,void 0,()=>{(!u||!g)&&(d||o.next(r?th(r,a):a),o.complete())}))}});return e?i.pipe(Xd(e)):i}function En(n,e){return Pe((t,r)=>{let i=0;t.subscribe(De(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Bi(n){return Pe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(De(t,void 0,void 0,s=>{o=lt(n(s,Bi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function sb(n,e,t,r,i){return(o,s)=>{let a=t,u=e,d=0;o.subscribe(De(s,p=>{let g=d++;u=a?n(u,p,g):(a=!0,p),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function ua(n,e){return le(e)?wt(n,e,1):wt(n,1)}function $i(n){return Pe((e,t)=>{let r=!1;e.subscribe(De(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function zr(n){return n<=0?()=>dn:Pe((e,t)=>{let r=0;e.subscribe(De(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function _m(n){return se(()=>n)}function ih(n=KN){return Pe((e,t)=>{let r=!1;e.subscribe(De(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function KN(){return new Hr}function Jc(n){return Pe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function fr(n,e){let t=arguments.length>=2;return r=>r.pipe(n?En((i,o)=>n(i,o,r)):ln,zr(1),t?$i(e):ih(()=>new Hr))}function la(n){return n<=0?()=>dn:Pe((e,t)=>{let r=[];e.subscribe(De(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Im(n,e){let t=arguments.length>=2;return r=>r.pipe(n?En((i,o)=>n(i,o,r)):ln,la(1),t?$i(e):ih(()=>new Hr))}function oh(n,e){return Pe(sb(n,e,arguments.length>=2,!0))}function sh(...n){let e=Vi(n);return Pe((t,r)=>{(e?ca(n,t,e):ca(n,t)).subscribe(r)})}function qn(n,e){return Pe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(De(r,u=>{i?.unsubscribe();let d=0,p=o++;lt(n(u,p)).subscribe(i=De(r,g=>r.next(e?e(u,g,p,d++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Em(n){return Pe((e,t)=>{lt(n).subscribe(De(t,()=>t.complete(),Yc)),!t.closed&&e.subscribe(t)})}function _t(n,e,t){let r=le(n)||e||t?{next:n,error:e,complete:t}:n;return r?Pe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(De(o,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),o.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):ln}var QN="https://g.co/ng/security#xss",Z=class extends Error{constructor(e,t){super(Fy(e,t)),this.code=e}};function Fy(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function pu(n){return{toString:n}.toString()}var ah="__parameters__";function YN(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function Wb(n,e,t){return pu(()=>{let r=YN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,d,p){let g=u.hasOwnProperty(ah)?u[ah]:Object.defineProperty(u,ah,{value:[]})[ah];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Xc=globalThis;function ze(n){for(let e in n)if(n[e]===ze)return e;throw Error("Could not find renamed property on target object.")}function ZN(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Kt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Kt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function ab(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var JN=ze({__forward_ref__:ze});function Tn(n){return n.__forward_ref__=Tn,n.toString=function(){return Kt(this())},n}function Wt(n){return Kb(n)?n():n}function Kb(n){return typeof n=="function"&&n.hasOwnProperty(JN)&&n.__forward_ref__===Tn}function te(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Qo(n){return{providers:n.providers||[],imports:n.imports||[]}}function Uh(n){return cb(n,Yb)||cb(n,Zb)}function Qb(n){return Uh(n)!==null}function cb(n,e){return n.hasOwnProperty(e)?n[e]:null}function XN(n){let e=n&&(n[Yb]||n[Zb]);return e||null}function ub(n){return n&&(n.hasOwnProperty(lb)||n.hasOwnProperty(eP))?n[lb]:null}var Yb=ze({\u0275prov:ze}),lb=ze({\u0275inj:ze}),Zb=ze({ngInjectableDef:ze}),eP=ze({ngInjectorDef:ze}),J=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=te({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Jb(n){return n&&!!n.\u0275providers}var tP=ze({\u0275cmp:ze}),nP=ze({\u0275dir:ze}),rP=ze({\u0275pipe:ze}),iP=ze({\u0275mod:ze}),mh=ze({\u0275fac:ze}),nu=ze({__NG_ELEMENT_ID__:ze}),db=ze({__NG_ENV_ID__:ze});function zi(n){return typeof n=="string"?n:n==null?"":String(n)}function oP(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():zi(n)}function sP(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Z(-200,n)}function Ly(n,e){throw new Z(-201,!1)}var ve=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ve||{}),Vm;function Xb(){return Vm}function nn(n){let e=Vm;return Vm=n,e}function eC(n,e,t){let r=Uh(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ve.Optional)return null;if(e!==void 0)return e;Ly(n,"Injector")}var aP={},ru=aP,jm="__NG_DI_FLAG__",yh="ngTempTokenPath",cP="ngTokenPath",uP=/\n/gm,lP="\u0275",hb="__source",pa;function dP(){return pa}function Hi(n){let e=pa;return pa=n,e}function hP(n,e=ve.Default){if(pa===void 0)throw new Z(-203,!1);return pa===null?eC(n,void 0,e):pa.get(n,e&ve.Optional?null:void 0,e)}function be(n,e=ve.Default){return(Xb()||hP)(Wt(n),e)}function q(n,e=ve.Default){return be(n,Bh(e))}function Bh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Um(n){let e=[];for(let t=0;t<n.length;t++){let r=Wt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Z(900,!1);let i,o=ve.Default;for(let s=0;s<r.length;s++){let a=r[s],u=fP(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(be(i,o))}else e.push(be(r))}return e}function tC(n,e){return n[jm]=e,n.prototype[jm]=e,n}function fP(n){return n[jm]}function pP(n,e,t,r){let i=n[yh];throw e[hb]&&i.unshift(e[hb]),n.message=gP(`
`+n.message,i,t,r),n[cP]=i,n[yh]=null,n}function gP(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==lP?n.slice(2):n;let i=Kt(e);if(Array.isArray(e))i=e.map(Kt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Kt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(uP,`
  `)}`}var Bt=tC(Wb("Optional"),8);var Vy=tC(Wb("SkipSelf"),4);function Uo(n,e){let t=n.hasOwnProperty(mh);return t?n[mh]:null}function jy(n,e){n.forEach(t=>Array.isArray(t)?jy(t,e):e(t))}function nC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function vh(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function mP(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function yP(n,e,t){let r=gu(n,e);return r>=0?n[r|1]=t:(r=~r,mP(n,r,e,t)),r}function bm(n,e){let t=gu(n,e);if(t>=0)return n[t|1]}function gu(n,e){return vP(n,e,1)}function vP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var ma={},bn=[],ya=new J(""),rC=new J("",-1),iC=new J(""),wh=class{get(e,t=ru){if(t===ru){let r=new Error(`NullInjectorError: No provider for ${Kt(e)}!`);throw r.name="NullInjectorError",r}return t}},oC=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(oC||{}),mr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(mr||{}),Wi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Wi||{});function wP(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function Bm(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];IP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function _P(n){return n===3||n===4||n===6}function IP(n){return n.charCodeAt(0)===64}function iu(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?fb(n,t,i,null,e[++r]):fb(n,t,i,null,null))}}return n}function fb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var sC="ng-template";function EP(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&wP(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Uy(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Uy(n){return n.type===4&&n.value!==sC}function bP(n,e,t){let r=n.type===4&&!t?sC:n.value;return e===r}function CP(n,e,t){let r=4,i=n.attrs,o=i!==null?SP(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Gn(r)&&!Gn(u))return!1;if(s&&Gn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!bP(n,u,t)||u===""&&e.length===1){if(Gn(r))return!1;s=!0}}else if(r&8){if(i===null||!EP(n,i,u,t)){if(Gn(r))return!1;s=!0}}else{let d=e[++a],p=DP(u,i,Uy(n),t);if(p===-1){if(Gn(r))return!1;s=!0;continue}if(d!==""){let g;if(p>o?g="":g=i[p+1].toLowerCase(),r&2&&d!==g){if(Gn(r))return!1;s=!0}}}}return Gn(r)||s}function Gn(n){return(n&1)===0}function DP(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return AP(e,n)}function TP(n,e,t=!1){for(let r=0;r<e.length;r++)if(CP(n,e[r],t))return!0;return!1}function SP(n){for(let e=0;e<n.length;e++){let t=n[e];if(_P(t))return e}return n.length}function AP(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function pb(n,e){return n?":not("+e.trim()+")":e}function xP(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Gn(s)&&(e+=pb(o,i),i=""),r=s,o=o||!Gn(r);t++}return i!==""&&(e+=pb(o,i)),e}function RP(n){return n.map(xP).join(",")}function MP(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Gn(i))break;i=o}r++}return{attrs:e,classes:t}}function wr(n){return pu(()=>{let e=dC(n),t=re($({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===oC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||mr.Emulated,styles:n.styles||bn,_:null,schemas:n.schemas||null,tView:null,id:""});hC(t);let r=n.dependencies;return t.directiveDefs=mb(r,!1),t.pipeDefs=mb(r,!0),t.id=OP(t),t})}function NP(n){return Bo(n)||aC(n)}function PP(n){return n!==null}function Yo(n){return pu(()=>({type:n.type,bootstrap:n.bootstrap||bn,declarations:n.declarations||bn,imports:n.imports||bn,exports:n.exports||bn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function gb(n,e){if(n==null)return ma;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=Wi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==Wi.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Xe(n){return pu(()=>{let e=dC(n);return hC(e),e})}function $h(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Bo(n){return n[tP]||null}function aC(n){return n[nP]||null}function cC(n){return n[rP]||null}function uC(n){let e=Bo(n)||aC(n)||cC(n);return e!==null?e.standalone:!1}function lC(n,e){let t=n[iP]||null;if(!t&&e===!0)throw new Error(`Type ${Kt(n)} does not have '\u0275mod' property.`);return t}function dC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||ma,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||bn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gb(n.inputs,e),outputs:gb(n.outputs),debugInfo:null}}function hC(n){n.features?.forEach(e=>e(n))}function mb(n,e){if(!n)return null;let t=e?cC:NP;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(PP)}function OP(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function _r(n){return{\u0275providers:n}}function kP(...n){return{\u0275providers:fC(!0,n),\u0275fromNgModule:!0}}function fC(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return jy(e,s=>{let a=s;$m(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&pC(i,o),t}function pC(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];By(i,o=>{e(o,r)})}}function $m(n,e,t,r){if(n=Wt(n),!n)return!1;let i=null,o=ub(n),s=!o&&Bo(n);if(!o&&!s){let u=n.ngModule;if(o=ub(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)$m(d,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{jy(o.imports,p=>{$m(p,e,t,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&pC(d,e)}if(!a){let d=Uo(i)||(()=>new i);e({provide:i,useFactory:d,deps:bn},i),e({provide:iC,useValue:i,multi:!0},i),e({provide:ya,useValue:()=>be(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let d=n;By(u,p=>{e(p,d)})}}else return!1;return i!==n&&n.providers!==void 0}function By(n,e){for(let t of n)Jb(t)&&(t=t.\u0275providers),Array.isArray(t)?By(t,e):e(t)}var FP=ze({provide:String,useValue:ze});function gC(n){return n!==null&&typeof n=="object"&&FP in n}function LP(n){return!!(n&&n.useExisting)}function VP(n){return!!(n&&n.useFactory)}function va(n){return typeof n=="function"}function jP(n){return!!n.useClass}var Hh=new J(""),dh={},UP={},Cm;function $y(){return Cm===void 0&&(Cm=new wh),Cm}var Dn=class{},ou=class extends Dn{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,zm(e,s=>this.processProvider(s)),this.records.set(rC,da(void 0,this)),i.has("environment")&&this.records.set(Dn,da(void 0,this));let o=this.records.get(Hh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(iC,bn,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ee(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ee(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Hi(this),r=nn(void 0),i;try{return e()}finally{Hi(t),nn(r)}}get(e,t=ru,r=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(db))return e[db](this);r=Bh(r);let i,o=Hi(this),s=nn(void 0);try{if(!(r&ve.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=qP(e)&&Uh(e);d&&this.injectableDefInScope(d)?u=da(Hm(e),dh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ve.Self?$y():this.parent;return t=r&ve.Optional&&t===ru?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[yh]=a[yh]||[]).unshift(Kt(e)),o)throw a;return pP(a,e,"R3InjectorError",this.source)}else throw a}finally{nn(s),Hi(o)}}resolveInjectorInitializers(){let e=Ee(null),t=Hi(this),r=nn(void 0),i;try{let o=this.get(ya,bn,ve.Self);for(let s of o)s()}finally{Hi(t),nn(r),Ee(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Kt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(e){e=Wt(e);let t=va(e)?e:Wt(e&&e.provide),r=$P(e);if(!va(e)&&e.multi===!0){let i=this.records.get(t);i||(i=da(void 0,dh,!0),i.factory=()=>Um(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Ee(null);try{return t.value===dh&&(t.value=UP,t.value=t.factory()),typeof t.value=="object"&&t.value&&zP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ee(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Wt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Hm(n){let e=Uh(n),t=e!==null?e.factory:Uo(n);if(t!==null)return t;if(n instanceof J)throw new Z(204,!1);if(n instanceof Function)return BP(n);throw new Z(204,!1)}function BP(n){if(n.length>0)throw new Z(204,!1);let t=XN(n);return t!==null?()=>t.factory(n):()=>new n}function $P(n){if(gC(n))return da(void 0,n.useValue);{let e=mC(n);return da(e,dh)}}function mC(n,e,t){let r;if(va(n)){let i=Wt(n);return Uo(i)||Hm(i)}else if(gC(n))r=()=>Wt(n.useValue);else if(VP(n))r=()=>n.useFactory(...Um(n.deps||[]));else if(LP(n))r=()=>be(Wt(n.useExisting));else{let i=Wt(n&&(n.useClass||n.provide));if(HP(n))r=()=>new i(...Um(n.deps));else return Uo(i)||Hm(i)}return r}function da(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function HP(n){return!!n.deps}function zP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function qP(n){return typeof n=="function"||typeof n=="object"&&n instanceof J}function zm(n,e){for(let t of n)Array.isArray(t)?zm(t,e):t&&Jb(t)?zm(t.\u0275providers,e):e(t)}function Kr(n,e){n instanceof ou&&n.assertNotDestroyed();let t,r=Hi(n),i=nn(void 0);try{return e()}finally{Hi(r),nn(i)}}function GP(){return Xb()!==void 0||dP()!=null}function WP(n){return typeof n=="function"}var Qr=0,he=1,ae=2,Yt=3,Wn=4,Yn=5,su=6,_h=7,Ut=8,wa=9,qr=10,Et=11,au=12,yb=13,Aa=14,Kn=15,_a=16,ha=17,Ia=18,zh=19,yC=20,qi=21,Dm=22,Cn=23,rn=25,vC=1;var $o=7,Ih=8,Eh=9,Qt=10,bh=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(bh||{});function Gi(n){return Array.isArray(n)&&typeof n[vC]=="object"}function Yr(n){return Array.isArray(n)&&n[vC]===!0}function wC(n){return(n.flags&4)!==0}function qh(n){return n.componentOffset>-1}function Hy(n){return(n.flags&1)===1}function Ki(n){return!!n.template}function qm(n){return(n[ae]&512)!==0}var Gm=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function _C(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Zo(){return IC}function IC(n){return n.type.prototype.ngOnChanges&&(n.setInput=QP),KP}Zo.ngInherit=!0;function KP(){let n=bC(this),e=n?.current;if(e){let t=n.previous;if(t===ma)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function QP(n,e,t,r,i){let o=this.declaredInputs[r],s=bC(n)||YP(n,{previous:ma,current:null}),a=s.current||(s.current={}),u=s.previous,d=u[o];a[o]=new Gm(d&&d.currentValue,t,u===ma),_C(n,e,i,t)}var EC="__ngSimpleChanges__";function bC(n){return n[EC]||null}function YP(n,e){return n[EC]=e}var vb=null;var pr=function(n,e,t){vb?.(n,e,t)},ZP="svg",JP="math";function yr(n){for(;Array.isArray(n);)n=n[Qr];return n}function CC(n,e){return yr(e[n])}function Sn(n,e){return yr(e[n.index])}function zy(n,e){return n.data[e]}function DC(n,e){return n[e]}function Yi(n,e){let t=e[n];return Gi(t)?t:t[Qr]}function qy(n){return(n[ae]&128)===128}function XP(n){return Yr(n[Yt])}function Ea(n,e){return e==null?null:n[e]}function TC(n){n[ha]=0}function SC(n){n[ae]&1024||(n[ae]|=1024,qy(n)&&Wh(n))}function e1(n,e){for(;n>0;)e=e[Aa],n--;return e}function Gh(n){return!!(n[ae]&9216||n[Cn]?.dirty)}function Wm(n){n[qr].changeDetectionScheduler?.notify(8),n[ae]&64&&(n[ae]|=1024),Gh(n)&&Wh(n)}function Wh(n){n[qr].changeDetectionScheduler?.notify(0);let e=Ho(n);for(;e!==null&&!(e[ae]&8192||(e[ae]|=8192,!qy(e)));)e=Ho(e)}function AC(n,e){if((n[ae]&256)===256)throw new Z(911,!1);n[qi]===null&&(n[qi]=[]),n[qi].push(e)}function t1(n,e){if(n[qi]===null)return;let t=n[qi].indexOf(e);t!==-1&&n[qi].splice(t,1)}function Ho(n){let e=n[Yt];return Yr(e)?e[Yt]:e}var _e={lFrame:VC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var xC=!1;function n1(){return _e.lFrame.elementDepthCount}function r1(){_e.lFrame.elementDepthCount++}function i1(){_e.lFrame.elementDepthCount--}function RC(){return _e.bindingsEnabled}function o1(){return _e.skipHydrationRootTNode!==null}function s1(n){return _e.skipHydrationRootTNode===n}function a1(){_e.skipHydrationRootTNode=null}function Te(){return _e.lFrame.lView}function Zt(){return _e.lFrame.tView}function Ge(n){return _e.lFrame.contextLView=n,n[Ut]}function We(n){return _e.lFrame.contextLView=null,n}function sn(){let n=MC();for(;n!==null&&n.type===64;)n=n.parent;return n}function MC(){return _e.lFrame.currentTNode}function c1(){let n=_e.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function mu(n,e){let t=_e.lFrame;t.currentTNode=n,t.isParent=e}function NC(){return _e.lFrame.isParent}function u1(){_e.lFrame.isParent=!1}function PC(){return xC}function wb(n){xC=n}function yu(){let n=_e.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function OC(){return _e.lFrame.bindingIndex}function l1(n){return _e.lFrame.bindingIndex=n}function xa(){return _e.lFrame.bindingIndex++}function Gy(n){let e=_e.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function d1(){return _e.lFrame.inI18n}function h1(n,e){let t=_e.lFrame;t.bindingIndex=t.bindingRootIndex=n,Km(e)}function f1(){return _e.lFrame.currentDirectiveIndex}function Km(n){_e.lFrame.currentDirectiveIndex=n}function p1(n){let e=_e.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function kC(n){_e.lFrame.currentQueryIndex=n}function g1(n){let e=n[he];return e.type===2?e.declTNode:e.type===1?n[Yn]:null}function FC(n,e,t){if(t&ve.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&ve.Host);)if(i=g1(o),i===null||(o=o[Aa],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=_e.lFrame=LC();return r.currentTNode=e,r.lView=n,!0}function Wy(n){let e=LC(),t=n[he];_e.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function LC(){let n=_e.lFrame,e=n===null?null:n.child;return e===null?VC(n):e}function VC(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function jC(){let n=_e.lFrame;return _e.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var UC=jC;function Ky(){let n=jC();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function m1(n){return(_e.lFrame.contextLView=e1(n,_e.lFrame.contextLView))[Ut]}function Zr(){return _e.lFrame.selectedIndex}function zo(n){_e.lFrame.selectedIndex=n}function Qy(){let n=_e.lFrame;return zy(n.tView,n.selectedIndex)}function y1(){return _e.lFrame.currentNamespace}var BC=!0;function Yy(){return BC}function Zy(n){BC=n}function v1(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=IC(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Jy(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),p!=null&&(n.destroyHooks??=[]).push(t,p)}}function hh(n,e,t){$C(n,e,3,t)}function fh(n,e,t,r){(n[ae]&3)===t&&$C(n,e,t,r)}function Tm(n,e){let t=n[ae];(t&3)===e&&(t&=16383,t+=1,n[ae]=t)}function $C(n,e,t,r){let i=r!==void 0?n[ha]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[ha]+=65536),(a<o||o==-1)&&(w1(n,t,e,u),n[ha]=(n[ha]&4294901760)+u+2),u++}function _b(n,e){pr(4,n,e);let t=Ee(null);try{e.call(n)}finally{Ee(t),pr(5,n,e)}}function w1(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ae]>>14<n[ha]>>16&&(n[ae]&3)===e&&(n[ae]+=16384,_b(a,o)):_b(a,o)}var ga=-1,qo=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function _1(n){return n instanceof qo}function I1(n){return(n.flags&8)!==0}function E1(n){return(n.flags&16)!==0}var Sm={},Qm=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Bh(r);let i=this.injector.get(e,Sm,r);return i!==Sm||t===Sm?i:this.parentInjector.get(e,t,r)}};function HC(n){return n!==ga}function Ch(n){return n&32767}function b1(n){return n>>16}function Dh(n,e){let t=b1(n),r=e;for(;t>0;)r=r[Aa],t--;return r}var Ym=!0;function Th(n){let e=Ym;return Ym=n,e}var C1=256,zC=C1-1,qC=5,D1=0,gr={};function T1(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(nu)&&(r=t[nu]),r==null&&(r=t[nu]=D1++);let i=r&zC,o=1<<i;e.data[n+(i>>qC)]|=o}function Sh(n,e){let t=GC(n,e);if(t!==-1)return t;let r=e[he];r.firstCreatePass&&(n.injectorIndex=e.length,Am(r.data,n),Am(e,null),Am(r.blueprint,null));let i=Xy(n,e),o=n.injectorIndex;if(HC(i)){let s=Ch(i),a=Dh(i,e),u=a[he].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|u[s+d]}return e[o+8]=i,o}function Am(n,e){n.push(0,0,0,0,0,0,0,0,e)}function GC(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Xy(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=ZC(i),r===null)return ga;if(t++,i=i[Aa],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ga}function Zm(n,e,t){T1(n,e,t)}function WC(n,e,t){if(t&ve.Optional||n!==void 0)return n;Ly(e,"NodeInjector")}function KC(n,e,t,r){if(t&ve.Optional&&r===void 0&&(r=null),!(t&(ve.Self|ve.Host))){let i=n[wa],o=nn(void 0);try{return i?i.get(e,r,t&ve.Optional):eC(e,r,t&ve.Optional)}finally{nn(o)}}return WC(r,e,t)}function QC(n,e,t,r=ve.Default,i){if(n!==null){if(e[ae]&2048&&!(r&ve.Self)){let s=M1(n,e,t,r,gr);if(s!==gr)return s}let o=YC(n,e,t,r,gr);if(o!==gr)return o}return KC(e,t,r,i)}function YC(n,e,t,r,i){let o=x1(t);if(typeof o=="function"){if(!FC(e,n,r))return r&ve.Host?WC(i,t,r):KC(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&ve.Optional))Ly(t);else return s}finally{UC()}}else if(typeof o=="number"){let s=null,a=GC(n,e),u=ga,d=r&ve.Host?e[Kn][Yn]:null;for((a===-1||r&ve.SkipSelf)&&(u=a===-1?Xy(n,e):e[a+8],u===ga||!Eb(r,!1)?a=-1:(s=e[he],a=Ch(u),e=Dh(u,e)));a!==-1;){let p=e[he];if(Ib(o,a,p.data)){let g=S1(a,e,t,s,r,d);if(g!==gr)return g}u=e[a+8],u!==ga&&Eb(r,e[he].data[a+8]===d)&&Ib(o,a,e)?(s=p,a=Ch(u),e=Dh(u,e)):a=-1}}return i}function S1(n,e,t,r,i,o){let s=e[he],a=s.data[n+8],u=r==null?qh(a)&&Ym:r!=s&&(a.type&3)!==0,d=i&ve.Host&&o===a,p=A1(a,s,t,u,d);return p!==null?ba(e,s,p,a):gr}function A1(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,d=n.directiveEnd,p=o>>20,g=r?a:a+p,_=i?a+p:d;for(let I=g;I<_;I++){let M=s[I];if(I<u&&t===M||I>=u&&M.type===t)return I}if(i){let I=s[u];if(I&&Ki(I)&&I.type===t)return u}return null}function ba(n,e,t,r){let i=n[t],o=e.data;if(_1(i)){let s=i;s.resolving&&sP(oP(o[t]));let a=Th(s.canSeeViewProviders);s.resolving=!0;let u,d=s.injectImpl?nn(s.injectImpl):null,p=FC(n,r,ve.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&v1(t,o[t],e)}finally{d!==null&&nn(d),Th(a),s.resolving=!1,UC()}}return i}function x1(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(nu)?n[nu]:void 0;return typeof e=="number"?e>=0?e&zC:R1:e}function Ib(n,e,t){let r=1<<n;return!!(t[e+(n>>qC)]&r)}function Eb(n,e){return!(n&ve.Self)&&!(n&ve.Host&&e)}var jo=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return QC(this._tNode,this._lView,e,Bh(r),t)}};function R1(){return new jo(sn(),Te())}function An(n){return pu(()=>{let e=n.prototype.constructor,t=e[mh]||Jm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[mh]||Jm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Jm(n){return Kb(n)?()=>{let e=Jm(Wt(n));return e&&e()}:Uo(n)}function M1(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ae]&2048&&!(s[ae]&512);){let a=YC(o,s,t,r|ve.Self,gr);if(a!==gr)return a;let u=o.parent;if(!u){let d=s[yC];if(d){let p=d.get(t,gr,r);if(p!==gr)return p}u=ZC(s),s=s[Aa]}o=u}return i}function ZC(n){let e=n[he],t=e.type;return t===2?e.declTNode:t===1?n[Yn]:null}function bb(n,e=null,t=null,r){let i=JC(n,e,t,r);return i.resolveInjectorInitializers(),i}function JC(n,e=null,t=null,r,i=new Set){let o=[t||bn,kP(n)];return r=r||(typeof n=="object"?void 0:Kt(n)),new ou(o,e||$y(),r||null,i)}var on=class n{static{this.THROW_IF_NOT_FOUND=ru}static{this.NULL=new wh}static create(e,t){if(Array.isArray(e))return bb({name:""},t,e,"");{let r=e.name??"";return bb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=te({token:n,providedIn:"any",factory:()=>be(rC)})}static{this.__NG_ELEMENT_ID__=-1}};var N1=new J("");N1.__NG_ELEMENT_ID__=n=>{let e=sn();if(e===null)throw new Z(204,!1);if(e.type&2)return e.value;if(n&ve.Optional)return null;throw new Z(204,!1)};var P1="ngOriginalError";function xm(n){return n[P1]}var XC=!0,eD=(()=>{class n{static{this.__NG_ELEMENT_ID__=O1}static{this.__NG_ENV_ID__=t=>t}}return n})(),Xm=class extends eD{constructor(e){super(),this._lView=e}onDestroy(e){return AC(this._lView,e),()=>t1(this._lView,e)}};function O1(){return new Xm(Te())}var Ra=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ot(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}}return n})();var ey=class extends Pt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,GP()&&(this.destroyRef=q(eD,{optional:!0})??void 0,this.pendingTasks=q(Ra,{optional:!0})??void 0)}emit(e){let t=Ee(null);try{super.next(e)}finally{Ee(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof rt&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},It=ey;function Ah(...n){}function tD(n){let e,t;function r(){n=Ah;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Cb(n){return queueMicrotask(()=>n()),()=>{n=Ah}}var ev="isAngularZone",xh=ev+"_ID",k1=0,Be=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new It(!1),this.onMicrotaskEmpty=new It(!1),this.onStable=new It(!1),this.onError=new It(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=XC}=e;if(typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,V1(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ev)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Z(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,F1,Ah,Ah);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},F1={};function tv(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function L1(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){tD(()=>{n.callbackScheduled=!1,ty(n),n.isCheckStableRunning=!0,tv(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),ty(n)}function V1(n){let e=()=>{L1(n)},t=k1++;n._inner=n._inner.fork({name:"angular",properties:{[ev]:!0,[xh]:t,[xh+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(j1(u))return r.invokeTask(o,s,a,u);try{return Db(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Tb(n)}},onInvoke:(r,i,o,s,a,u,d)=>{try{return Db(n),r.invoke(o,s,a,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!U1(u)&&e(),Tb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,ty(n),tv(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function ty(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Db(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Tb(n){n._nesting--,tv(n)}var ny=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new It,this.onMicrotaskEmpty=new It,this.onStable=new It,this.onError=new It}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function j1(n){return nD(n,"__ignore_ng_zone__")}function U1(n){return nD(n,"__scheduler_tick__")}function nD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Gr=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&xm(e);for(;t&&xm(t);)t=xm(t);return t||null}},B1=new J("",{providedIn:"root",factory:()=>{let n=q(Be),e=q(Gr);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function $1(){return Kh(sn(),Te())}function Kh(n,e){return new Zn(Sn(n,e))}var Zn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=$1}}return n})();function rD(n){return(n.flags&128)===128}var iD=new Map,H1=0;function z1(){return H1++}function q1(n){iD.set(n[zh],n)}function ry(n){iD.delete(n[zh])}var Sb="__ngContext__";function Go(n,e){Gi(e)?(n[Sb]=e[zh],q1(e)):n[Sb]=e}function oD(n){return aD(n[au])}function sD(n){return aD(n[Wn])}function aD(n){for(;n!==null&&!Yr(n);)n=n[Wn];return n}var iy;function cD(n){iy=n}function G1(){if(iy!==void 0)return iy;if(typeof document<"u")return document;throw new Z(210,!1)}var nv=new J("",{providedIn:"root",factory:()=>W1}),W1="ng",rv=new J(""),Zi=new J("",{providedIn:"platform",factory:()=>"unknown"});var iv=new J("",{providedIn:"root",factory:()=>G1().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var K1="h",Q1="b";var Y1=()=>null;function ov(n,e,t=!1){return Y1(n,e,t)}var uD=!1,Z1=new J("",{providedIn:"root",factory:()=>uD});var oy=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${QN})`}};function sv(n){return n instanceof oy?n.changingThisBreaksApplicationSecurity:n}function lD(n){return n instanceof Function?n():n}var vr=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(vr||{}),J1;function av(n,e){return J1(n,e)}function fa(n,e,t,r,i){if(r!=null){let o,s=!1;Yr(r)?o=r:Gi(r)&&(s=!0,r=r[Qr]);let a=yr(r);n===0&&t!==null?i==null?pD(e,t,a):Rh(e,t,a,i||null,!0):n===1&&t!==null?Rh(e,t,a,i||null,!0):n===2?fO(e,a,s):n===3&&e.destroyNode(a),o!=null&&gO(e,n,o,t,i)}}function X1(n,e){return n.createText(e)}function eO(n,e,t){n.setValue(e,t)}function dD(n,e,t){return n.createElement(e,t)}function tO(n,e){hD(n,e),e[Qr]=null,e[Yn]=null}function nO(n,e,t,r,i,o){r[Qr]=i,r[Yn]=e,Yh(n,r,t,1,i,o)}function hD(n,e){e[qr].changeDetectionScheduler?.notify(9),Yh(n,e,e[Et],2,null,null)}function rO(n){let e=n[au];if(!e)return Rm(n[he],n);for(;e;){let t=null;if(Gi(e))t=e[au];else{let r=e[Qt];r&&(t=r)}if(!t){for(;e&&!e[Wn]&&e!==n;)Gi(e)&&Rm(e[he],e),e=e[Yt];e===null&&(e=n),Gi(e)&&Rm(e[he],e),t=e&&e[Wn]}e=t}}function iO(n,e,t,r){let i=Qt+r,o=t.length;r>0&&(t[i-1][Wn]=e),r<o-Qt?(e[Wn]=t[i],nC(t,Qt+r,e)):(t.push(e),e[Wn]=null),e[Yt]=t;let s=e[_a];s!==null&&t!==s&&fD(s,e);let a=e[Ia];a!==null&&a.insertView(n),Wm(e),e[ae]|=128}function fD(n,e){let t=n[Eh],r=e[Yt];if(Gi(r))n[ae]|=bh.HasTransplantedViews;else{let i=r[Yt][Kn];e[Kn]!==i&&(n[ae]|=bh.HasTransplantedViews)}t===null?n[Eh]=[e]:t.push(e)}function cv(n,e){let t=n[Eh],r=t.indexOf(e);t.splice(r,1)}function cu(n,e){if(n.length<=Qt)return;let t=Qt+e,r=n[t];if(r){let i=r[_a];i!==null&&i!==n&&cv(i,r),e>0&&(n[t-1][Wn]=r[Wn]);let o=vh(n,Qt+e);tO(r[he],r);let s=o[Ia];s!==null&&s.detachView(o[he]),r[Yt]=null,r[Wn]=null,r[ae]&=-129}return r}function Qh(n,e){if(!(e[ae]&256)){let t=e[Et];t.destroyNode&&Yh(n,e,t,3,null,null),rO(e)}}function Rm(n,e){if(e[ae]&256)return;let t=Ee(null);try{e[ae]&=-129,e[ae]|=256,e[Cn]&&rm(e[Cn]),sO(n,e),oO(n,e),e[he].type===1&&e[Et].destroy();let r=e[_a];if(r!==null&&Yr(e[Yt])){r!==e[Yt]&&cv(r,e);let i=e[Ia];i!==null&&i.detachView(n)}ry(e)}finally{Ee(t)}}function oO(n,e){let t=n.cleanup,r=e[_h];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[_h]=null);let i=e[qi];if(i!==null){e[qi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function sO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof qo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];pr(4,a,u);try{u.call(a)}finally{pr(5,a,u)}}else{pr(4,i,o);try{o.call(i)}finally{pr(5,i,o)}}}}}function aO(n,e,t){return cO(n,e.parent,t)}function cO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Qr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===mr.None||o===mr.Emulated)return null}return Sn(r,t)}}function Rh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function pD(n,e,t){n.appendChild(e,t)}function Ab(n,e,t,r,i){r!==null?Rh(n,e,t,r,i):pD(n,e,t)}function gD(n,e){return n.parentNode(e)}function uO(n,e){return n.nextSibling(e)}function lO(n,e,t){return hO(n,e,t)}function dO(n,e,t){return n.type&40?Sn(n,t):null}var hO=dO,xb;function uv(n,e,t,r){let i=aO(n,r,e),o=e[Et],s=r.parent||e[Yn],a=lO(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Ab(o,i,t[u],a,!1);else Ab(o,i,t,a,!1);xb!==void 0&&xb(o,r,e,t,i)}function eu(n,e){if(e!==null){let t=e.type;if(t&3)return Sn(e,n);if(t&4)return sy(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return eu(n,r);{let i=n[e.index];return Yr(i)?sy(-1,i):yr(i)}}else{if(t&128)return eu(n,e.next);if(t&32)return av(e,n)()||yr(n[e.index]);{let r=mD(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ho(n[Kn]);return eu(i,r)}else return eu(n,e.next)}}}return null}function mD(n,e){if(e!==null){let r=n[Kn][Yn],i=e.projection;return r.projection[i]}return null}function sy(n,e){let t=Qt+n+1;if(t<e.length){let r=e[t],i=r[he].firstChild;if(i!==null)return eu(r,i)}return e[$o]}function fO(n,e,t){n.removeChild(null,e,t)}function lv(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Go(yr(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)lv(n,e,t.child,r,i,o,!1),fa(e,n,i,a,o);else if(u&32){let d=av(t,r),p;for(;p=d();)fa(e,n,i,p,o);fa(e,n,i,a,o)}else u&16?pO(n,e,r,t,i,o):fa(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Yh(n,e,t,r,i,o){lv(t,r,n.firstChild,e,i,o,!1)}function pO(n,e,t,r,i,o){let s=t[Kn],u=s[Yn].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];fa(e,n,i,p,o)}else{let d=u,p=s[Yt];rD(r)&&(d.flags|=128),lv(n,e,d,p,i,o,!0)}}function gO(n,e,t,r,i){let o=t[$o],s=yr(t);o!==s&&fa(e,n,r,o,i);for(let a=Qt;a<t.length;a++){let u=t[a];Yh(u[he],u,n,e,r,o)}}function mO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:vr.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=vr.Important),n.setStyle(t,r,i,o))}}function yO(n,e,t){n.setAttribute(e,"style",t)}function yD(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function vD(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&Bm(n,e,r),i!==null&&yD(n,e,i),o!==null&&yO(n,e,o)}var hn={};function j(n=1){wD(Zt(),Te(),Zr()+n,!1)}function wD(n,e,t,r){if(!r)if((e[ae]&3)===3){let o=n.preOrderCheckHooks;o!==null&&hh(e,o,t)}else{let o=n.preOrderHooks;o!==null&&fh(e,o,0,t)}zo(t)}function Ie(n,e=ve.Default){let t=Te();if(t===null)return be(n,e);let r=sn();return QC(r,t,Wt(n),e)}function _D(n,e,t,r,i,o){let s=Ee(null);try{let a=null;i&Wi.SignalBased&&(a=e[r][$r]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Wi.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):_C(e,a,r,o)}finally{Ee(s)}}function vO(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)zo(~i);else{let o=i,s=t[++r],a=t[++r];h1(s,o);let u=e[o];a(2,u)}}}finally{zo(-1)}}function Zh(n,e,t,r,i,o,s,a,u,d,p){let g=e.blueprint.slice();return g[Qr]=i,g[ae]=r|4|128|8|64,(d!==null||n&&n[ae]&2048)&&(g[ae]|=2048),TC(g),g[Yt]=g[Aa]=n,g[Ut]=t,g[qr]=s||n&&n[qr],g[Et]=a||n&&n[Et],g[wa]=u||n&&n[wa]||null,g[Yn]=o,g[zh]=z1(),g[su]=p,g[yC]=d,g[Kn]=e.type==2?n[Kn]:g,g}function Jh(n,e,t,r,i){let o=n.data[e];if(o===null)o=wO(n,e,t,r,i),d1()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=c1();o.injectorIndex=s===null?-1:s.injectorIndex}return mu(o,!0),o}function wO(n,e,t,r,i){let o=MC(),s=NC(),a=s?o:o&&o.parent,u=n.data[e]=CO(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function ID(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ED(n,e,t,r,i){let o=Zr(),s=r&2;try{zo(-1),s&&e.length>rn&&wD(n,e,rn,!1),pr(s?2:0,i),t(r,i)}finally{zo(o),pr(s?3:1,i)}}function bD(n,e,t){if(wC(e)){let r=Ee(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Ee(r)}}}function CD(n,e,t){RC()&&(RO(n,e,t,Sn(t,e)),(t.flags&64)===64&&RD(n,e,t))}function DD(n,e,t=Sn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function TD(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=dv(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function dv(n,e,t,r,i,o,s,a,u,d,p){let g=rn+r,_=g+i,I=_O(g,_),M=typeof d=="function"?d():d;return I[he]={type:n,blueprint:I,template:t,queries:null,viewQuery:a,declTNode:e,data:I.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:p}}function _O(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:hn);return t}function IO(n,e,t,r){let o=r.get(Z1,uD)||t===mr.ShadowDom,s=n.selectRootElement(e,o);return EO(s),s}function EO(n){bO(n)}var bO=()=>null;function CO(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return o1()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Rb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Wi.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}n===0?Mb(r,t,d,a,u):Mb(r,t,d,a)}return r}function Mb(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function DO(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let g=o[p],_=t?t.get(g):null,I=_?_.inputs:null,M=_?_.outputs:null;u=Rb(0,g.inputs,p,u,I),d=Rb(1,g.outputs,p,d,M);let L=u!==null&&s!==null&&!Uy(e)?BO(u,p,s):null;a.push(L)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function TO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function SD(n,e,t,r,i,o,s,a){let u=Sn(e,t),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(hv(n,t,p,r,i),qh(e)&&SO(t,e.index)):e.type&3?(r=TO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function SO(n,e){let t=Yi(e,n);t[ae]&16||(t[ae]|=64)}function AD(n,e,t,r){if(RC()){let i=r===null?null:{"":-1},o=NO(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&xD(n,e,t,s,i,a),i&&PO(t,r,i)}t.mergedAttrs=iu(t.mergedAttrs,t.attrs)}function xD(n,e,t,r,i,o){for(let d=0;d<r.length;d++)Zm(Sh(t,e),n,r[d].type);kO(t,n.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,u=ID(n,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];t.mergedAttrs=iu(t.mergedAttrs,p.hostAttrs),FO(n,t,e,u,p),OO(u,p,i),p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let g=p.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}DO(n,t,o)}function AO(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;xO(s)!=a&&s.push(a),s.push(t,r,o)}}function xO(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function RO(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;qh(t)&&LO(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Sh(t,e),Go(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],d=ba(e,n,a,t);if(Go(d,e),s!==null&&UO(e,a-i,d,u,t,s),Ki(u)){let p=Yi(t.index,e);p[Ut]=ba(e,n,a,t)}}}function RD(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=f1();try{zo(o);for(let a=r;a<i;a++){let u=n.data[a],d=e[a];Km(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&MO(u,d)}}finally{zo(-1),Km(s)}}function MO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function NO(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(TP(e,s.selectors,!1))if(r||(r=[]),Ki(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;ay(n,e,u)}else r.unshift(s),ay(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function ay(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function PO(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new Z(-301,!1);r.push(e[i],o)}}}function OO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ki(e)&&(t[""]=n)}}function kO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function FO(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Uo(i.type,!0)),s=new qo(o,Ki(i),Ie);n.blueprint[r]=s,t[r]=s,AO(n,e,r,ID(n,t,i.hostVars,hn),i)}function LO(n,e,t){let r=Sn(e,n),i=TD(t),o=n[qr].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Xh(n,Zh(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function VO(n,e,t,r,i,o){let s=Sn(n,e);jO(e[Et],s,o,n.value,t,r,i)}function jO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?zi(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function UO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],d=s[a++],p=s[a++],g=s[a++];_D(r,t,u,d,p,g)}}function BO(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function MD(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function ND(n,e){let t=n.contentQueries;if(t!==null){let r=Ee(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];kC(o),a.contentQueries(2,e[s],s)}}}finally{Ee(r)}}}function Xh(n,e){return n[au]?n[yb][Wn]=e:n[au]=e,n[yb]=e,e}function cy(n,e,t){kC(0);let r=Ee(null);try{e(n,t)}finally{Ee(r)}}function $O(n){return n[_h]??=[]}function HO(n){return n.cleanup??=[]}function PD(n,e){let t=n[wa],r=t?t.get(Gr,null):null;r&&r.handleError(e)}function hv(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],d=e[s],p=n.data[s];_D(p,d,r,a,u,i)}}function fv(n,e,t){let r=CC(e,n);eO(n[Et],r,t)}function zO(n,e){let t=Yi(e,n),r=t[he];qO(r,t);let i=t[Qr];i!==null&&t[su]===null&&(t[su]=ov(i,t[wa])),pv(r,t,t[Ut])}function qO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function pv(n,e,t){Wy(e);try{let r=n.viewQuery;r!==null&&cy(1,r,t);let i=n.template;i!==null&&ED(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Ia]?.finishViewCreation(n),n.staticContentQueries&&ND(n,e),n.staticViewQueries&&cy(2,n.viewQuery,t);let o=n.components;o!==null&&GO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ae]&=-5,Ky()}}function GO(n,e){for(let t=0;t<e.length;t++)zO(n,e[t])}function ef(n,e,t,r){let i=Ee(null);try{let o=e.tView,a=n[ae]&4096?4096:16,u=Zh(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];u[_a]=d;let p=n[Ia];return p!==null&&(u[Ia]=p.createEmbeddedView(o)),pv(o,u,t),u}finally{Ee(i)}}function OD(n,e){let t=Qt+e;if(t<n.length)return n[t]}function uu(n,e){return!e||e.firstChild===null||rD(n)}function tf(n,e,t,r=!0){let i=e[he];if(iO(i,e,n,t),r){let s=sy(t,n),a=e[Et],u=gD(a,n[$o]);u!==null&&nO(i,n[Yn],a,e,u,s)}let o=e[su];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function kD(n,e){let t=cu(n,e);return t!==void 0&&Qh(t[he],t),t}function Mh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(yr(o)),Yr(o)&&WO(o,r);let s=t.type;if(s&8)Mh(n,e,t.child,r);else if(s&32){let a=av(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=mD(e,t);if(Array.isArray(a))r.push(...a);else{let u=Ho(e[Kn]);Mh(u[he],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function WO(n,e){for(let t=Qt;t<n.length;t++){let r=n[t],i=r[he].firstChild;i!==null&&Mh(r[he],r,i,e)}n[$o]!==n[Qr]&&e.push(n[$o])}var FD=[];function KO(n){return n[Cn]??QO(n)}function QO(n){let e=FD.pop()??Object.create(ZO);return e.lView=n,e}function YO(n){n.lView[Cn]!==n&&(n.lView=null,FD.push(n))}var ZO=re($({},Qc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Wh(n.lView)},consumerOnSignalRead(){this.lView[Cn]=this}});function JO(n){let e=n[Cn]??Object.create(XO);return e.lView=n,e}var XO=re($({},Qc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Ho(n.lView);for(;e&&!LD(e[he]);)e=Ho(e);e&&SC(e)},consumerOnSignalRead(){this.lView[Cn]=this}});function LD(n){return n.type!==2}var ek=100;function VD(n,e=!0,t=0){let r=n[qr],i=r.rendererFactory,o=!1;o||i.begin?.();try{tk(n,t)}catch(s){throw e&&PD(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function tk(n,e){let t=PC();try{wb(!0),uy(n,e);let r=0;for(;Gh(n);){if(r===ek)throw new Z(103,!1);r++,uy(n,1)}}finally{wb(t)}}function nk(n,e,t,r){let i=e[ae];if((i&256)===256)return;let o=!1,s=!1;!o&&e[qr].inlineEffectRunner?.flush(),Wy(e);let a=!0,u=null,d=null;o||(LD(n)?(d=KO(e),u=Rd(d)):bE()===null?(a=!1,d=JO(e),u=Rd(d)):e[Cn]&&(rm(e[Cn]),e[Cn]=null));try{TC(e),l1(n.bindingStartIndex),t!==null&&ED(n,e,t,2,r);let p=(i&3)===3;if(!o)if(p){let I=n.preOrderCheckHooks;I!==null&&hh(e,I,null)}else{let I=n.preOrderHooks;I!==null&&fh(e,I,0,null),Tm(e,0)}if(s||rk(e),jD(e,0),n.contentQueries!==null&&ND(n,e),!o)if(p){let I=n.contentCheckHooks;I!==null&&hh(e,I)}else{let I=n.contentHooks;I!==null&&fh(e,I,1),Tm(e,1)}vO(n,e);let g=n.components;g!==null&&BD(e,g,0);let _=n.viewQuery;if(_!==null&&cy(2,_,r),!o)if(p){let I=n.viewCheckHooks;I!==null&&hh(e,I)}else{let I=n.viewHooks;I!==null&&fh(e,I,2),Tm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Dm]){for(let I of e[Dm])I();e[Dm]=null}o||(e[ae]&=-73)}catch(p){throw o||Wh(e),p}finally{d!==null&&(tm(d,u),a&&YO(d)),Ky()}}function jD(n,e){for(let t=oD(n);t!==null;t=sD(t))for(let r=Qt;r<t.length;r++){let i=t[r];UD(i,e)}}function rk(n){for(let e=oD(n);e!==null;e=sD(e)){if(!(e[ae]&bh.HasTransplantedViews))continue;let t=e[Eh];for(let r=0;r<t.length;r++){let i=t[r];SC(i)}}}function ik(n,e,t){let r=Yi(e,n);UD(r,t)}function UD(n,e){qy(n)&&uy(n,e)}function uy(n,e){let r=n[he],i=n[ae],o=n[Cn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&nm(o)),s||=!1,o&&(o.dirty=!1),n[ae]&=-9217,s)nk(r,n,r.template,n[Ut]);else if(i&8192){jD(n,1);let a=r.components;a!==null&&BD(n,a,1)}}function BD(n,e,t){for(let r=0;r<e.length;r++)ik(n,e[r],t)}function gv(n,e){let t=PC()?64:1088;for(n[qr].changeDetectionScheduler?.notify(e);n;){n[ae]|=t;let r=Ho(n);if(qm(n)&&!r)return n;n=r}return null}var Wo=class{get rootNodes(){let e=this._lView,t=e[he];return Mh(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ut]}set context(e){this._lView[Ut]=e}get destroyed(){return(this._lView[ae]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Yt];if(Yr(e)){let t=e[Ih],r=t?t.indexOf(this):-1;r>-1&&(cu(e,r),vh(t,r))}this._attachedToViewContainer=!1}Qh(this._lView[he],this._lView)}onDestroy(e){AC(this._lView,e)}markForCheck(){gv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ae]&=-129}reattach(){Wm(this._lView),this._lView[ae]|=128}detectChanges(){this._lView[ae]|=1024,VD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=qm(this._lView),t=this._lView[_a];t!==null&&!e&&cv(t,this._lView),hD(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=e;let t=qm(this._lView),r=this._lView[_a];r!==null&&!t&&fD(r,this._lView),Wm(this._lView)}},nf=(()=>{class n{static{this.__NG_ELEMENT_ID__=ak}}return n})(),ok=nf,sk=class extends ok{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=ef(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Wo(i)}};function ak(){return ck(sn(),Te())}function ck(n,e){return n.type&4?new sk(e,n,Kh(n,e)):null}var D8=new RegExp(`^(\\d+)*(${Q1}|${K1})*(.*)`);var uk=()=>null;function lu(n,e){return uk(n,e)}var Ca=class{},rf=new J("",{providedIn:"root",factory:()=>!1});var $D=new J(""),HD=new J(""),ly=class{},Nh=class{};function lk(n){let e=Error(`No component factory found for ${Kt(n)}.`);return e[dk]=n,e}var dk="ngComponent";var dy=class{resolveComponentFactory(e){throw lk(e)}},Da=class{static{this.NULL=new dy}},Ta=class{},Ir=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>hk()}}return n})();function hk(){let n=Te(),e=sn(),t=Yi(e.index,n);return(Gi(t)?t:n)[Et]}var fk=(()=>{class n{static{this.\u0275prov=te({token:n,providedIn:"root",factory:()=>null})}}return n})();function hy(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=ab(i,a);else if(o==2){let u=a,d=e[++s];r=ab(r,u+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Ph=class extends Da{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Bo(e);return new du(t,this.ngModule)}};function Nb(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Wi.None;e?t.push({propName:s,templateName:r,isSignal:(a&Wi.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function pk(n){let e=n.toLowerCase();return e==="svg"?ZP:e==="math"?JP:null}var du=class extends Nh{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Nb(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Nb(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=RP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Ee(null);try{i=i||this.ngModule;let s=i instanceof Dn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Qm(e,s):e,u=a.get(Ta,null);if(u===null)throw new Z(407,!1);let d=a.get(fk,null),p=a.get(Ca,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},_=u.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",M=r?IO(_,r,this.componentDef.encapsulation,a):dD(_,I,pk(I)),L=512;this.componentDef.signals?L|=4096:this.componentDef.onPush||(L|=16);let k=null;M!==null&&(k=ov(M,a,!0));let H=dv(0,null,null,1,0,null,null,null,null,null,null),Q=Zh(null,H,null,L,null,null,g,_,a,null,k);Wy(Q);let ee,ge,$e=null;try{let ne=this.componentDef,A,E=null;ne.findHostDirectiveDefs?(A=[],E=new Map,ne.findHostDirectiveDefs(ne,A,E),A.push(ne)):A=[ne];let b=gk(Q,M);$e=mk(b,M,ne,A,Q,g,_),ge=zy(H,rn),M&&wk(_,ne,M,r),t!==void 0&&_k(ge,this.ngContentSelectors,t),ee=vk($e,ne,A,E,Q,[Ik]),pv(H,Q,null)}catch(ne){throw $e!==null&&ry($e),ry(Q),ne}finally{Ky()}return new fy(this.componentType,ee,Kh(ge,Q),Q,ge)}finally{Ee(o)}}},fy=class extends ly{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Wo(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;hv(o[he],o,i,e,t),this.previousInputValues.set(e,t);let s=Yi(this._tNode.index,o);gv(s,1)}}get injector(){return new jo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function gk(n,e){let t=n[he],r=rn;return n[r]=e,Jh(t,r,2,"#host",null)}function mk(n,e,t,r,i,o,s){let a=i[he];yk(r,n,e,s);let u=null;e!==null&&(u=ov(e,i[wa]));let d=o.rendererFactory.createRenderer(e,t),p=16;t.signals?p=4096:t.onPush&&(p=64);let g=Zh(i,TD(t),null,p,i[n.index],n,o,d,null,null,u);return a.firstCreatePass&&ay(a,n,r.length-1),Xh(i,g),i[n.index]=g}function yk(n,e,t,r){for(let i of n)e.mergedAttrs=iu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(hy(e,e.mergedAttrs,!0),t!==null&&vD(r,t,e))}function vk(n,e,t,r,i,o){let s=sn(),a=i[he],u=Sn(s,i);xD(a,i,s,t,null,r);for(let p=0;p<t.length;p++){let g=s.directiveStart+p,_=ba(i,a,g,s);Go(_,i)}RD(a,i,s),u&&Go(u,i);let d=ba(i,a,s.directiveStart+s.componentOffset,s);if(n[Ut]=i[Ut]=d,o!==null)for(let p of o)p(d,e);return bD(a,s,i),d}function wk(n,e,t,r){if(r)Bm(n,t,["ng-version","18.2.13"]);else{let{attrs:i,classes:o}=MP(e.selectors[0]);i&&Bm(n,t,i),o&&o.length>0&&yD(n,t,o.join(" "))}}function _k(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function Ik(){let n=sn();Jy(Te()[he],n)}var Ma=(()=>{class n{static{this.__NG_ELEMENT_ID__=Ek}}return n})();function Ek(){let n=sn();return Ck(n,Te())}var bk=Ma,zD=class extends bk{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Kh(this._hostTNode,this._hostLView)}get injector(){return new jo(this._hostTNode,this._hostLView)}get parentInjector(){let e=Xy(this._hostTNode,this._hostLView);if(HC(e)){let t=Dh(e,this._hostLView),r=Ch(e),i=t[he].data[r+8];return new jo(i,t)}else return new jo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Pb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Qt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=lu(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,uu(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!WP(e),a;if(s)a=t;else{let M=t||{};a=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let u=s?e:new du(Bo(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let L=(s?d:this.parentInjector).get(Dn,null);L&&(o=L)}let p=Bo(u.componentType??{}),g=lu(this._lContainer,p?.id??null),_=g?.firstChild??null,I=u.create(d,i,_,o);return this.insertImpl(I.hostView,a,uu(this._hostTNode,g)),I}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(XP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Yt],d=new zD(u,u[Yn],u[Yt]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return tf(s,i,o,r),e.attachToViewContainerRef(),nC(Mm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Pb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=cu(this._lContainer,t);r&&(vh(Mm(this._lContainer),t),Qh(r[he],r))}detach(e){let t=this._adjustIndex(e,-1),r=cu(this._lContainer,t);return r&&vh(Mm(this._lContainer),t)!=null?new Wo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Pb(n){return n[Ih]}function Mm(n){return n[Ih]||(n[Ih]=[])}function Ck(n,e){let t,r=e[n.index];return Yr(r)?t=r:(t=MD(r,e,null,n),e[n.index]=t,Xh(e,t)),Tk(t,e,n,r),new zD(t,n,e)}function Dk(n,e){let t=n[Et],r=t.createComment(""),i=Sn(e,n),o=gD(t,i);return Rh(t,o,r,uO(t,i),!1),r}var Tk=xk,Sk=()=>!1;function Ak(n,e,t){return Sk(n,e,t)}function xk(n,e,t,r){if(n[$o])return;let i;t.type&8?i=yr(r):i=Dk(e,t),n[$o]=i}var Ob=new Set;function Jo(n){Ob.has(n)||(Ob.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Rk(n){return typeof n=="function"&&n[$r]!==void 0}function of(n,e){Jo("NgSignals");let t=OE(n),r=t[$r];return e?.equal&&(r.equal=e.equal),t.set=i=>im(r,i),t.update=i=>kE(r,i),t.asReadonly=Mk.bind(t),t}function Mk(){let n=this[$r];if(n.readonlyFn===void 0){let e=()=>this();e[$r]=n,n.readonlyFn=e}return n.readonlyFn}function qD(n){return Rk(n)&&typeof n.set=="function"}function Nk(n){return Object.getPrototypeOf(n.prototype).constructor}function fn(n){let e=Nk(n.type),t=!0,r=[n];for(;e;){let i;if(Ki(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Z(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=ch(n.inputs),s.inputTransforms=ch(n.inputTransforms),s.declaredInputs=ch(n.declaredInputs),s.outputs=ch(n.outputs);let a=i.hostBindings;a&&Lk(n,a);let u=i.viewQuery,d=i.contentQueries;if(u&&kk(n,u),d&&Fk(n,d),Pk(n,i),ZN(n.outputs,i.outputs),Ki(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===fn&&(t=!1)}}e=Object.getPrototypeOf(e)}Ok(r)}function Pk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function Ok(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=iu(i.hostAttrs,t=iu(t,i.hostAttrs))}}function ch(n){return n===ma?{}:n===bn?[]:n}function kk(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Fk(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function Lk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}var Qi=class{},hu=class{};var py=class extends Qi{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ph(this);let o=lC(e);this._bootstrapComponents=lD(o.bootstrap),this._r3Injector=JC(e,t,[{provide:Qi,useValue:this},{provide:Da,useValue:this.componentFactoryResolver},...r],Kt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},gy=class extends hu{constructor(e){super(),this.moduleType=e}create(e){return new py(this.moduleType,e,[])}};var Oh=class extends Qi{constructor(e){super(),this.componentFactoryResolver=new Ph(this),this.instance=null;let t=new ou([...e.providers,{provide:Qi,useValue:this},{provide:Da,useValue:this.componentFactoryResolver}],e.parent||$y(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function mv(n,e,t=null){return new Oh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function GD(n){return yv(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Vk(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function yv(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function sf(n,e,t){return n[e]=t}function jk(n,e){return n[e]}function Qn(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function vv(n,e,t,r){let i=Qn(n,e,t);return Qn(n,e+1,r)||i}function WD(n,e,t,r,i){let o=vv(n,e,t,r);return Qn(n,e+2,i)||o}function Uk(n){return(n.flags&32)===32}function Bk(n,e,t,r,i,o,s,a,u){let d=e.consts,p=Jh(e,n,4,s||null,a||null);AD(e,t,p,Ea(d,u)),Jy(e,p);let g=p.tView=dv(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}function my(n,e,t,r,i,o,s,a,u,d){let p=t+rn,g=e.firstCreatePass?Bk(p,e,n,r,i,o,s,a,u):e.data[p];mu(g,!1);let _=$k(e,n,g,t);Yy()&&uv(e,n,_,g),Go(_,n);let I=MD(_,n,_,g);return n[p]=I,Xh(n,I),Ak(I,g,n),Hy(g)&&CD(e,n,g),u!=null&&DD(n,g,d),g}function et(n,e,t,r,i,o,s,a){let u=Te(),d=Zt(),p=Ea(d.consts,o);return my(u,d,n,e,t,r,i,p,s,a),et}var $k=Hk;function Hk(n,e,t,r){return Zy(!0),e[Et].createComment("")}var tu=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(tu||{}),zk=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}}return n})(),kb=class n{constructor(){this.ngZone=q(Be),this.scheduler=q(Ca),this.errorHandler=q(Gr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[tu.EarlyRead,tu.Write,tu.MixedReadWrite,tu.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=te({token:n,providedIn:"root",factory:()=>new n})}};function Na(n,e,t,r){let i=Te(),o=xa();if(Qn(i,o,e)){let s=Zt(),a=Qy();VO(a,i,n,e,t,r)}return Na}function qk(n,e,t,r){return Qn(n,xa(),t)?e+zi(t)+r:hn}function Gk(n,e,t,r,i,o){let s=OC(),a=vv(n,s,t,i);return Gy(2),a?e+zi(t)+r+zi(i)+o:hn}function Wk(n,e,t,r,i,o,s,a){let u=OC(),d=WD(n,u,t,i,s);return Gy(3),d?e+zi(t)+r+zi(i)+o+zi(s)+a:hn}function uh(n,e){return n<<17|e<<2}function Ko(n){return n>>17&32767}function Kk(n){return(n&2)==2}function Qk(n,e){return n&131071|e<<17}function yy(n){return n|2}function Sa(n){return(n&131068)>>2}function Nm(n,e){return n&-131069|e<<2}function Yk(n){return(n&1)===1}function vy(n){return n|1}function Zk(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Ko(s),u=Sa(s);n[r]=t;let d=!1,p;if(Array.isArray(t)){let g=t;p=g[1],(p===null||gu(g,p)>0)&&(d=!0)}else p=t;if(i)if(u!==0){let _=Ko(n[a+1]);n[r+1]=uh(_,a),_!==0&&(n[_+1]=Nm(n[_+1],r)),n[a+1]=Qk(n[a+1],r)}else n[r+1]=uh(a,0),a!==0&&(n[a+1]=Nm(n[a+1],r)),a=r;else n[r+1]=uh(u,0),a===0?a=r:n[u+1]=Nm(n[u+1],r),u=r;d&&(n[r+1]=yy(n[r+1])),Fb(n,p,r,!0),Fb(n,p,r,!1),Jk(e,p,n,r,o),s=uh(a,u),o?e.classBindings=s:e.styleBindings=s}function Jk(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&gu(o,e)>=0&&(t[r+1]=vy(t[r+1]))}function Fb(n,e,t,r){let i=n[t+1],o=e===null,s=r?Ko(i):Sa(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],d=n[s+1];Xk(u,e)&&(a=!0,n[s+1]=r?vy(d):yy(d)),s=r?Ko(d):Sa(d)}a&&(n[t+1]=r?yy(i):vy(i))}function Xk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?gu(n,e)>=0:!1}function ye(n,e,t){let r=Te(),i=xa();if(Qn(r,i,e)){let o=Zt(),s=Qy();SD(o,s,r,n,e,r[Et],t,!1)}return ye}function Lb(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";hv(n,t,o[s],s,r)}function Pa(n,e,t){return KD(n,e,t,!1),Pa}function an(n,e){return KD(n,e,null,!0),an}function KD(n,e,t,r){let i=Te(),o=Zt(),s=Gy(2);if(o.firstUpdatePass&&tF(o,n,s,r),e!==hn&&Qn(i,s,e)){let a=o.data[Zr()];sF(o,a,i,i[Et],n,i[s+1]=aF(e,t),r,s)}}function eF(n,e){return e>=n.expandoStartIndex}function tF(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[Zr()],s=eF(n,t);cF(o,r)&&e===null&&!s&&(e=!1),e=nF(i,o,e,r),Zk(i,o,e,t,s,r)}}function nF(n,e,t,r){let i=p1(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Pm(null,n,e,t,r),t=fu(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Pm(i,n,e,t,r),o===null){let u=rF(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Pm(null,n,e,u[1],r),u=fu(u,e.attrs,r),iF(n,e,r,u))}else o=oF(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function rF(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Sa(r)!==0)return n[Ko(r)]}function iF(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Ko(i)]=r}function oF(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=fu(r,s,t)}return fu(r,e.attrs,t)}function Pm(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=fu(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function fu(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),yP(n,s,t?!0:e[++o]))}return n===void 0?null:n}function sF(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,d=u[a+1],p=Yk(d)?Vb(u,e,t,i,Sa(d),s):void 0;if(!kh(p)){kh(o)||Kk(d)&&(o=Vb(u,null,t,i,a,s));let g=CC(Zr(),t);mO(r,s,g,i,o)}}function Vb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],d=Array.isArray(u),p=d?u[1]:u,g=p===null,_=t[i+1];_===hn&&(_=g?bn:void 0);let I=g?bm(_,r):p===r?_:void 0;if(d&&!kh(I)&&(I=bm(u,r)),kh(I)&&(a=I,s))return a;let M=n[i+1];i=s?Ko(M):Sa(M)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=bm(u,r))}return a}function kh(n){return n!==void 0}function aF(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Kt(sv(n)))),n}function cF(n,e){return(n.flags&(e?8:16))!==0}var wy=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),o=this.detach(i);if(i-r>1){let s=this.detach(r);this.attach(r,o),this.attach(i,s)}else this.attach(r,o)}move(e,t){this.attach(t,this.detach(e))}};function Om(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function uF(n,e,t){let r,i,o=0,s=n.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;o<=s&&o<=u;){let d=n.at(o),p=e[o],g=Om(o,d,o,p,t);if(g!==0){g<0&&n.updateValue(o,p),o++;continue}let _=n.at(s),I=e[u],M=Om(s,_,u,I,t);if(M!==0){M<0&&n.updateValue(s,I),s--,u--;continue}let L=t(o,d),k=t(s,_),H=t(o,p);if(Object.is(H,k)){let Q=t(u,I);Object.is(Q,L)?(n.swap(o,s),n.updateValue(s,I),u--,s--):n.move(s,o),n.updateValue(o,p),o++;continue}if(r??=new Fh,i??=Ub(n,o,s,t),_y(n,r,o,H))n.updateValue(o,p),o++,s++;else if(i.has(H))r.set(L,n.detach(o)),s--;else{let Q=n.create(o,e[o]);n.attach(o,Q),o++,s++}}for(;o<=u;)jb(n,r,t,o,e[o]),o++}else if(e!=null){let u=e[Symbol.iterator](),d=u.next();for(;!d.done&&o<=s;){let p=n.at(o),g=d.value,_=Om(o,p,o,g,t);if(_!==0)_<0&&n.updateValue(o,g),o++,d=u.next();else{r??=new Fh,i??=Ub(n,o,s,t);let I=t(o,g);if(_y(n,r,o,I))n.updateValue(o,g),o++,s++,d=u.next();else if(!i.has(I))n.attach(o,n.create(o,g)),o++,s++,d=u.next();else{let M=t(o,p);r.set(M,n.detach(o)),s--}}}for(;!d.done;)jb(n,r,t,n.length,d.value),d=u.next()}for(;o<=s;)n.destroy(n.detach(s--));r?.forEach(u=>{n.destroy(u)})}function _y(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function jb(n,e,t,r,i){if(_y(n,e,r,t(r,i)))n.updateValue(r,i);else{let o=n.create(r,i);n.attach(r,o)}}function Ub(n,e,t,r){let i=new Set;for(let o=e;o<=t;o++)i.add(r(o,n.at(o)));return i}var Fh=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function Xo(n,e){Jo("NgControlFlow");let t=Te(),r=xa(),i=t[r]!==hn?t[r]:-1,o=i!==-1?Lh(t,rn+i):void 0,s=0;if(Qn(t,r,n)){let a=Ee(null);try{if(o!==void 0&&kD(o,s),n!==-1){let u=rn+n,d=Lh(t,u),p=Cy(t[he],u),g=lu(d,p.tView.ssrId),_=ef(t,p,e,{dehydratedView:g});tf(d,_,s,uu(p,g))}}finally{Ee(a)}}else if(o!==void 0){let a=OD(o,s);a!==void 0&&(a[Ut]=e)}}var Iy=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Qt}};function wv(n,e){return e}var Ey=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Oa(n,e,t,r,i,o,s,a,u,d,p,g,_){Jo("NgControlFlow");let I=Te(),M=Zt(),L=u!==void 0,k=Te(),H=a?s.bind(k[Kn][Ut]):s,Q=new Ey(L,H);k[rn+n]=Q,my(I,M,n+1,e,t,r,i,Ea(M.consts,o)),L&&my(I,M,n+2,u,d,p,g,Ea(M.consts,_))}var by=class extends wy{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Qt}at(e){return this.getLView(e)[Ut].$implicit}attach(e,t){let r=t[su];this.needsIndexUpdate||=e!==this.length,tf(this.lContainer,t,e,uu(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,lF(this.lContainer,e)}create(e,t){let r=lu(this.lContainer,this.templateTNode.tView.ssrId),i=ef(this.hostLView,this.templateTNode,new Iy(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){Qh(e[he],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Ut].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Ut].$index=e}getLView(e){return dF(this.lContainer,e)}};function ka(n){let e=Ee(null),t=Zr();try{let r=Te(),i=r[he],o=r[t],s=t+1,a=Lh(r,s);if(o.liveCollection===void 0){let d=Cy(i,s);o.liveCollection=new by(a,r,d)}else o.liveCollection.reset();let u=o.liveCollection;if(uF(u,n,o.trackByFn),u.updateIndexes(),o.hasEmptyBlock){let d=xa(),p=u.length===0;if(Qn(r,d,p)){let g=t+2,_=Lh(r,g);if(p){let I=Cy(i,g),M=lu(_,I.tView.ssrId),L=ef(r,I,void 0,{dehydratedView:M});tf(_,L,0,uu(I,M))}else kD(_,0)}}}finally{Ee(e)}}function Lh(n,e){return n[e]}function lF(n,e){return cu(n,e)}function dF(n,e){return OD(n,e)}function Cy(n,e){return zy(n,e)}function hF(n,e,t,r,i,o){let s=e.consts,a=Ea(s,i),u=Jh(e,n,2,r,a);return AD(e,t,u,Ea(s,o)),u.attrs!==null&&hy(u,u.attrs,!1),u.mergedAttrs!==null&&hy(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function F(n,e,t,r){let i=Te(),o=Zt(),s=rn+n,a=i[Et],u=o.firstCreatePass?hF(s,o,i,e,t,r):o.data[s],d=fF(o,i,u,a,e,n);i[s]=d;let p=Hy(u);return mu(u,!0),vD(a,d,u),!Uk(u)&&Yy()&&uv(o,i,d,u),n1()===0&&Go(d,i),r1(),p&&(CD(o,i,u),bD(o,u,i)),r!==null&&DD(i,u),F}function O(){let n=sn();NC()?u1():(n=n.parent,mu(n,!1));let e=n;s1(e)&&a1(),i1();let t=Zt();return t.firstCreatePass&&(Jy(t,n),wC(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&I1(e)&&Lb(t,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&E1(e)&&Lb(t,e,Te(),e.stylesWithoutHost,!1),O}function pn(n,e,t,r){return F(n,e,t,r),O(),pn}var fF=(n,e,t,r,i,o)=>(Zy(!0),dD(r,i,y1()));function kt(){return Te()}var Vo=void 0;function pF(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var gF=["en",[["a","p"],["AM","PM"],Vo],[["AM","PM"],Vo,Vo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vo,"{1} 'at' {0}",Vo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",pF],km={};function xn(n){let e=mF(n),t=Bb(e);if(t)return t;let r=e.split("-")[0];if(t=Bb(r),t)return t;if(r==="en")return gF;throw new Z(701,!1)}function Bb(n){return n in km||(km[n]=Xc.ng&&Xc.ng.common&&Xc.ng.common.locales&&Xc.ng.common.locales[n]),km[n]}var at=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(at||{});function mF(n){return n.toLowerCase().replace(/_/g,"-")}var Vh="en-US";var yF=Vh;function vF(n){typeof n=="string"&&(yF=n.toLowerCase().replace(/_/g,"-"))}var wF=(n,e,t)=>{};function xe(n,e,t,r){let i=Te(),o=Zt(),s=sn();return QD(o,i,i[Et],s,n,e,r),xe}function _F(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[_h],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function QD(n,e,t,r,i,o,s){let a=Hy(r),d=n.firstCreatePass&&HO(n),p=e[Ut],g=$O(e),_=!0;if(r.type&3||s){let L=Sn(r,e),k=s?s(L):L,H=g.length,Q=s?ge=>s(yr(ge[r.index])):r.index,ee=null;if(!s&&a&&(ee=_F(n,e,i,r.index)),ee!==null){let ge=ee.__ngLastListenerFn__||ee;ge.__ngNextListenerFn__=o,ee.__ngLastListenerFn__=o,_=!1}else{o=Hb(r,e,p,o),wF(L,i,o);let ge=t.listen(k,i,o);g.push(o,ge),d&&d.push(i,Q,H,H+1)}}else o=Hb(r,e,p,o);let I=r.outputs,M;if(_&&I!==null&&(M=I[i])){let L=M.length;if(L)for(let k=0;k<L;k+=2){let H=M[k],Q=M[k+1],$e=e[H][Q].subscribe(o),ne=g.length;g.push(o,$e),d&&d.push(i,r.index,ne,-(ne+1))}}}function $b(n,e,t,r){let i=Ee(null);try{return pr(6,e,t),t(r)!==!1}catch(o){return PD(n,o),!1}finally{pr(7,e,t),Ee(i)}}function Hb(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Yi(n.index,e):e;gv(s,5);let a=$b(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=$b(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Y(n=1){return m1(n)}function IF(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function U(n,e=""){let t=Te(),r=Zt(),i=n+rn,o=r.firstCreatePass?Jh(r,i,1,e,null):r.data[i],s=EF(r,t,o,e,n);t[i]=s,Yy()&&uv(r,t,s,o),mu(o,!1)}var EF=(n,e,t,r,i)=>(Zy(!0),X1(e[Et],r));function Jn(n){return fe("",n,""),Jn}function fe(n,e,t){let r=Te(),i=qk(r,n,e,t);return i!==hn&&fv(r,Zr(),i),fe}function vu(n,e,t,r,i){let o=Te(),s=Gk(o,n,e,t,r,i);return s!==hn&&fv(o,Zr(),s),vu}function _v(n,e,t,r,i,o,s){let a=Te(),u=Wk(a,n,e,t,r,i,o,s);return u!==hn&&fv(a,Zr(),u),_v}function Jr(n,e,t){qD(e)&&(e=e());let r=Te(),i=xa();if(Qn(r,i,e)){let o=Zt(),s=Qy();SD(o,s,r,n,e,r[Et],t,!1)}return Jr}function Ji(n,e){let t=qD(n);return t&&n.set(e),t}function Xr(n,e){let t=Te(),r=Zt(),i=sn();return QD(r,t,t[Et],i,n,e),Xr}function bF(n,e,t){let r=Zt();if(r.firstCreatePass){let i=Ki(n);Dy(t,r.data,r.blueprint,i,!0),Dy(e,r.data,r.blueprint,i,!1)}}function Dy(n,e,t,r,i){if(n=Wt(n),Array.isArray(n))for(let o=0;o<n.length;o++)Dy(n[o],e,t,r,i);else{let o=Zt(),s=Te(),a=sn(),u=va(n)?n:Wt(n.provide),d=mC(n),p=a.providerIndexes&1048575,g=a.directiveStart,_=a.providerIndexes>>20;if(va(n)||!n.multi){let I=new qo(d,i,Ie),M=Lm(u,e,i?p:p+_,g);M===-1?(Zm(Sh(a,s),o,u),Fm(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(I),s.push(I)):(t[M]=I,s[M]=I)}else{let I=Lm(u,e,p+_,g),M=Lm(u,e,p,p+_),L=I>=0&&t[I],k=M>=0&&t[M];if(i&&!k||!i&&!L){Zm(Sh(a,s),o,u);let H=TF(i?DF:CF,t.length,i,r,d);!i&&k&&(t[M].providerFactory=H),Fm(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(H),s.push(H)}else{let H=YD(t[i?M:I],d,!i&&r);Fm(o,n,I>-1?I:M,H)}!i&&r&&k&&t[M].componentProviders++}}}function Fm(n,e,t,r){let i=va(e),o=jP(e);if(i||o){let u=(o?Wt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(t);p===-1?d.push(t,[r,u]):d[p+1].push(r,u)}else d.push(t,u)}}}function YD(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Lm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function CF(n,e,t,r){return Ty(this.multi,[])}function DF(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ba(t,t[he],this.providerFactory.index,r);o=a.slice(0,s),Ty(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Ty(i,o);return o}function Ty(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function TF(n,e,t,r,i){let o=new qo(n,t,Ie);return o.multi=[],o.index=e,o.componentProviders=0,YD(o,i,r&&!t),o}function Er(n,e=[]){return t=>{t.providersResolver=(r,i)=>bF(r,i?i(n):n,e)}}var SF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=fC(!1,t.type),i=r.length>0?mv([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=te({token:n,providedIn:"environment",factory:()=>new n(be(Dn))})}}return n})();function br(n){Jo("NgStandalone"),n.getStandaloneInjector=e=>e.get(SF).getOrCreateStandaloneInjector(n)}function ZD(n,e,t){let r=yu()+n,i=Te();return i[r]===hn?sf(i,r,t?e.call(t):e()):jk(i,r)}function JD(n,e,t,r){return XD(Te(),yu(),n,e,t,r)}function es(n,e,t,r,i,o){return xF(Te(),yu(),n,e,t,r,i,o)}function Iv(n,e){let t=n[e];return t===hn?void 0:t}function XD(n,e,t,r,i,o){let s=e+t;return Qn(n,s,i)?sf(n,s+1,o?r.call(o,i):r(i)):Iv(n,s+1)}function AF(n,e,t,r,i,o,s){let a=e+t;return vv(n,a,i,o)?sf(n,a+2,s?r.call(s,i,o):r(i,o)):Iv(n,a+2)}function xF(n,e,t,r,i,o,s,a){let u=e+t;return WD(n,u,i,o,s)?sf(n,u+3,a?r.call(a,i,o,s):r(i,o,s)):Iv(n,u+3)}function ts(n,e){let t=Zt(),r,i=n+rn;t.firstCreatePass?(r=RF(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Uo(r.type,!0)),s,a=nn(Ie);try{let u=Th(!1),d=o();return Th(u),IF(t,Te(),i,d),d}finally{nn(a)}}function RF(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function wu(n,e,t){let r=n+rn,i=Te(),o=DC(i,r);return eT(i,r)?XD(i,yu(),e,o.transform,t,o):o.transform(t)}function af(n,e,t,r){let i=n+rn,o=Te(),s=DC(o,i);return eT(o,i)?AF(o,yu(),e,s.transform,t,r,s):s.transform(t,r)}function eT(n,e){return n[he].data[e].pure}var Wr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},tT=new Wr("18.2.13");var cf=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var nT=new J("");function ns(n){return!!n&&typeof n.then=="function"}function rT(n){return!!n&&typeof n.subscribe=="function"}var iT=new J(""),oT=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=q(iT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(ns(o))t.push(o);else if(rT(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ev=new J("");function MF(){PE(()=>{throw new Z(600,!1)})}function NF(n){return n.isBoundToModule}var PF=10;function OF(n,e,t){try{let r=t();return ns(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var rs=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=q(B1),this.afterRenderManager=q(zk),this.zonelessEnabled=q(rf),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Pt,this.afterTick=new Pt,this.componentTypes=[],this.components=[],this.isStable=q(Ra).hasPendingTasks.pipe(se(t=>!t)),this._injector=q(Dn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Nh;if(!this._injector.get(oT).done){let _=!i&&uC(t),I=!1;throw new Z(405,I)}let s;i?s=t:s=this._injector.get(Da).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=NF(s)?void 0:this._injector.get(Qi),u=r||s.selector,d=s.create(on.NULL,[],u,a),p=d.location.nativeElement,g=d.injector.get(nT,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),ph(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Z(101,!1);let t=Ee(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ee(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Ta,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<PF;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)kF(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Gh(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;ph(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Ev,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ph(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Z(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ph(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function kF(n,e,t,r){if(!t&&!Gh(n))return;VD(n,e,t&&!r?0:1)}var Sy=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},bv=(()=>{class n{compileModuleSync(t){return new gy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=lC(t),o=lD(i.declarations).reduce((s,a)=>{let u=Bo(a);return u&&s.push(new du(u)),s},[]);return new Sy(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var FF=(()=>{class n{constructor(){this.zone=q(Be),this.changeDetectionScheduler=q(Ca),this.applicationRef=q(rs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LF=new J("",{factory:()=>!1});function sT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Be(re($({},cT()),{scheduleInRootZone:t})),[{provide:Be,useFactory:n},{provide:ya,multi:!0,useFactory:()=>{let r=q(FF,{optional:!0});return()=>r.initialize()}},{provide:ya,multi:!0,useFactory:()=>{let r=q(VF);return()=>{r.initialize()}}},e===!0?{provide:$D,useValue:!0}:[],{provide:HD,useValue:t??XC}]}function aT(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=sT({ngZoneFactory:()=>{let i=cT(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Jo("NgZone_CoalesceEvent"),new Be(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return _r([{provide:LF,useValue:!0},{provide:rf,useValue:!1},r])}function cT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var VF=(()=>{class n{constructor(){this.subscription=new rt,this.initialized=!1,this.zone=q(Be),this.pendingTasks=q(Ra)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Be.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Be.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var jF=(()=>{class n{constructor(){this.appRef=q(rs),this.taskService=q(Ra),this.ngZone=q(Be),this.zonelessEnabled=q(rf),this.disableScheduling=q($D,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new rt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(xh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(q(HD,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof ny||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Cb:tD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(xh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Cb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function UF(){return typeof $localize<"u"&&$localize.locale||Vh}var uf=new J("",{providedIn:"root",factory:()=>q(uf,ve.Optional|ve.SkipSelf)||UF()});var Ay=new J("");function lh(n){return!n.moduleRef}function BF(n){let e=lh(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Be);return t.run(()=>{lh(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Gr,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),lh(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Ay);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Ay);s.add(o),n.moduleRef.onDestroy(()=>{ph(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return OF(r,t,()=>{let o=e.get(oT);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(uf,Vh);if(vF(s||Vh),lh(n)){let a=e.get(rs);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return $F(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function $F(n,e){let t=n.injector.get(rs);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new Z(-403,!1);e.push(n)}var gh=null;function HF(n=[],e){return on.create({name:e,providers:[{provide:Hh,useValue:"platform"},{provide:Ay,useValue:new Set([()=>gh=null])},...n]})}function zF(n=[]){if(gh)return gh;let e=HF(n);return gh=e,MF(),qF(e),e}function qF(n){n.get(rv,null)?.forEach(t=>t())}var is=(()=>{class n{static{this.__NG_ELEMENT_ID__=GF}}return n})();function GF(n){return WF(sn(),Te(),(n&16)===16)}function WF(n,e,t){if(qh(n)&&!t){let r=Yi(n.index,e);return new Wo(r,r)}else if(n.type&175){let r=e[Kn];return new Wo(r,e)}return null}var xy=class{constructor(){}supports(e){return GD(e)}create(e){return new Ry(e)}},KF=(n,e)=>e,Ry=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||KF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<zb(r,i,o)?t:r,a=zb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=u-i;if(d!=p){for(let _=0;_<d;_++){let I=_<o.length?o[_]:o[_]=0,M=I+_;p<=M&&M<d&&(o[_]=I+1)}let g=s.previousIndex;o[g]=p-d}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!GD(e))throw new Z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,Vk(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new My(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new jh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new jh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},My=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Ny=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},jh=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Ny,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function zb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var Py=class{constructor(){}supports(e){return e instanceof Map||yv(e)}create(){return new Oy}},Oy=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||yv(e)))throw new Z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new ky(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},ky=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function qb(){return new Cv([new xy])}var Cv=(()=>{class n{static{this.\u0275prov=te({token:n,providedIn:"root",factory:qb})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||qb()),deps:[[n,new Vy,new Bt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new Z(901,!1)}}return n})();function Gb(){return new Dv([new Py])}var Dv=(()=>{class n{static{this.\u0275prov=te({token:n,providedIn:"root",factory:Gb})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Gb()),deps:[[n,new Vy,new Bt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new Z(901,!1)}}return n})();function uT(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=zF(r),o=[sT({}),{provide:Ca,useExisting:jF},...t||[]],s=new Oh({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return BF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function lf(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function df(n,e){Jo("NgSignals");let t=RE(n);return e?.equal&&(t[$r].equal=e.equal),t}function Xi(n){let e=Ee(null);try{return n()}finally{Ee(e)}}var mT=null;function ni(){return mT}function yT(n){mT??=n}var _f=class{};var Mn=new J(""),vT=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:()=>q(ZF),providedIn:"platform"})}}return n})();var ZF=(()=>{class n extends vT{constructor(){super(),this._doc=q(Mn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ni().getBaseHref(this._doc)}onPopState(t){let r=ni().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ni().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function wT(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function lT(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function os(n){return n&&n[0]!=="?"?"?"+n:n}var bf=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:()=>q(_T),providedIn:"root"})}}return n})(),JF=new J(""),_T=(()=>{class n extends bf{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??q(Mn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return wT(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+os(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+os(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+os(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(be(vT),be(JF,8))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var _u=(()=>{class n{constructor(t){this._subject=new It,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=tL(lT(dT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+os(r))}normalize(t){return n.stripTrailingSlash(eL(this._basePath,dT(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+os(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+os(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=os}static{this.joinWithSlash=wT}static{this.stripTrailingSlash=lT}static{this.\u0275fac=function(r){return new(r||n)(be(bf))}}static{this.\u0275prov=te({token:n,factory:()=>XF(),providedIn:"root"})}}return n})();function XF(){return new _u(be(bf))}function eL(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function dT(n){return n.replace(/\/index.html$/,"")}function tL(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var Jt=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}(Jt||{}),qe=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(qe||{}),gn=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(gn||{}),eo={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function nL(n){return xn(n)[at.LocaleId]}function rL(n,e,t){let r=xn(n),i=[r[at.DayPeriodsFormat],r[at.DayPeriodsStandalone]],o=Rn(i,e);return Rn(o,t)}function iL(n,e,t){let r=xn(n),i=[r[at.DaysFormat],r[at.DaysStandalone]],o=Rn(i,e);return Rn(o,t)}function oL(n,e,t){let r=xn(n),i=[r[at.MonthsFormat],r[at.MonthsStandalone]],o=Rn(i,e);return Rn(o,t)}function sL(n,e){let r=xn(n)[at.Eras];return Rn(r,e)}function hf(n,e){let t=xn(n);return Rn(t[at.DateFormat],e)}function ff(n,e){let t=xn(n);return Rn(t[at.TimeFormat],e)}function pf(n,e){let r=xn(n)[at.DateTimeFormat];return Rn(r,e)}function Cf(n,e){let t=xn(n),r=t[at.NumberSymbols][e];if(typeof r>"u"){if(e===eo.CurrencyDecimal)return t[at.NumberSymbols][eo.Decimal];if(e===eo.CurrencyGroup)return t[at.NumberSymbols][eo.Group]}return r}function IT(n){if(!n[at.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[at.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function aL(n){let e=xn(n);return IT(e),(e[at.ExtraData][2]||[]).map(r=>typeof r=="string"?Tv(r):[Tv(r[0]),Tv(r[1])])}function cL(n,e,t){let r=xn(n);IT(r);let i=[r[at.ExtraData][0],r[at.ExtraData][1]],o=Rn(i,e)||[];return Rn(o,t)||[]}function Rn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Tv(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var uL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,gf={},lL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,ti=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(ti||{}),Ve=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Ve||{}),Le=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Le||{});function dL(n,e,t,r){let i=_L(n);e=ei(t,e)||e;let s=[],a;for(;e;)if(a=lL.exec(e),a){s=s.concat(a.slice(1));let p=s.pop();if(!p)break;e=p}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=bT(r,u),i=wL(i,r,!0));let d="";return s.forEach(p=>{let g=yL(p);d+=g?g(i,t,u):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function If(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function ei(n,e){let t=nL(n);if(gf[t]??={},gf[t][e])return gf[t][e];let r="";switch(e){case"shortDate":r=hf(n,gn.Short);break;case"mediumDate":r=hf(n,gn.Medium);break;case"longDate":r=hf(n,gn.Long);break;case"fullDate":r=hf(n,gn.Full);break;case"shortTime":r=ff(n,gn.Short);break;case"mediumTime":r=ff(n,gn.Medium);break;case"longTime":r=ff(n,gn.Long);break;case"fullTime":r=ff(n,gn.Full);break;case"short":let i=ei(n,"shortTime"),o=ei(n,"shortDate");r=mf(pf(n,gn.Short),[i,o]);break;case"medium":let s=ei(n,"mediumTime"),a=ei(n,"mediumDate");r=mf(pf(n,gn.Medium),[s,a]);break;case"long":let u=ei(n,"longTime"),d=ei(n,"longDate");r=mf(pf(n,gn.Long),[u,d]);break;case"full":let p=ei(n,"fullTime"),g=ei(n,"fullDate");r=mf(pf(n,gn.Full),[p,g]);break}return r&&(gf[t][e]=r),r}function mf(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Xn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=-n+1:(n=-n,o=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function hL(n,e){return Xn(n,3).substring(0,e)}function dt(n,e,t=0,r=!1,i=!1){return function(o,s){let a=fL(n,o);if((t>0||a>-t)&&(a+=t),n===Ve.Hours)a===0&&t===-12&&(a=12);else if(n===Ve.FractionalSeconds)return hL(a,e);let u=Cf(s,eo.MinusSign);return Xn(a,e,u,r,i)}}function fL(n,e){switch(n){case Ve.FullYear:return e.getFullYear();case Ve.Month:return e.getMonth();case Ve.Date:return e.getDate();case Ve.Hours:return e.getHours();case Ve.Minutes:return e.getMinutes();case Ve.Seconds:return e.getSeconds();case Ve.FractionalSeconds:return e.getMilliseconds();case Ve.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ke(n,e,t=Jt.Format,r=!1){return function(i,o){return pL(i,o,n,e,t,r)}}function pL(n,e,t,r,i,o){switch(t){case Le.Months:return oL(e,i,r)[n.getMonth()];case Le.Days:return iL(e,i,r)[n.getDay()];case Le.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(o){let d=aL(e),p=cL(e,i,r),g=d.findIndex(_=>{if(Array.isArray(_)){let[I,M]=_,L=s>=I.hours&&a>=I.minutes,k=s<M.hours||s===M.hours&&a<M.minutes;if(I.hours<M.hours){if(L&&k)return!0}else if(L||k)return!0}else if(_.hours===s&&_.minutes===a)return!0;return!1});if(g!==-1)return p[g]}return rL(e,i,r)[s<12?0:1];case Le.Eras:return sL(e,r)[n.getFullYear()<=0?0:1];default:let u=t;throw new Error(`unexpected translation type ${u}`)}}function yf(n){return function(e,t,r){let i=-1*r,o=Cf(t,eo.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case ti.Short:return(i>=0?"+":"")+Xn(s,2,o)+Xn(Math.abs(i%60),2,o);case ti.ShortGMT:return"GMT"+(i>=0?"+":"")+Xn(s,1,o);case ti.Long:return"GMT"+(i>=0?"+":"")+Xn(s,2,o)+":"+Xn(Math.abs(i%60),2,o);case ti.Extended:return r===0?"Z":(i>=0?"+":"")+Xn(s,2,o)+":"+Xn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}var gL=0,wf=4;function mL(n){let e=If(n,gL,1).getDay();return If(n,0,1+(e<=wf?wf:wf+7)-e)}function ET(n){let e=n.getDay(),t=e===0?-3:wf-e;return If(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Sv(n,e=!1){return function(t,r){let i;if(e){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();i=1+Math.floor((s+o)/7)}else{let o=ET(t),s=mL(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return Xn(i,n,Cf(r,eo.MinusSign))}}function vf(n,e=!1){return function(t,r){let o=ET(t).getFullYear();return Xn(o,n,Cf(r,eo.MinusSign),e)}}var Av={};function yL(n){if(Av[n])return Av[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ke(Le.Eras,qe.Abbreviated);break;case"GGGG":e=Ke(Le.Eras,qe.Wide);break;case"GGGGG":e=Ke(Le.Eras,qe.Narrow);break;case"y":e=dt(Ve.FullYear,1,0,!1,!0);break;case"yy":e=dt(Ve.FullYear,2,0,!0,!0);break;case"yyy":e=dt(Ve.FullYear,3,0,!1,!0);break;case"yyyy":e=dt(Ve.FullYear,4,0,!1,!0);break;case"Y":e=vf(1);break;case"YY":e=vf(2,!0);break;case"YYY":e=vf(3);break;case"YYYY":e=vf(4);break;case"M":case"L":e=dt(Ve.Month,1,1);break;case"MM":case"LL":e=dt(Ve.Month,2,1);break;case"MMM":e=Ke(Le.Months,qe.Abbreviated);break;case"MMMM":e=Ke(Le.Months,qe.Wide);break;case"MMMMM":e=Ke(Le.Months,qe.Narrow);break;case"LLL":e=Ke(Le.Months,qe.Abbreviated,Jt.Standalone);break;case"LLLL":e=Ke(Le.Months,qe.Wide,Jt.Standalone);break;case"LLLLL":e=Ke(Le.Months,qe.Narrow,Jt.Standalone);break;case"w":e=Sv(1);break;case"ww":e=Sv(2);break;case"W":e=Sv(1,!0);break;case"d":e=dt(Ve.Date,1);break;case"dd":e=dt(Ve.Date,2);break;case"c":case"cc":e=dt(Ve.Day,1);break;case"ccc":e=Ke(Le.Days,qe.Abbreviated,Jt.Standalone);break;case"cccc":e=Ke(Le.Days,qe.Wide,Jt.Standalone);break;case"ccccc":e=Ke(Le.Days,qe.Narrow,Jt.Standalone);break;case"cccccc":e=Ke(Le.Days,qe.Short,Jt.Standalone);break;case"E":case"EE":case"EEE":e=Ke(Le.Days,qe.Abbreviated);break;case"EEEE":e=Ke(Le.Days,qe.Wide);break;case"EEEEE":e=Ke(Le.Days,qe.Narrow);break;case"EEEEEE":e=Ke(Le.Days,qe.Short);break;case"a":case"aa":case"aaa":e=Ke(Le.DayPeriods,qe.Abbreviated);break;case"aaaa":e=Ke(Le.DayPeriods,qe.Wide);break;case"aaaaa":e=Ke(Le.DayPeriods,qe.Narrow);break;case"b":case"bb":case"bbb":e=Ke(Le.DayPeriods,qe.Abbreviated,Jt.Standalone,!0);break;case"bbbb":e=Ke(Le.DayPeriods,qe.Wide,Jt.Standalone,!0);break;case"bbbbb":e=Ke(Le.DayPeriods,qe.Narrow,Jt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ke(Le.DayPeriods,qe.Abbreviated,Jt.Format,!0);break;case"BBBB":e=Ke(Le.DayPeriods,qe.Wide,Jt.Format,!0);break;case"BBBBB":e=Ke(Le.DayPeriods,qe.Narrow,Jt.Format,!0);break;case"h":e=dt(Ve.Hours,1,-12);break;case"hh":e=dt(Ve.Hours,2,-12);break;case"H":e=dt(Ve.Hours,1);break;case"HH":e=dt(Ve.Hours,2);break;case"m":e=dt(Ve.Minutes,1);break;case"mm":e=dt(Ve.Minutes,2);break;case"s":e=dt(Ve.Seconds,1);break;case"ss":e=dt(Ve.Seconds,2);break;case"S":e=dt(Ve.FractionalSeconds,1);break;case"SS":e=dt(Ve.FractionalSeconds,2);break;case"SSS":e=dt(Ve.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=yf(ti.Short);break;case"ZZZZZ":e=yf(ti.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=yf(ti.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=yf(ti.Long);break;default:return null}return Av[n]=e,e}function bT(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function vL(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function wL(n,e,t){let r=t?-1:1,i=n.getTimezoneOffset(),o=bT(e,i);return vL(n,r*(o-i))}function _L(n){if(hT(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[i,o=1,s=1]=n.split("-").map(a=>+a);return If(i,o-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(uL))return IL(r)}let e=new Date(n);if(!hT(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function IL(n){let e=new Date(0),t=0,r=0,i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,u=Number(n[6]||0),d=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return o.call(e,s,a,u,d),e}function hT(n){return n instanceof Date&&!isNaN(n.valueOf())}function CT(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var xv=/\s+/,fT=[],Df=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=fT,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(xv):fT}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(xv):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(xv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(Ie(Zn),Ie(Ir))}}static{this.\u0275dir=Xe({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Rv=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Tf=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Rv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),pT(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);pT(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Ie(Ma),Ie(nf),Ie(Cv))}}static{this.\u0275dir=Xe({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function pT(n,e){n.context.$implicit=e.item}var Sf=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Mv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){gT("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){gT("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(Ie(Ma),Ie(nf))}}static{this.\u0275dir=Xe({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Mv=class{constructor(){this.$implicit=null,this.ngIf=null}};function gT(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Kt(e)}'.`)}var DT=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,o]=t.split("."),s=i.indexOf("-")===-1?void 0:vr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(Ie(Zn),Ie(Dv),Ie(Ir))}}static{this.\u0275dir=Xe({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})();function EL(n,e){return new Z(2100,!1)}var bL="mediumDate",CL=new J(""),DL=new J(""),Af=(()=>{class n{constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??bL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return dL(t,s,o||this.locale,a)}catch(s){throw EL(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(Ie(uf,16),Ie(CL,24),Ie(DL,24))}}static{this.\u0275pipe=$h({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var Iu=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Yo({type:n})}static{this.\u0275inj=Qo({})}}return n})(),TT="browser",TL="server";function Nv(n){return n===TL}var Ef=class{};var kv=class extends _f{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Fv=class n extends kv{static makeCurrent(){yT(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=SL();return t==null?null:AL(t)}resetBaseElement(){Eu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return CT(document.cookie,e)}},Eu=null;function SL(){return Eu=Eu||document.querySelector("base"),Eu?Eu.getAttribute("href"):null}function AL(n){return new URL(n,document.baseURI).pathname}var xL=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),Lv=new J(""),MT=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new Z(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(be(Lv),be(Be))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),xf=class{constructor(e){this._doc=e}},Pv="ng-app-id",NT=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Nv(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Pv}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Pv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Pv,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(be(Mn),be(nv),be(iv,8),be(Zi))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),Ov={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},jv=/%COMP%/g,PT="%COMP%",RL=`_nghost-${PT}`,ML=`_ngcontent-${PT}`,NL=!0,PL=new J("",{providedIn:"root",factory:()=>NL});function OL(n){return ML.replace(jv,n)}function kL(n){return RL.replace(jv,n)}function OT(n,e){return e.map(t=>t.replace(jv,n))}var AT=(()=>{class n{constructor(t,r,i,o,s,a,u,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Nv(a),this.defaultRenderer=new bu(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===mr.ShadowDom&&(r=re($({},r),{encapsulation:mr.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Rf?i.applyToHost(t):i instanceof Cu&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case mr.Emulated:o=new Rf(u,d,r,this.appId,p,s,a,g);break;case mr.ShadowDom:return new Vv(u,d,t,r,s,a,this.nonce,g);default:o=new Cu(u,d,r,p,s,a,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(be(MT),be(NT),be(nv),be(PL),be(Mn),be(Zi),be(Be),be(iv))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),bu=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Ov[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(xT(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(xT(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Z(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Ov[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Ov[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(vr.DashCase|vr.Important)?e.style.setProperty(t,r,i&vr.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&vr.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=ni().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function xT(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Vv=class extends bu{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=OT(i.id,i.styles);for(let p of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Cu=class extends bu{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?OT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Rf=class extends Cu{constructor(e,t,r,i,o,s,a,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,u,d),this.contentAttr=OL(d),this.hostAttr=kL(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},FL=(()=>{class n extends xf{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(be(Mn))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})(),RT=["alt","control","meta","shift"],LL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},VL={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},jL=(()=>{class n extends xf{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ni().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),RT.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=LL[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),RT.forEach(s=>{if(s!==i){let a=VL[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(be(Mn))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac})}}return n})();function kT(n,e){return uT($({rootComponent:n},UL(e)))}function UL(n){return{appProviders:[...qL,...n?.providers??[]],platformProviders:zL}}function BL(){Fv.makeCurrent()}function $L(){return new Gr}function HL(){return cD(document),document}var zL=[{provide:Zi,useValue:TT},{provide:rv,useValue:BL,multi:!0},{provide:Mn,useFactory:HL,deps:[]}];var qL=[{provide:Hh,useValue:"root"},{provide:Gr,useFactory:$L,deps:[]},{provide:Lv,useClass:FL,multi:!0,deps:[Mn,Be,Zi]},{provide:Lv,useClass:jL,multi:!0,deps:[Mn]},AT,NT,MT,{provide:Ta,useExisting:AT},{provide:Ef,useClass:xL,deps:[]},[]];var FT=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(be(Mn))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var pe="primary",Bu=Symbol("RouteTitle"),zv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ba(n){return new zv(n)}function WL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function KL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Dr(n[t],e[t]))return!1;return!0}function Dr(n,e){let t=n?qv(n):void 0,r=e?qv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!zT(n[i],e[i]))return!1;return!0}function qv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function zT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function qT(n){return n.length>0?n[n.length-1]:null}function to(n){return ym(n)?n:ns(n)?it(Promise.resolve(n)):oe(n)}var QL={exact:WT,subset:KT},GT={exact:YL,subset:ZL,ignored:()=>!0};function LT(n,e,t){return QL[t.paths](n.root,e.root,t.matrixParams)&&GT[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function YL(n,e){return Dr(n,e)}function WT(n,e,t){if(!as(n.segments,e.segments)||!Pf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!WT(n.children[r],e.children[r],t))return!1;return!0}function ZL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>zT(n[t],e[t]))}function KT(n,e,t){return QT(n,e,e.segments,t)}function QT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!as(i,t)||e.hasChildren()||!Pf(i,t,r))}else if(n.segments.length===t.length){if(!as(n.segments,t)||!Pf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!KT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!as(n.segments,i)||!Pf(n.segments,i,r)||!n.children[pe]?!1:QT(n.children[pe],e,o,r)}}function Pf(n,e,t){return e.every((r,i)=>GT[t](n[i].parameters,r.parameters))}var ii=class{constructor(e=new je([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ba(this.queryParams),this._queryParamMap}toString(){return eV.serialize(this)}},je=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Of(this)}},ss=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ba(this.parameters),this._parameterMap}toString(){return ZT(this)}};function JL(n,e){return as(n,e)&&n.every((t,r)=>Dr(t.parameters,e[r].parameters))}function as(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function XL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===pe&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==pe&&(t=t.concat(e(i,r)))}),t}var yw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:()=>new Mu,providedIn:"root"})}}return n})(),Mu=class{parse(e){let t=new Wv(e);return new ii(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Du(e.root,!0)}`,r=rV(e.queryParams),i=typeof e.fragment=="string"?`#${tV(e.fragment)}`:"";return`${t}${r}${i}`}},eV=new Mu;function Of(n){return n.segments.map(e=>ZT(e)).join("/")}function Du(n,e){if(!n.hasChildren())return Of(n);if(e){let t=n.children[pe]?Du(n.children[pe],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==pe&&r.push(`${i}:${Du(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=XL(n,(r,i)=>i===pe?[Du(n.children[pe],!1)]:[`${i}:${Du(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[pe]!=null?`${Of(n)}/${t[0]}`:`${Of(n)}/(${t.join("//")})`}}function YT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mf(n){return YT(n).replace(/%3B/gi,";")}function tV(n){return encodeURI(n)}function Gv(n){return YT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function kf(n){return decodeURIComponent(n)}function VT(n){return kf(n.replace(/\+/g,"%20"))}function ZT(n){return`${Gv(n.path)}${nV(n.parameters)}`}function nV(n){return Object.entries(n).map(([e,t])=>`;${Gv(e)}=${Gv(t)}`).join("")}function rV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Mf(t)}=${Mf(i)}`).join("&"):`${Mf(t)}=${Mf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var iV=/^[^\/()?;#]+/;function Uv(n){let e=n.match(iV);return e?e[0]:""}var oV=/^[^\/()?;=#]+/;function sV(n){let e=n.match(oV);return e?e[0]:""}var aV=/^[^=?&#]+/;function cV(n){let e=n.match(aV);return e?e[0]:""}var uV=/^[^&#]+/;function lV(n){let e=n.match(uV);return e?e[0]:""}var Wv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[pe]=new je(e,t)),r}parseSegment(){let e=Uv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Z(4009,!1);return this.capture(e),new ss(kf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=sV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Uv(this.remaining);i&&(r=i,this.capture(r))}e[kf(t)]=kf(r)}parseQueryParam(e){let t=cV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=lV(this.remaining);s&&(r=s,this.capture(r))}let i=VT(t),o=VT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Uv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Z(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=pe);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[pe]:new je([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Z(4011,!1)}};function JT(n){return n.segments.length>0?new je([],{[pe]:n}):n}function XT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=XT(i);if(r===pe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new je(n.segments,e);return dV(t)}function dV(n){if(n.numberOfChildren===1&&n.children[pe]){let e=n.children[pe];return new je(n.segments.concat(e.segments),e.children)}return n}function Nu(n){return n instanceof ii}function hV(n,e,t=null,r=null){let i=eS(n);return tS(i,e,t,r)}function eS(n){let e;function t(o){let s={};for(let u of o.children){let d=t(u);s[u.outlet]=d}let a=new je(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=JT(r);return e??i}function tS(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Bv(i,i,i,t,r);let o=fV(e);if(o.toRoot())return Bv(i,i,new je([],{}),t,r);let s=pV(o,i,n),a=s.processChildren?Au(s.segmentGroup,s.index,o.commands):rS(s.segmentGroup,s.index,o.commands);return Bv(i,s.segmentGroup,a,t,r)}function Ff(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Pu(n){return typeof n=="object"&&n!=null&&n.outlets}function Bv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;n===e?s=t:s=nS(n,e,t);let a=JT(XT(s));return new ii(a,o,i)}function nS(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=nS(o,e,t)}),new je(n.segments,r)}var Lf=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ff(r[0]))throw new Z(4003,!1);let i=r.find(Pu);if(i&&i!==qT(r))throw new Z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function fV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Lf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Lf(t,e,r)}var Va=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function pV(n,e,t){if(n.isAbsolute)return new Va(e,!0,0);if(!t)return new Va(e,!1,NaN);if(t.parent===null)return new Va(t,!0,0);let r=Ff(n.commands[0])?0:1,i=t.segments.length-1+r;return gV(t,i,n.numberOfDoubleDots)}function gV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Z(4005,!1);i=r.segments.length}return new Va(r,!1,i-o)}function mV(n){return Pu(n[0])?n[0].outlets:{[pe]:n}}function rS(n,e,t){if(n??=new je([],{}),n.segments.length===0&&n.hasChildren())return Au(n,e,t);let r=yV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new je(n.segments.slice(0,r.pathIndex),{});return o.children[pe]=new je(n.segments.slice(r.pathIndex),n.children),Au(o,0,i)}else return r.match&&i.length===0?new je(n.segments,{}):r.match&&!n.hasChildren()?Kv(n,e,t):r.match?Au(n,0,i):Kv(n,e,t)}function Au(n,e,t){if(t.length===0)return new je(n.segments,{});{let r=mV(t),i={};if(Object.keys(r).some(o=>o!==pe)&&n.children[pe]&&n.numberOfChildren===1&&n.children[pe].segments.length===0){let o=Au(n.children[pe],e,t);return new je(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=rS(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new je(n.segments,i)}}function yV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Pu(a))break;let u=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!UT(u,d,s))return o;r+=2}else{if(!UT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Kv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Pu(o)){let u=vV(o.outlets);return new je(r,u)}if(i===0&&Ff(t[0])){let u=n.segments[e];r.push(new ss(u.path,jT(t[0]))),i++;continue}let s=Pu(o)?o.outlets[pe]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Ff(a)?(r.push(new ss(s,jT(a))),i+=2):(r.push(new ss(s,{})),i++)}return new je(r,{})}function vV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Kv(new je([],{}),0,r))}),e}function jT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function UT(n,e,t){return n==t.path&&Dr(e,t.parameters)}var xu="imperative",Ft=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Ft||{}),Nn=class{constructor(e,t){this.id=e,this.url=t}},Ou=class extends Nn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Ft.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cs=class extends Nn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Ft.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},yn=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(yn||{}),Qv=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(Qv||{}),ri=class extends Nn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ft.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},us=class extends Nn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Ft.NavigationSkipped}},ku=class extends Nn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Ft.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vf=class extends Nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ft.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Yv=class extends Nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ft.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zv=class extends Nn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ft.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Jv=class extends Nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ft.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Xv=class extends Nn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Ft.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ew=class{constructor(e){this.route=e,this.type=Ft.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},tw=class{constructor(e){this.route=e,this.type=Ft.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},nw=class{constructor(e){this.snapshot=e,this.type=Ft.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},rw=class{constructor(e){this.snapshot=e,this.type=Ft.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iw=class{constructor(e){this.snapshot=e,this.type=Ft.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ow=class{constructor(e){this.snapshot=e,this.type=Ft.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Fu=class{},$a=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function wV(n,e){return n.providers&&!n._injector&&(n._injector=mv(n.providers,e,`Route: ${n.path}`)),n._injector??e}function er(n){return n.outlet||pe}function _V(n,e){let t=n.filter(r=>er(r)===e);return t.push(...n.filter(r=>er(r)!==e)),t}function $u(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var sw=class{get injector(){return $u(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new qf(this.rootInjector),this.attachRef=null}},qf=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new sw(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(be(Dn))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=aw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=aw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=cw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return cw(e,this._root).map(t=>t.value)}};function aw(n,e){if(n===e.value)return e;for(let t of e.children){let r=aw(n,t);if(r)return r}return null}function cw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=cw(n,t);if(r.length)return r.unshift(e),r}return[]}var mn=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function La(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Uf=class extends jf{constructor(e,t){super(e),this.snapshot=t,vw(this,e)}toString(){return this.snapshot.toString()}};function iS(n){let e=IV(n),t=new Ot([new ss("",{})]),r=new Ot({}),i=new Ot({}),o=new Ot({}),s=new Ot(""),a=new Ha(t,r,o,s,i,pe,n,e.root);return a.snapshot=e.root,new Uf(new mn(a,[]),e)}function IV(n){let e={},t={},r={},i="",o=new ja([],e,r,i,t,pe,n,null,{});return new $f("",new mn(o,[]))}var Ha=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(se(d=>d[Bu]))??oe(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(se(e=>Ba(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(se(e=>Ba(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Bf(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:$($({},e.params),n.params),data:$($({},e.data),n.data),resolve:$($($($({},n.data),e.data),i?.data),n._resolvedData)}:r={params:$({},n.params),data:$({},n.data),resolve:$($({},n.data),n._resolvedData??{})},i&&sS(i)&&(r.resolve[Bu]=i.title),r}var ja=class{get title(){return this.data?.[Bu]}constructor(e,t,r,i,o,s,a,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ba(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ba(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},$f=class extends jf{constructor(e,t){super(t),this.url=e,vw(this,t)}toString(){return oS(this._root)}};function vw(n,e){e.value._routerState=n,e.children.forEach(t=>vw(n,t))}function oS(n){let e=n.children.length>0?` { ${n.children.map(oS).join(", ")} } `:"";return`${n.value}${e}`}function $v(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Dr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Dr(e.params,t.params)||n.paramsSubject.next(t.params),KL(e.url,t.url)||n.urlSubject.next(t.url),Dr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function uw(n,e){let t=Dr(n.params,e.params)&&JL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||uw(n.parent,e.parent))}function sS(n){return typeof n.title=="string"||n.title===null}var ww=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=pe,this.activateEvents=new It,this.deactivateEvents=new It,this.attachEvents=new It,this.detachEvents=new It,this.parentContexts=q(qf),this.location=q(Ma),this.changeDetector=q(is),this.inputBinder=q(_w,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Z(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Z(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new lw(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Xe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Zo]})}}return n})(),lw=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ha?this.route:e===qf?this.childContexts:this.parent.get(e,t)}},_w=new J("");function EV(n,e,t){let r=Lu(n,e._root,t?t._root:void 0);return new Uf(r,e)}function Lu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=bV(n,e,t);return new mn(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Lu(n,a)),s}}let r=CV(e.value),i=e.children.map(o=>Lu(n,o));return new mn(r,i)}}function bV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Lu(n,r,i);return Lu(n,r)})}function CV(n){return new Ha(new Ot(n.url),new Ot(n.params),new Ot(n.queryParams),new Ot(n.fragment),new Ot(n.data),n.outlet,n.component,n)}var Vu=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},aS="ngNavigationCancelingError";function Hf(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Nu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=cS(!1,yn.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function cS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[aS]=!0,t.cancellationCode=e,t}function DV(n){return uS(n)&&Nu(n.url)}function uS(n){return!!n&&n[aS]}var TV=(n,e,t,r)=>se(i=>(new dw(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),dw=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),$v(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=La(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=La(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=La(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=La(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new ow(o.value.snapshot))}),e.children.length&&this.forwardEvent(new rw(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if($v(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),$v(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},zf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ua=class{constructor(e,t){this.component=e,this.route=t}};function SV(n,e,t){let r=n._root,i=e?e._root:null;return Tu(r,i,t,[r.value])}function AV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function qa(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Qb(n)?n:e.get(n):r}function Tu(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=La(e);return n.children.forEach(s=>{xV(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ru(a,t.getContext(s),i)),i}function xV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=RV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new zf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Tu(n,e,a?a.children:null,r,i):Tu(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ua(a.outlet.component,s))}else s&&Ru(e,a,i),i.canActivateChecks.push(new zf(r)),o.component?Tu(n,null,a?a.children:null,r,i):Tu(n,null,t,r,i);return i}function RV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!as(n.url,e.url);case"pathParamsOrQueryParamsChange":return!as(n.url,e.url)||!Dr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!uw(n,e)||!Dr(n.queryParams,e.queryParams);case"paramsChange":default:return!uw(n,e)}}function Ru(n,e,t){let r=La(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ru(s,e.children.getContext(o),t):Ru(s,null,t):Ru(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ua(e.outlet.component,i)):t.canDeactivateChecks.push(new Ua(null,i)):t.canDeactivateChecks.push(new Ua(null,i))}function Hu(n){return typeof n=="function"}function MV(n){return typeof n=="boolean"}function NV(n){return n&&Hu(n.canLoad)}function PV(n){return n&&Hu(n.canActivate)}function OV(n){return n&&Hu(n.canActivateChild)}function kV(n){return n&&Hu(n.canDeactivate)}function FV(n){return n&&Hu(n.canMatch)}function lS(n){return n instanceof Hr||n?.name==="EmptyError"}var Nf=Symbol("INITIAL_VALUE");function za(){return qn(n=>nh(n.map(e=>e.pipe(zr(1),sh(Nf)))).pipe(se(e=>{for(let t of e)if(t!==!0){if(t===Nf)return Nf;if(t===!1||LV(t))return t}return!0}),En(e=>e!==Nf),zr(1)))}function LV(n){return Nu(n)||n instanceof Vu}function VV(n,e){return wt(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?oe(re($({},t),{guardsResult:!0})):jV(s,r,i,n).pipe(wt(a=>a&&MV(a)?UV(r,o,n,e):oe(a)),se(a=>re($({},t),{guardsResult:a})))})}function jV(n,e,t,r){return it(n).pipe(wt(i=>qV(i.component,i.route,t,e,r)),fr(i=>i!==!0,!0))}function UV(n,e,t,r){return it(e).pipe(ua(i=>ca($V(i.route.parent,r),BV(i.route,r),zV(n,i.path,t),HV(n,i.route,t))),fr(i=>i!==!0,!0))}function BV(n,e){return n!==null&&e&&e(new iw(n)),oe(!0)}function $V(n,e){return n!==null&&e&&e(new nw(n)),oe(!0)}function HV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return oe(!0);let i=r.map(o=>rh(()=>{let s=$u(e)??t,a=qa(o,s),u=PV(a)?a.canActivate(e,n):Kr(s,()=>a(e,n));return to(u).pipe(fr())}));return oe(i).pipe(za())}function zV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>AV(s)).filter(s=>s!==null).map(s=>rh(()=>{let a=s.guards.map(u=>{let d=$u(s.node)??t,p=qa(u,d),g=OV(p)?p.canActivateChild(r,n):Kr(d,()=>p(r,n));return to(g).pipe(fr())});return oe(a).pipe(za())}));return oe(o).pipe(za())}function qV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return oe(!0);let s=o.map(a=>{let u=$u(e)??i,d=qa(a,u),p=kV(d)?d.canDeactivate(n,e,t,r):Kr(u,()=>d(n,e,t,r));return to(p).pipe(fr())});return oe(s).pipe(za())}function GV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return oe(!0);let o=i.map(s=>{let a=qa(s,n),u=NV(a)?a.canLoad(e,t):Kr(n,()=>a(e,t));return to(u)});return oe(o).pipe(za(),dS(r))}function dS(n){return Ld(_t(e=>{if(typeof e!="boolean")throw Hf(n,e)}),se(e=>e===!0))}function WV(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return oe(!0);let o=i.map(s=>{let a=qa(s,n),u=FV(a)?a.canMatch(e,t):Kr(n,()=>a(e,t));return to(u)});return oe(o).pipe(za(),dS(r))}var ju=class{constructor(e){this.segmentGroup=e||null}},Uu=class extends Error{constructor(e){super(),this.urlTree=e}};function Fa(n){return aa(new ju(n))}function KV(n){return aa(new Z(4e3,!1))}function QV(n){return aa(cS(!1,yn.GuardRejected))}var hw=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return oe(r);if(i.numberOfChildren>1||!i.children[pe])return KV(`${e.redirectTo}`);i=i.children[pe]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,params:I,data:M,title:L}=i,k=Kr(o,()=>a({params:I,data:M,queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,title:L}));if(k instanceof ii)throw new Uu(k);t=k}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Uu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new ii(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new je(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new Z(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},fw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function YV(n,e,t,r,i){let o=hS(n,e,t);return o.matched?(r=wV(e,r),WV(r,e,t,i).pipe(se(s=>s===!0?o:$({},fw)))):oe(o)}function hS(n,e,t){if(e.path==="**")return ZV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?$({},fw):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||WL)(t,n,e);if(!i)return $({},fw);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?$($({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function ZV(n){return{matched:!0,parameters:n.length>0?qT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function BT(n,e,t,r){return t.length>0&&e2(n,t,r)?{segmentGroup:new je(e,XV(r,new je(t,n.children))),slicedSegments:[]}:t.length===0&&t2(n,t,r)?{segmentGroup:new je(n.segments,JV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new je(n.segments,n.children),slicedSegments:t}}function JV(n,e,t,r){let i={};for(let o of t)if(Gf(n,e,o)&&!r[er(o)]){let s=new je([],{});i[er(o)]=s}return $($({},r),i)}function XV(n,e){let t={};t[pe]=e;for(let r of n)if(r.path===""&&er(r)!==pe){let i=new je([],{});t[er(r)]=i}return t}function e2(n,e,t){return t.some(r=>Gf(n,e,r)&&er(r)!==pe)}function t2(n,e,t){return t.some(r=>Gf(n,e,r))}function Gf(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function n2(n,e,t){return e.length===0&&!n.children[t]}var pw=class{};function r2(n,e,t,r,i,o,s="emptyOnly"){return new gw(n,e,t,r,i,s,o).recognize()}var i2=31,gw=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new hw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Z(4002,`'${e.segmentGroup}'`)}recognize(){let e=BT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(se(({children:t,rootSnapshot:r})=>{let i=new mn(r,t),o=new $f("",i),s=hV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new ja([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),pe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,pe,t).pipe(se(r=>({children:r,rootSnapshot:t})),Bi(r=>{if(r instanceof Uu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ju?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(se(s=>s instanceof mn?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return it(o).pipe(ua(s=>{let a=r.children[s],u=_V(t,s);return this.processSegmentGroup(e,u,a,s,i)}),oh((s,a)=>(s.push(...a),s)),$i(null),Im(),wt(s=>{if(s===null)return Fa(r);let a=fS(s);return o2(a),oe(a)}))}processSegment(e,t,r,i,o,s,a){return it(t).pipe(ua(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Bi(d=>{if(d instanceof ju)return oe(null);throw d}))),fr(u=>!!u),Bi(u=>{if(lS(u))return n2(r,i,o)?oe(new pw):Fa(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return er(r)!==s&&(s===pe||!Gf(i,o,r))?Fa(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):Fa(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:g,remainingSegments:_}=hS(t,i,o);if(!u)return Fa(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>i2&&(this.allowRedirects=!1));let I=new ja(o,d,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,$T(i),er(i),i.component??i._loadedComponent??null,i,HT(i)),M=Bf(I,a,this.paramsInheritanceStrategy);I.params=Object.freeze(M.params),I.data=Object.freeze(M.data);let L=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,g,I,e);return this.applyRedirects.lineralizeSegments(i,L).pipe(wt(k=>this.processSegment(e,r,t,k.concat(_),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=YV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(qn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(qn(({routes:d})=>{let p=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:I}=u,M=new ja(_,g,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,$T(r),er(r),r.component??r._loadedComponent??null,r,HT(r)),L=Bf(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(L.params),M.data=Object.freeze(L.data);let{segmentGroup:k,slicedSegments:H}=BT(t,_,I,d);if(H.length===0&&k.hasChildren())return this.processChildren(p,d,k,M).pipe(se(ee=>new mn(M,ee)));if(d.length===0&&H.length===0)return oe(new mn(M,[]));let Q=er(r)===o;return this.processSegment(p,d,k,H,Q?pe:o,!0,M).pipe(se(ee=>new mn(M,ee instanceof mn?[ee]:[])))}))):Fa(t)))}getChildConfig(e,t,r){return t.children?oe({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?oe({routes:t._loadedRoutes,injector:t._loadedInjector}):GV(e,t,r,this.urlSerializer).pipe(wt(i=>i?this.configLoader.loadChildren(e,t).pipe(_t(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):QV(t))):oe({routes:[],injector:e})}};function o2(n){n.sort((e,t)=>e.value.outlet===pe?-1:t.value.outlet===pe?1:e.value.outlet.localeCompare(t.value.outlet))}function s2(n){let e=n.value.routeConfig;return e&&e.path===""}function fS(n){let e=[],t=new Set;for(let r of n){if(!s2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=fS(r.children);e.push(new mn(r.value,i))}return e.filter(r=>!t.has(r))}function $T(n){return n.data||{}}function HT(n){return n.resolve||{}}function a2(n,e,t,r,i,o){return wt(s=>r2(n,e,t,r,s.extractedUrl,i,o).pipe(se(({state:a,tree:u})=>re($({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function c2(n,e){return wt(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return oe(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of pS(u))s.add(d);let a=0;return it(s).pipe(ua(u=>o.has(u)?u2(u,r,n,e):(u.data=Bf(u,u.parent,n).resolve,oe(void 0))),_t(()=>a++),la(1),wt(u=>a===s.size?oe(t):dn))})}function pS(n){let e=n.children.map(t=>pS(t)).flat();return[n,...e]}function u2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!sS(i)&&(o[Bu]=i.title),l2(o,n,e,r).pipe(se(s=>(n._resolvedData=s,n.data=Bf(n,n.parent,t).resolve,null)))}function l2(n,e,t,r){let i=qv(n);if(i.length===0)return oe({});let o={};return it(i).pipe(wt(s=>d2(n[s],e,t,r).pipe(fr(),_t(a=>{if(a instanceof Vu)throw Hf(new Mu,a);o[s]=a}))),la(1),_m(o),Bi(s=>lS(s)?dn:aa(s)))}function d2(n,e,t,r){let i=$u(e)??r,o=qa(n,i),s=o.resolve?o.resolve(e,t):Kr(i,()=>o(e,t));return to(s)}function Hv(n){return qn(e=>{let t=n(e);return t?it(t).pipe(se(()=>e)):oe(e)})}var gS=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===pe);return r}getResolvedTitleForRoute(t){return t.data[Bu]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:()=>q(h2),providedIn:"root"})}}return n})(),h2=(()=>{class n extends gS{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(be(FT))}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Iw=new J("",{providedIn:"root",factory:()=>({})}),f2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=wr({type:n,selectors:[["ng-component"]],standalone:!0,features:[br],decls:1,vars:0,template:function(r,i){r&1&&pn(0,"router-outlet")},dependencies:[ww],encapsulation:2})}}return n})();function Ew(n){let e=n.children&&n.children.map(Ew),t=e?re($({},n),{children:e}):$({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==pe&&(t.component=f2),t}var bw=new J(""),p2=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=q(bv)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return oe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=to(t.loadComponent()).pipe(se(mS),_t(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Jc(()=>{this.componentLoaders.delete(t)})),i=new ra(r,()=>new Pt).pipe(na());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return oe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=g2(r,this.compiler,t,this.onLoadEndListener).pipe(Jc(()=>{this.childrenLoaders.delete(r)})),s=new ra(o,()=>new Pt).pipe(na());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function g2(n,e,t,r){return to(n.loadChildren()).pipe(se(mS),wt(i=>i instanceof hu||Array.isArray(i)?oe(i):it(e.compileModuleAsync(i))),se(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(bw,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ew),injector:o}}))}function m2(n){return n&&typeof n=="object"&&"default"in n}function mS(n){return m2(n)?n.default:n}var Cw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:()=>q(y2),providedIn:"root"})}}return n})(),y2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),v2=new J("");var w2=new J(""),_2=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Pt,this.transitionAbortSubject=new Pt,this.configLoader=q(p2),this.environmentInjector=q(Dn),this.urlSerializer=q(yw),this.rootContexts=q(qf),this.location=q(_u),this.inputBindingEnabled=q(_w,{optional:!0})!==null,this.titleStrategy=q(gS),this.options=q(Iw,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=q(Cw),this.createViewTransition=q(v2,{optional:!0}),this.navigationErrorHandler=q(w2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>oe(void 0),this.rootComponentType=null;let t=i=>this.events.next(new ew(i)),r=i=>this.events.next(new tw(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(re($($({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Ot({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:xu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(En(o=>o.id!==0),se(o=>re($({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),qn(o=>{let s=!1,a=!1;return oe(o).pipe(qn(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",yn.SupersededByNewNavigation),dn;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?re($({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&p!=="reload"){let g="";return this.events.next(new us(u.id,this.urlSerializer.serialize(u.rawUrl),g,Qv.IgnoredSameUrlNavigation)),u.resolve(!1),dn}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return oe(u).pipe(qn(g=>{let _=this.transitions?.getValue();return this.events.next(new Ou(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?dn:Promise.resolve(g)}),a2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),_t(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=re($({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new Vf(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:I,restoredState:M,extras:L}=u,k=new Ou(g,this.urlSerializer.serialize(_),I,M);this.events.next(k);let H=iS(this.rootComponentType).snapshot;return this.currentTransition=o=re($({},u),{targetSnapshot:H,urlAfterRedirects:_,extras:re($({},L),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,oe(o)}else{let g="";return this.events.next(new us(u.id,this.urlSerializer.serialize(u.extractedUrl),g,Qv.IgnoredByUrlHandlingStrategy)),u.resolve(!1),dn}}),_t(u=>{let d=new Yv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),se(u=>(this.currentTransition=o=re($({},u),{guards:SV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),VV(this.environmentInjector,u=>this.events.next(u)),_t(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Hf(this.urlSerializer,u.guardsResult);let d=new Zv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),En(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",yn.GuardRejected),!1)),Hv(u=>{if(u.guards.canActivateChecks.length)return oe(u).pipe(_t(d=>{let p=new Jv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),qn(d=>{let p=!1;return oe(d).pipe(c2(this.paramsInheritanceStrategy,this.environmentInjector),_t({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",yn.NoDataFromResolver)}}))}),_t(d=>{let p=new Xv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),Hv(u=>{let d=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(_t(_=>{p.component=_}),se(()=>{})));for(let _ of p.children)g.push(...d(_));return g};return nh(d(u.targetSnapshot.root)).pipe($i(null),zr(1))}),Hv(()=>this.afterPreactivation()),qn(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?it(p).pipe(se(()=>o)):oe(o)}),se(u=>{let d=EV(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=re($({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),_t(()=>{this.events.next(new Fu)}),TV(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),zr(1),_t({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),Em(this.transitionAbortSubject.pipe(_t(u=>{throw u}))),Jc(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",yn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bi(u=>{if(a=!0,uS(u))this.events.next(new ri(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),DV(u)?this.events.next(new $a(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new ku(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let p=Kr(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof Vu){let{message:g,cancellationCode:_}=Hf(this.urlSerializer,p);this.events.next(new ri(o.id,this.urlSerializer.serialize(o.extractedUrl),g,_)),this.events.next(new $a(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let g=t.errorHandler(u);o.resolve(!!g)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return dn}))}))}cancelNavigationTransition(t,r,i){let o=new ri(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function I2(n){return n!==xu}var E2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:()=>q(b2),providedIn:"root"})}}return n})(),mw=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},b2=(()=>{class n extends mw{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=An(n)))(i||n)}})()}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),yS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:()=>q(C2),providedIn:"root"})}}return n})(),C2=(()=>{class n extends yS{constructor(){super(...arguments),this.location=q(_u),this.urlSerializer=q(yw),this.options=q(Iw,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=q(Cw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ii,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=iS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Ou)this.stateMemento=this.createStateMemento();else if(t instanceof us)this.rawUrlTree=r.initialUrl;else if(t instanceof Vf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Fu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof ri&&(t.code===yn.GuardRejected||t.code===yn.NoDataFromResolver)?this.restoreHistory(r):t instanceof ku?this.restoreHistory(r,!0):t instanceof cs&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof ii?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=$($({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=$($({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=An(n)))(i||n)}})()}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Su=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Su||{});function D2(n,e){n.events.pipe(En(t=>t instanceof cs||t instanceof ri||t instanceof ku||t instanceof us),se(t=>t instanceof cs||t instanceof us?Su.COMPLETE:(t instanceof ri?t.code===yn.Redirect||t.code===yn.SupersededByNewNavigation:!1)?Su.REDIRECTING:Su.FAILED),En(t=>t!==Su.REDIRECTING),zr(1)).subscribe(()=>{e()})}function T2(n){throw n}var S2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},A2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},no=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=q(cf),this.stateManager=q(yS),this.options=q(Iw,{optional:!0})||{},this.pendingTasks=q(Ra),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=q(_2),this.urlSerializer=q(yw),this.location=q(_u),this.urlHandlingStrategy=q(Cw),this._events=new Pt,this.errorHandler=this.options.errorHandler||T2,this.navigated=!1,this.routeReuseStrategy=q(E2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=q(bw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!q(_w,{optional:!0}),this.eventsSubscription=new rt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof ri&&r.code!==yn.Redirect&&r.code!==yn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof cs)this.navigated=!0;else if(r instanceof $a){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=$({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||I2(i.source)},s);this.scheduleNavigation(a,xu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}R2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=$({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ew),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=$($({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=eS(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return tS(g,t,p,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Nu(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,xu,null,r)}navigate(t,r={skipLocationChange:!1}){return x2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=$({},S2):r===!1?i=$({},A2):i=r,Nu(t))return LT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return LT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,d;s?(a=s.resolve,u=s.reject,d=s.promise):d=new Promise((g,_)=>{a=g,u=_});let p=this.pendingTasks.add();return D2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function x2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Z(4008,!1)}function R2(n){return!(n instanceof Fu)&&!(n instanceof $a)}var M2=new J("");function vS(n,...e){return _r([{provide:bw,multi:!0,useValue:n},[],{provide:Ha,useFactory:N2,deps:[no]},{provide:Ev,multi:!0,useFactory:P2},e.map(t=>t.\u0275providers)])}function N2(n){return n.routerState.root}function P2(){let n=q(on);return e=>{let t=n.get(rs);if(e!==t.components[0])return;let r=n.get(no),i=n.get(O2);n.get(k2)===1&&r.initialNavigation(),n.get(F2,null,ve.Optional)?.setUpPreloading(),n.get(M2,null,ve.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var O2=new J("",{factory:()=>new Pt}),k2=new J("",{providedIn:"root",factory:()=>1});var F2=new J("");var _S=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},L2=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},IS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,p=o>>2,g=(o&3)<<4|a>>4,_=(a&15)<<2|d>>6,I=d&63;u||(I=64,s||(_=64)),r.push(t[p],t[g],t[_],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(_S(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):L2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||d==null||g==null)throw new Tw;let _=o<<2|a>>4;if(r.push(_),d!==64){let I=a<<4&240|d>>2;if(r.push(I),g!==64){let M=d<<6&192|g;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Tw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},V2=function(n){let e=_S(n);return IS.encodeByteArray(e,!0)},zu=function(n){return V2(n).replace(/\./g,"")},Aw=function(n){try{return IS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function j2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var U2=()=>j2().__FIREBASE_DEFAULTS__,B2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},$2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Aw(n[1]);return e&&JSON.parse(e)},Kf=()=>{try{return U2()||B2()||$2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xw=n=>{var e,t;return(t=(e=Kf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ES=n=>{let e=xw(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Rw=()=>{var n;return(n=Kf())===null||n===void 0?void 0:n.config},Mw=n=>{var e;return(e=Kf())===null||e===void 0?void 0:e[`_${n}`]};var Wf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function bS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[zu(JSON.stringify(t)),zu(JSON.stringify(s)),""].join(".")}function At(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(At())}function H2(){var n;let e=(n=Kf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AS(){let n=At();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function xS(){return!H2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Nw(){try{return typeof indexedDB=="object"}catch{return!1}}function RS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var z2="FirebaseError",vn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=z2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,oi.prototype.create)}},oi=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?q2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new vn(i,a,r)}};function q2(n,e){return n.replace(G2,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var G2=/\{\$([^}]+)}/g;function MS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ls(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(wS(o)&&wS(s)){if(!ls(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function wS(n){return n!==null&&typeof n=="object"}function qu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function NS(n,e){let t=new Sw(n,e);return t.subscribe.bind(t)}var Sw=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");W2(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Dw),i.error===void 0&&(i.error=Dw),i.complete===void 0&&(i.complete=Dw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function W2(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Dw(){}var YW=4*60*60*1e3;function xt(n){return n&&n._delegate?n._delegate:n}var Pn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var ds="[DEFAULT]";var Pw=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Wf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q2(e))try{this.getOrInitializeService({instanceIdentifier:ds})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return D(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=ds){return this.instances.has(e)}getOptions(e=ds){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K2(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ds){return this.component?this.component.multipleInstances?e:ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function K2(n){return n===ds?void 0:n}function Q2(n){return n.instantiationMode==="EAGER"}var Qf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Pw(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Y2=[],Se=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Se||{}),Z2={debug:Se.DEBUG,verbose:Se.VERBOSE,info:Se.INFO,warn:Se.WARN,error:Se.ERROR,silent:Se.SILENT},J2=Se.INFO,X2={[Se.DEBUG]:"log",[Se.VERBOSE]:"log",[Se.INFO]:"info",[Se.WARN]:"warn",[Se.ERROR]:"error"},ej=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=X2[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ro=class{constructor(e){this.name=e,this._logLevel=J2,this._logHandler=ej,this._userLogHandler=null,Y2.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Se.DEBUG,...e),this._logHandler(this,Se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Se.VERBOSE,...e),this._logHandler(this,Se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Se.INFO,...e),this._logHandler(this,Se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Se.WARN,...e),this._logHandler(this,Se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Se.ERROR,...e),this._logHandler(this,Se.ERROR,...e)}};var tj=(n,e)=>e.some(t=>n instanceof t),PS,OS;function nj(){return PS||(PS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rj(){return OS||(OS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var kS=new WeakMap,kw=new WeakMap,FS=new WeakMap,Ow=new WeakMap,Lw=new WeakMap;function ij(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Tr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&kS.set(t,n)}).catch(()=>{}),Lw.set(e,n),e}function oj(n){if(kw.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});kw.set(n,e)}var Fw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return kw.get(n);if(e==="objectStoreNames")return n.objectStoreNames||FS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Tr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LS(n){Fw=n(Fw)}function sj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Yf(this),e,...t);return FS.set(r,e.sort?e.sort():[e]),Tr(r)}:rj().includes(n)?function(...e){return n.apply(Yf(this),e),Tr(kS.get(this))}:function(...e){return Tr(n.apply(Yf(this),e))}}function aj(n){return typeof n=="function"?sj(n):(n instanceof IDBTransaction&&oj(n),tj(n,nj())?new Proxy(n,Fw):n)}function Tr(n){if(n instanceof IDBRequest)return ij(n);if(Ow.has(n))return Ow.get(n);let e=aj(n);return e!==n&&(Ow.set(n,e),Lw.set(e,n)),e}var Yf=n=>Lw.get(n);function jS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Tr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Tr(s.result),u.oldVersion,u.newVersion,Tr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var cj=["get","getKey","getAll","getAllKeys","count"],uj=["put","add","delete","clear"],Vw=new Map;function VS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Vw.get(e))return Vw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=uj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cj.includes(t)))return;let o=function(s,...a){return D(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[t](...a),i&&u.done]))[0]})};return Vw.set(e,o),o}LS(n=>re($({},n),{get:(e,t,r)=>VS(e,t)||n.get(e,t,r),has:(e,t)=>!!VS(e,t)||n.has(e,t)}));var Uw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(lj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function lj(n){let e=n.getComponent();return e?.type==="VERSION"}var Bw="@firebase/app",US="0.10.13";var si=new ro("@firebase/app"),dj="@firebase/app-compat",hj="@firebase/analytics-compat",fj="@firebase/analytics",pj="@firebase/app-check-compat",gj="@firebase/app-check",mj="@firebase/auth",yj="@firebase/auth-compat",vj="@firebase/database",wj="@firebase/data-connect",_j="@firebase/database-compat",Ij="@firebase/functions",Ej="@firebase/functions-compat",bj="@firebase/installations",Cj="@firebase/installations-compat",Dj="@firebase/messaging",Tj="@firebase/messaging-compat",Sj="@firebase/performance",Aj="@firebase/performance-compat",xj="@firebase/remote-config",Rj="@firebase/remote-config-compat",Mj="@firebase/storage",Nj="@firebase/storage-compat",Pj="@firebase/firestore",Oj="@firebase/vertexai-preview",kj="@firebase/firestore-compat",Fj="firebase",Lj="10.14.1";var $w="[DEFAULT]",Vj={[Bw]:"fire-core",[dj]:"fire-core-compat",[fj]:"fire-analytics",[hj]:"fire-analytics-compat",[gj]:"fire-app-check",[pj]:"fire-app-check-compat",[mj]:"fire-auth",[yj]:"fire-auth-compat",[vj]:"fire-rtdb",[wj]:"fire-data-connect",[_j]:"fire-rtdb-compat",[Ij]:"fire-fn",[Ej]:"fire-fn-compat",[bj]:"fire-iid",[Cj]:"fire-iid-compat",[Dj]:"fire-fcm",[Tj]:"fire-fcm-compat",[Sj]:"fire-perf",[Aj]:"fire-perf-compat",[xj]:"fire-rc",[Rj]:"fire-rc-compat",[Mj]:"fire-gcs",[Nj]:"fire-gcs-compat",[Pj]:"fire-fst",[kj]:"fire-fst-compat",[Oj]:"fire-vertex","fire-js":"fire-js",[Fj]:"fire-js-all"};var Gu=new Map,jj=new Map,Hw=new Map;function BS(n,e){try{n.container.addComponent(e)}catch(t){si.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function oo(n){let e=n.name;if(Hw.has(e))return si.debug(`There were multiple attempts to register component ${e}.`),!1;Hw.set(e,n);for(let t of Gu.values())BS(t,n);for(let t of jj.values())BS(t,n);return!0}function Ku(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ai(n){return n.settings!==void 0}var Uj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},io=new oi("app","Firebase",Uj);var zw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw io.create("app-deleted",{appName:this._name})}};var so=Lj;function Ww(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:$w,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw io.create("bad-app-name",{appName:String(i)});if(t||(t=Rw()),!t)throw io.create("no-options");let o=Gu.get(i);if(o){if(ls(t,o.options)&&ls(r,o.config))return o;throw io.create("duplicate-app",{appName:i})}let s=new Qf(i);for(let u of Hw.values())s.addComponent(u);let a=new zw(t,r,s);return Gu.set(i,a),a}function Ga(n=$w){let e=Gu.get(n);if(!e&&n===$w&&Rw())return Ww();if(!e)throw io.create("no-app",{appName:n});return e}function Zf(){return Array.from(Gu.values())}function bt(n,e,t){var r;let i=(r=Vj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),si.warn(a.join(" "));return}oo(new Pn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Bj="firebase-heartbeat-database",$j=1,Wu="firebase-heartbeat-store",jw=null;function qS(){return jw||(jw=jS(Bj,$j,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Wu)}catch(t){console.warn(t)}}}}).catch(n=>{throw io.create("idb-open",{originalErrorMessage:n.message})})),jw}function Hj(n){return D(this,null,function*(){try{let t=(yield qS()).transaction(Wu),r=yield t.objectStore(Wu).get(GS(n));return yield t.done,r}catch(e){if(e instanceof vn)si.warn(e.message);else{let t=io.create("idb-get",{originalErrorMessage:e?.message});si.warn(t.message)}}})}function $S(n,e){return D(this,null,function*(){try{let r=(yield qS()).transaction(Wu,"readwrite");yield r.objectStore(Wu).put(e,GS(n)),yield r.done}catch(t){if(t instanceof vn)si.warn(t.message);else{let r=io.create("idb-set",{originalErrorMessage:t?.message});si.warn(r.message)}}})}function GS(n){return`${n.name}!${n.options.appId}`}var zj=1024,qj=30*24*60*60*1e3,qw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Gw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return D(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=HS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=qj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){si.warn(r)}})}getHeartbeatsHeader(){return D(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=HS(),{heartbeatsToSend:r,unsentEntries:i}=Gj(this._heartbeatsCache.heartbeats),o=zu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return si.warn(t),""}})}};function HS(){return new Date().toISOString().substring(0,10)}function Gj(n,e=zj){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),zS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),zS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Gw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(this,null,function*(){return Nw()?RS().then(()=>!0).catch(()=>!1):!1})}read(){return D(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Hj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $S(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return D(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $S(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function zS(n){return zu(JSON.stringify({version:2,heartbeats:n})).length}function Wj(n){oo(new Pn("platform-logger",e=>new Uw(e),"PRIVATE")),oo(new Pn("heartbeat",e=>new qw(e),"PRIVATE")),bt(Bw,US,n),bt(Bw,US,"esm2017"),bt("fire-js","")}Wj("");var Kj="firebase",Qj="10.14.1";bt(Kj,Qj,"app");var fs=new Wr("ANGULARFIRE2_VERSION");function Xf(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Qu=(n,e)=>{let t=e?[e]:Zf(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ka=class{constructor(){return Qu(Yj)}},Yj="app-check";function Wa(){}var Jf=class{zone;delegate;constructor(e,t=gm){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},Kw=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wa,{},Wa,Wa)),t.pipe(_t({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Qa=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Jf(Zone.current)),this.insideAngular=t.run(()=>new Jf(Zone.current,pm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(be(Be))};static \u0275prov=te({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ep(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function Zj(n){return ep().ngZone.runOutsideAngular(()=>n())}function hs(n){return ep().ngZone.run(()=>n())}function Jj(n){return Xj(ep())(n)}function Xj(n){return function(t){return t=t.lift(new Kw(n.ngZone)),t.pipe(Ui(n.outsideAngular),ji(n.insideAngular))}}var eU=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),hs(()=>n.apply(void 0,r))},Xt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=hs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wa,{},Wa,Wa))),r[o]=eU(r[o],t));let i=Zj(()=>n.apply(this,r));if(!e)if(i instanceof Ce){let o=ep();return i.pipe(Ui(o.outsideAngular),ji(o.insideAngular))}else return hs(()=>i);return i instanceof Ce?i.pipe(Jj):i instanceof Promise?hs(()=>new Promise((o,s)=>i.then(a=>hs(()=>o(a)),a=>hs(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:hs(()=>i)};var ci=class{constructor(e){return e}},ps=class{constructor(){return Zf()}};function tU(n){return n&&n.length===1?n[0]:new ci(Ga())}var Qw=new J("angularfire2._apps"),nU={provide:ci,useFactory:tU,deps:[[new Bt,Qw]]},rU={provide:ps,deps:[[new Bt,Qw]]};function iU(n){return(e,t)=>{let r=t.get(Zi);bt("angularfire",fs.full,"core"),bt("angularfire",fs.full,"app"),bt("angular",tT.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ci(i)}}function WS(n,...e){return _r([nU,rU,{provide:Qw,useFactory:iU(n),multi:!0,deps:[Be,on,Qa,...e]}])}var KS=Xt(Ww,!0);function uA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var lA=uA,dA=new oi("auth","Firebase",uA());var sp=new ro("@firebase/auth");function oU(n,...e){sp.logLevel<=Se.WARN&&sp.warn(`Auth (${so}): ${n}`,...e)}function np(n,...e){sp.logLevel<=Se.ERROR&&sp.error(`Auth (${so}): ${n}`,...e)}function co(n,...e){throw g_(n,...e)}function ms(n,...e){return g_(n,...e)}function hA(n,e,t){let r=Object.assign(Object.assign({},lA()),{[e]:t});return new oi("auth","Firebase",r).create(e,{appName:n.name})}function gs(n){return hA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function g_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return dA.create(n,...e)}function ce(n,e,...t){if(!n)throw g_(e,...t)}function ui(n){let e="INTERNAL ASSERTION FAILED: "+n;throw np(e),new Error(e)}function uo(n,e){n||ui(e)}function Xw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function sU(){return QS()==="http:"||QS()==="https:"}function QS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function aU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sU()||TS()||"connection"in navigator)?navigator.onLine:!0}function cU(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ys=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,uo(t>e,"Short delay should be less than long delay!"),this.isMobile=CS()||SS()}get(){return aU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function m_(n,e){uo(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var ap=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var uU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var lU=new ys(3e4,6e4);function y_(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Za(o,s,a,u){return D(this,arguments,function*(n,e,t,r,i={}){return fA(n,i,()=>D(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let g=qu(Object.assign({key:n.config.apiKey},p)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let I=Object.assign({method:e,headers:_},d);return DS()||(I.referrerPolicy="no-referrer"),ap.fetch()(pA(n,n.config.apiHost,t,g),I)}))})}function fA(n,e,t){return D(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},uU),e);try{let i=new e_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw tp(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw tp(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw tp(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw tp(n,"user-disabled",s);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw hA(n,p,d);co(n,p)}}catch(i){if(i instanceof vn)throw i;co(n,"network-request-failed",{message:String(i)})}})}function dU(o,s,a,u){return D(this,arguments,function*(n,e,t,r,i={}){let d=yield Za(n,e,t,r,i);return"mfaPendingCredential"in d&&co(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function pA(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?m_(n.config,i):`${n.config.apiScheme}://${i}`}var e_=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ms(this.auth,"network-request-failed")),lU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function tp(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ms(n,e,r);return i.customData._tokenResponse=t,i}function hU(n,e){return D(this,null,function*(){return Za(n,"POST","/v1/accounts:delete",e)})}function gA(n,e){return D(this,null,function*(){return Za(n,"POST","/v1/accounts:lookup",e)})}function Yu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function v_(n,e=!1){return D(this,null,function*(){let t=xt(n),r=yield t.getIdToken(e),i=w_(r);ce(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Yu(Yw(i.auth_time)),issuedAtTime:Yu(Yw(i.iat)),expirationTime:Yu(Yw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Yw(n){return Number(n)*1e3}function w_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return np("JWT malformed, contained fewer than 3 sections"),null;try{let i=Aw(t);return i?JSON.parse(i):(np("Failed to decode base64 JWT payload"),null)}catch(i){return np("Caught error parsing JWT payload as JSON",i?.toString()),null}}function YS(n){let e=w_(n);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ju(n,e,t=!1){return D(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof vn&&fU(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function fU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var t_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>D(this,null,function*(){yield this.iteration()}),t)}iteration(){return D(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Xu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function cp(n){return D(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Ju(n,gA(t,{idToken:r}));ce(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?mA(o.providerUserInfo):[],a=pU(n.providerData,s),u=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!a?.length,p=u?d:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Xu(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,g)})}function __(n){return D(this,null,function*(){let e=xt(n);yield cp(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function pU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mA(n){return n.map(e=>{var{providerId:t}=e,r=mm(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function gU(n,e){return D(this,null,function*(){let t=yield fA(n,{},()=>D(this,null,function*(){let r=qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=pA(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ap.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function mU(n,e){return D(this,null,function*(){return Za(n,"POST","/v2/accounts:revokeToken",y_(n,e))})}var Zu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):YS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ce(e.length!==0,"internal-error");let t=YS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return D(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return D(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield gU(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(ce(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ce(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ce(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ui("not implemented")}};function ao(n,e){ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Ya=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=mm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Xu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return D(this,null,function*(){let t=yield Ju(this,this.stsTokenManager.getToken(this.auth,e));return ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return v_(this,e)}reload(){return __(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return D(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield cp(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return D(this,null,function*(){if(ai(this.auth.app))return Promise.reject(gs(this.auth));let e=yield this.getIdToken();return yield Ju(this,hU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,d,p;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,I=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,M=(s=t.photoURL)!==null&&s!==void 0?s:void 0,L=(a=t.tenantId)!==null&&a!==void 0?a:void 0,k=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,H=(d=t.createdAt)!==null&&d!==void 0?d:void 0,Q=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:ee,emailVerified:ge,isAnonymous:$e,providerData:ne,stsTokenManager:A}=t;ce(ee&&A,e,"internal-error");let E=Zu.fromJSON(this.name,A);ce(typeof ee=="string",e,"internal-error"),ao(g,e.name),ao(_,e.name),ce(typeof ge=="boolean",e,"internal-error"),ce(typeof $e=="boolean",e,"internal-error"),ao(I,e.name),ao(M,e.name),ao(L,e.name),ao(k,e.name),ao(H,e.name),ao(Q,e.name);let b=new n({uid:ee,auth:e,email:_,emailVerified:ge,displayName:g,isAnonymous:$e,photoURL:M,phoneNumber:I,tenantId:L,stsTokenManager:E,createdAt:H,lastLoginAt:Q});return ne&&Array.isArray(ne)&&(b.providerData=ne.map(T=>Object.assign({},T))),k&&(b._redirectEventId=k),b}static _fromIdTokenResponse(e,t,r=!1){return D(this,null,function*(){let i=new Zu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield cp(o),o})}static _fromGetAccountInfoResponse(e,t,r){return D(this,null,function*(){let i=t.users[0];ce(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?mA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Zu;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Xu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var ZS=new Map;function li(n){uo(n instanceof Function,"Expected a class definition");let e=ZS.get(n);return e?(uo(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ZS.set(n,e),e)}var yU=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(this,null,function*(){return!0})}_set(t,r){return D(this,null,function*(){this.storage[t]=r})}_get(t){return D(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return D(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),n_=yU;function rp(n,e,t){return`firebase:${n}:${e}:${t}`}var up=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=rp(this.userKey,i.apiKey,o),this.fullPersistenceKey=rp("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return D(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ya._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return D(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return D(this,null,function*(){if(!t.length)return new n(li(n_),e,r);let i=(yield Promise.all(t.map(d=>D(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||li(n_),s=rp(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let p=yield d._get(s);if(p){let g=Ya._fromJSON(e,p);d!==o&&(a=g),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(d=>D(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new n(o,e,r))})}};function JS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_A(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EA(e))return"Blackberry";if(bA(e))return"Webos";if(vA(e))return"Safari";if((e.includes("chrome/")||wA(e))&&!e.includes("edge/"))return"Chrome";if(IA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function yA(n=At()){return/firefox\//i.test(n)}function vA(n=At()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wA(n=At()){return/crios\//i.test(n)}function _A(n=At()){return/iemobile/i.test(n)}function IA(n=At()){return/android/i.test(n)}function EA(n=At()){return/blackberry/i.test(n)}function bA(n=At()){return/webos/i.test(n)}function I_(n=At()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function vU(n=At()){var e;return I_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wU(){return AS()&&document.documentMode===10}function CA(n=At()){return I_(n)||IA(n)||bA(n)||EA(n)||/windows phone/i.test(n)||_A(n)}function DA(n,e=[]){let t;switch(n){case"Browser":t=JS(At());break;case"Worker":t=`${JS(At())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${so}/${r}`}var r_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return D(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function _U(t){return D(this,arguments,function*(n,e={}){return Za(n,"GET","/v2/passwordPolicy",y_(n,e))})}var IU=6,i_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:IU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var o_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lp(this),this.idTokenSubscription=new lp(this),this.beforeStateQueue=new r_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=li(t)),this._initializationPromise=this.queue(()=>D(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield up.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return D(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return D(this,null,function*(){try{let t=yield gA(this,{idToken:e}),r=yield Ya._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return D(this,null,function*(){var t;if(ai(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return D(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return D(this,null,function*(){try{yield cp(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=cU()}_delete(){return D(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return D(this,null,function*(){if(ai(this.app))return Promise.reject(gs(this));let t=e?xt(e):null;return t&&ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return D(this,null,function*(){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>D(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return D(this,null,function*(){return ai(this.app)?Promise.reject(gs(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ai(this.app)?Promise.reject(gs(this)):this.queue(()=>D(this,null,function*(){yield this.assertedPersistence.setPersistence(li(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return D(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return D(this,null,function*(){let e=yield _U(this),t=new i_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new oi("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return D(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield mU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return D(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return D(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&li(e)||this._popupRedirectResolver;ce(t,this,"argument-error"),this.redirectPersistenceManager=yield up.create(this,[li(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return D(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>D(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return D(this,null,function*(){if(e===this.currentUser)return this.queue(()=>D(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return D(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return D(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return D(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&oU(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function E_(n){return xt(n)}var lp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=NS(t=>this.observer=t)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var b_={loadJS(){return D(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EU(n){b_=n}function bU(n){return b_.loadJS(n)}function CU(){return b_.gapiScript}function TA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function C_(n,e){let t=Ku(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(ls(o,e??{}))return i;co(i,"already-initialized")}return t.initialize({options:e})}function DU(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(li);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function D_(n,e,t){let r=E_(n);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=SA(e),{host:s,port:a}=TU(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||SU()}function SA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function TU(n){let e=SA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:XS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:XS(s)}}}function XS(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function SU(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var dp=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,t){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}};function Zw(n,e){return D(this,null,function*(){return dU(n,"POST","/v1/accounts:signInWithIdp",y_(n,e))})}var hp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var s_=class extends hp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var el=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return D(this,null,function*(){let o=yield Ya._fromIdTokenResponse(e,r,i),s=eA(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return D(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=eA(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function eA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var a_=class n extends vn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function AA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?a_._fromErrorAndOperation(n,o,e,r):o})}function AU(n,e,t=!1){return D(this,null,function*(){let r=yield Ju(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return el._forOperation(n,"link",r)})}function xU(n,e,t=!1){return D(this,null,function*(){let{auth:r}=n;if(ai(r.app))return Promise.reject(gs(r));let i="reauthenticate";try{let o=yield Ju(n,AA(r,i,e,n),t);ce(o.idToken,r,"internal-error");let s=w_(o.idToken);ce(s,r,"internal-error");let{sub:a}=s;return ce(n.uid===a,r,"user-mismatch"),el._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&co(r,"user-mismatch"),o}})}function RU(n,e,t=!1){return D(this,null,function*(){if(ai(n.app))return Promise.reject(gs(n));let r="signIn",i=yield AA(n,r,e),o=yield el._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function T_(n,e,t,r){return xt(n).onIdTokenChanged(e,t,r)}function S_(n,e,t){return xt(n).beforeAuthStateChanged(e,t)}var fp="__sak";var pp=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fp,"1"),this.storage.removeItem(fp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var MU=1e3,NU=10,PU=(()=>{class n extends pp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);wU()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,NU):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},MU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return D(this,null,function*(){yield Li(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return D(this,null,function*(){let r=yield Li(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return D(this,null,function*(){yield Li(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),xA=PU;var OU=(()=>{class n extends pp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),A_=OU;function kU(n){return Promise.all(n.map(e=>D(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var FU=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return D(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(p=>D(this,null,function*(){return p(r.origin,s)})),d=yield kU(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function RA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var c_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return D(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let d=RA("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(_.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Sr(){return window}function LU(n){Sr().location.href=n}function MA(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}function VU(){return D(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function jU(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function UU(){return MA()?self:null}var NA="firebaseLocalStorageDb",BU=1,gp="firebaseLocalStorage",PA="fbase_key",vs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function yp(n,e){return n.transaction([gp],e?"readwrite":"readonly").objectStore(gp)}function $U(){let n=indexedDB.deleteDatabase(NA);return new vs(n).toPromise()}function u_(){let n=indexedDB.open(NA,BU);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(gp,{keyPath:PA})}catch(i){t(i)}}),n.addEventListener("success",()=>D(this,null,function*(){let r=n.result;r.objectStoreNames.contains(gp)?e(r):(r.close(),yield $U(),e(yield u_()))}))})}function tA(n,e,t){return D(this,null,function*(){let r=yp(n,!0).put({[PA]:e,value:t});return new vs(r).toPromise()})}function HU(n,e){return D(this,null,function*(){let t=yp(n,!1).get(e),r=yield new vs(t).toPromise();return r===void 0?null:r.value})}function nA(n,e){let t=yp(n,!0).delete(e);return new vs(t).toPromise()}var zU=800,qU=3,GU=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return D(this,null,function*(){return this.db?this.db:(this.db=yield u_(),this.db)})}_withRetries(t){return D(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>qU)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return D(this,null,function*(){return MA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return D(this,null,function*(){this.receiver=FU._getInstance(UU()),this.receiver._subscribe("keyChanged",(t,r)=>D(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>D(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return D(this,null,function*(){var t,r;if(this.activeServiceWorker=yield VU(),!this.activeServiceWorker)return;this.sender=new c_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return D(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||jU()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return D(this,null,function*(){try{if(!indexedDB)return!1;let t=yield u_();return yield tA(t,fp,"1"),yield nA(t,fp),!0}catch{}return!1})}_withPendingWrite(t){return D(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(i=>tA(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return D(this,null,function*(){let r=yield this._withRetries(i=>HU(i,t));return this.localCache[t]=r,r})}_remove(t){return D(this,null,function*(){return this._withPendingWrite(()=>D(this,null,function*(){return yield this._withRetries(r=>nA(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return D(this,null,function*(){let t=yield this._withRetries(o=>{let s=yp(o,!1).getAll();return new vs(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>D(this,null,function*(){return this._poll()}),zU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),OA=GU;var q7=TA("rcb"),G7=new ys(3e4,6e4);function WU(n,e){return e?li(e):(ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var tl=class extends dp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function KU(n){return RU(n.auth,new tl(n),n.bypassAuthState)}function QU(n){let{auth:e,user:t}=n;return ce(t,e,"internal-error"),xU(t,new tl(n),n.bypassAuthState)}function YU(n){return D(this,null,function*(){let{auth:e,user:t}=n;return ce(t,e,"internal-error"),AU(t,new tl(n),n.bypassAuthState)})}var l_=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>D(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return D(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KU;case"linkViaPopup":case"linkViaRedirect":return YU;case"reauthViaPopup":case"reauthViaRedirect":return QU;default:co(this.auth,"internal-error")}}resolve(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){uo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var W7=new ys(2e3,1e4);var ZU="pendingRedirect",ip=new Map,d_=class n extends l_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return D(this,null,function*(){let e=ip.get(this.auth._key());if(!e){try{let r=(yield JU(this.resolver,this.auth))?yield Li(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ip.set(this.auth._key(),e)}return this.bypassAuthState||ip.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return D(this,null,function*(){if(e.type==="signInViaRedirect")return Li(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Li(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return D(this,null,function*(){})}cleanUp(){}};function JU(n,e){return D(this,null,function*(){let t=tB(e),r=eB(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function XU(n,e){ip.set(n._key(),e)}function eB(n){return li(n._redirectPersistence)}function tB(n){return rp(ZU,n.config.apiKey,n.name)}function nB(n,e,t=!1){return D(this,null,function*(){if(ai(n.app))return Promise.reject(gs(n));let r=E_(n),i=WU(r,e),s=yield new d_(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var rB=10*60*1e3,h_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!iB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!kA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ms(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rB&&this.cachedEventUids.clear(),this.cachedEventUids.has(rA(e))}saveEventToCache(e){this.cachedEventUids.add(rA(e)),this.lastProcessedEventTime=Date.now()}};function rA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function kA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function iB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kA(n);default:return!1}}function oB(t){return D(this,arguments,function*(n,e={}){return Za(n,"GET","/v1/projects",e)})}var sB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aB=/^https?/;function cB(n){return D(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield oB(n);for(let t of e)try{if(uB(t))return}catch{}co(n,"unauthorized-domain")})}function uB(n){let e=Xw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!aB.test(t))return!1;if(sB.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var lB=new ys(3e4,6e4);function iA(){let n=Sr().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function dB(n){return new Promise((e,t)=>{var r,i,o;function s(){iA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iA(),t(ms(n,"network-request-failed"))},timeout:lB.get()})}if(!((i=(r=Sr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Sr().gapi)===null||o===void 0)&&o.load)s();else{let a=TA("iframefcb");return Sr()[a]=()=>{gapi.load?s():t(ms(n,"network-request-failed"))},bU(`${CU()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw op=null,e})}var op=null;function hB(n){return op=op||dB(n),op}var fB=new ys(5e3,15e3),pB="__/auth/iframe",gB="emulator/auth/iframe",mB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vB(n){let e=n.config;ce(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?m_(e,gB):`https://${n.config.authDomain}/${pB}`,r={apiKey:e.apiKey,appName:n.name,v:so},i=yB.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${qu(r).slice(1)}`}function wB(n){return D(this,null,function*(){let e=yield hB(n),t=Sr().gapi;return ce(t,n,"internal-error"),e.open({where:document.body,url:vB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mB,dontclear:!0},r=>new Promise((i,o)=>D(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ms(n,"network-request-failed"),a=Sr().setTimeout(()=>{o(s)},fB.get());function u(){Sr().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var _B={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IB=500,EB=600,bB="_blank",CB="http://localhost",mp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function DB(n,e,t,r=IB,i=EB){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},_B),{width:r.toString(),height:i.toString(),top:o,left:s}),d=At().toLowerCase();t&&(a=wA(d)?bB:t),yA(d)&&(e=e||CB,u.scrollbars="yes");let p=Object.entries(u).reduce((_,[I,M])=>`${_}${I}=${M},`,"");if(vU(d)&&a!=="_self")return TB(e||"",a),new mp(null);let g=window.open(e||"",a,p);ce(g,n,"popup-blocked");try{g.focus()}catch{}return new mp(g)}function TB(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var SB="__/auth/handler",AB="emulator/auth/handler",xB=encodeURIComponent("fac");function oA(n,e,t,r,i,o){return D(this,null,function*(){ce(n.config.authDomain,n,"auth-domain-config-required"),ce(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:so,eventId:i};if(e instanceof hp){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",MS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,g]of Object.entries(o||{}))s[p]=g}if(e instanceof s_){let p=e.getScopes().filter(g=>g!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield n._getAppCheckToken(),d=u?`#${xB}=${encodeURIComponent(u)}`:"";return`${RB(n)}?${qu(a).slice(1)}${d}`})}function RB({config:n}){return n.emulator?m_(n,AB):`https://${n.authDomain}/${SB}`}var Jw="webStorageSupport",f_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=A_,this._completeRedirectFn=nB,this._overrideRedirectResult=XU}_openPopup(e,t,r,i){return D(this,null,function*(){var o;uo((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield oA(e,t,r,Xw(),i);return DB(e,s,RA())})}_openRedirect(e,t,r,i){return D(this,null,function*(){yield this._originValidation(e);let o=yield oA(e,t,r,Xw(),i);return LU(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(uo(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return D(this,null,function*(){let t=yield wB(e),r=new h_(e);return t.register("authEvent",i=>(ce(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jw,{type:Jw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Jw];s!==void 0&&t(!!s),co(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return CA()||vA()||I_()}},FA=f_;var sA="@firebase/auth",aA="1.7.9";var p_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return D(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function MB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NB(n){oo(new Pn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ce(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DA(n)},d=new o_(r,i,o,u);return DU(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),oo(new Pn("auth-internal",e=>{let t=E_(e.getProvider("auth").getImmediate());return(r=>new p_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),bt(sA,aA,MB(n)),bt(sA,aA,"esm2017")}var PB=5*60,OB=Mw("authIdTokenMaxAge")||PB,cA=null,kB=n=>e=>D(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>OB)return;let i=t?.token;cA!==i&&(cA=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function x_(n=Ga()){let e=Ku(n,"auth");if(e.isInitialized())return e.getImmediate();let t=C_(n,{popupRedirectResolver:FA,persistence:[OA,xA,A_]}),r=Mw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=kB(o.toString());S_(t,s,()=>s(t.currentUser)),T_(t,a=>s(a))}}let i=xw("auth");return i&&D_(t,`http://${i}`),t}function FB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}EU({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ms("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",FB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NB("Browser");var LA="auth",nl=class{constructor(e){return e}},rl=class{constructor(){return Qu(LA)}};var R_=new J("angularfire2.auth-instances");function R$(n,e){let t=Xf(LA,n,e);return t&&new nl(t)}function M$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new nl(r)}}var N$={provide:rl,deps:[[new Bt,R_]]},P$={provide:nl,useFactory:R$,deps:[[new Bt,R_],ci]};function VA(n,...e){return bt("angularfire",fs.full,"auth"),_r([P$,N$,{provide:R_,useFactory:M$(n),multi:!0,deps:[Be,on,Qa,ps,[new Bt,Ka],...e]}])}var jA=Xt(x_,!0);var UA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},BA={};var lo,M_;(function(){var n;function e(A,E){function b(){}b.prototype=E.prototype,A.D=E.prototype,A.prototype=new b,A.prototype.constructor=A,A.C=function(T,x,S){for(var C=Array(arguments.length-2),kn=2;kn<arguments.length;kn++)C[kn-2]=arguments[kn];return E.prototype[x].apply(T,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(A,E,b){b||(b=0);var T=Array(16);if(typeof E=="string")for(var x=0;16>x;++x)T[x]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(x=0;16>x;++x)T[x]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=A.g[0],b=A.g[1],x=A.g[2];var S=A.g[3],C=E+(S^b&(x^S))+T[0]+3614090360&4294967295;E=b+(C<<7&4294967295|C>>>25),C=S+(x^E&(b^x))+T[1]+3905402710&4294967295,S=E+(C<<12&4294967295|C>>>20),C=x+(b^S&(E^b))+T[2]+606105819&4294967295,x=S+(C<<17&4294967295|C>>>15),C=b+(E^x&(S^E))+T[3]+3250441966&4294967295,b=x+(C<<22&4294967295|C>>>10),C=E+(S^b&(x^S))+T[4]+4118548399&4294967295,E=b+(C<<7&4294967295|C>>>25),C=S+(x^E&(b^x))+T[5]+1200080426&4294967295,S=E+(C<<12&4294967295|C>>>20),C=x+(b^S&(E^b))+T[6]+2821735955&4294967295,x=S+(C<<17&4294967295|C>>>15),C=b+(E^x&(S^E))+T[7]+4249261313&4294967295,b=x+(C<<22&4294967295|C>>>10),C=E+(S^b&(x^S))+T[8]+1770035416&4294967295,E=b+(C<<7&4294967295|C>>>25),C=S+(x^E&(b^x))+T[9]+2336552879&4294967295,S=E+(C<<12&4294967295|C>>>20),C=x+(b^S&(E^b))+T[10]+4294925233&4294967295,x=S+(C<<17&4294967295|C>>>15),C=b+(E^x&(S^E))+T[11]+2304563134&4294967295,b=x+(C<<22&4294967295|C>>>10),C=E+(S^b&(x^S))+T[12]+1804603682&4294967295,E=b+(C<<7&4294967295|C>>>25),C=S+(x^E&(b^x))+T[13]+4254626195&4294967295,S=E+(C<<12&4294967295|C>>>20),C=x+(b^S&(E^b))+T[14]+2792965006&4294967295,x=S+(C<<17&4294967295|C>>>15),C=b+(E^x&(S^E))+T[15]+1236535329&4294967295,b=x+(C<<22&4294967295|C>>>10),C=E+(x^S&(b^x))+T[1]+4129170786&4294967295,E=b+(C<<5&4294967295|C>>>27),C=S+(b^x&(E^b))+T[6]+3225465664&4294967295,S=E+(C<<9&4294967295|C>>>23),C=x+(E^b&(S^E))+T[11]+643717713&4294967295,x=S+(C<<14&4294967295|C>>>18),C=b+(S^E&(x^S))+T[0]+3921069994&4294967295,b=x+(C<<20&4294967295|C>>>12),C=E+(x^S&(b^x))+T[5]+3593408605&4294967295,E=b+(C<<5&4294967295|C>>>27),C=S+(b^x&(E^b))+T[10]+38016083&4294967295,S=E+(C<<9&4294967295|C>>>23),C=x+(E^b&(S^E))+T[15]+3634488961&4294967295,x=S+(C<<14&4294967295|C>>>18),C=b+(S^E&(x^S))+T[4]+3889429448&4294967295,b=x+(C<<20&4294967295|C>>>12),C=E+(x^S&(b^x))+T[9]+568446438&4294967295,E=b+(C<<5&4294967295|C>>>27),C=S+(b^x&(E^b))+T[14]+3275163606&4294967295,S=E+(C<<9&4294967295|C>>>23),C=x+(E^b&(S^E))+T[3]+4107603335&4294967295,x=S+(C<<14&4294967295|C>>>18),C=b+(S^E&(x^S))+T[8]+1163531501&4294967295,b=x+(C<<20&4294967295|C>>>12),C=E+(x^S&(b^x))+T[13]+2850285829&4294967295,E=b+(C<<5&4294967295|C>>>27),C=S+(b^x&(E^b))+T[2]+4243563512&4294967295,S=E+(C<<9&4294967295|C>>>23),C=x+(E^b&(S^E))+T[7]+1735328473&4294967295,x=S+(C<<14&4294967295|C>>>18),C=b+(S^E&(x^S))+T[12]+2368359562&4294967295,b=x+(C<<20&4294967295|C>>>12),C=E+(b^x^S)+T[5]+4294588738&4294967295,E=b+(C<<4&4294967295|C>>>28),C=S+(E^b^x)+T[8]+2272392833&4294967295,S=E+(C<<11&4294967295|C>>>21),C=x+(S^E^b)+T[11]+1839030562&4294967295,x=S+(C<<16&4294967295|C>>>16),C=b+(x^S^E)+T[14]+4259657740&4294967295,b=x+(C<<23&4294967295|C>>>9),C=E+(b^x^S)+T[1]+2763975236&4294967295,E=b+(C<<4&4294967295|C>>>28),C=S+(E^b^x)+T[4]+1272893353&4294967295,S=E+(C<<11&4294967295|C>>>21),C=x+(S^E^b)+T[7]+4139469664&4294967295,x=S+(C<<16&4294967295|C>>>16),C=b+(x^S^E)+T[10]+3200236656&4294967295,b=x+(C<<23&4294967295|C>>>9),C=E+(b^x^S)+T[13]+681279174&4294967295,E=b+(C<<4&4294967295|C>>>28),C=S+(E^b^x)+T[0]+3936430074&4294967295,S=E+(C<<11&4294967295|C>>>21),C=x+(S^E^b)+T[3]+3572445317&4294967295,x=S+(C<<16&4294967295|C>>>16),C=b+(x^S^E)+T[6]+76029189&4294967295,b=x+(C<<23&4294967295|C>>>9),C=E+(b^x^S)+T[9]+3654602809&4294967295,E=b+(C<<4&4294967295|C>>>28),C=S+(E^b^x)+T[12]+3873151461&4294967295,S=E+(C<<11&4294967295|C>>>21),C=x+(S^E^b)+T[15]+530742520&4294967295,x=S+(C<<16&4294967295|C>>>16),C=b+(x^S^E)+T[2]+3299628645&4294967295,b=x+(C<<23&4294967295|C>>>9),C=E+(x^(b|~S))+T[0]+4096336452&4294967295,E=b+(C<<6&4294967295|C>>>26),C=S+(b^(E|~x))+T[7]+1126891415&4294967295,S=E+(C<<10&4294967295|C>>>22),C=x+(E^(S|~b))+T[14]+2878612391&4294967295,x=S+(C<<15&4294967295|C>>>17),C=b+(S^(x|~E))+T[5]+4237533241&4294967295,b=x+(C<<21&4294967295|C>>>11),C=E+(x^(b|~S))+T[12]+1700485571&4294967295,E=b+(C<<6&4294967295|C>>>26),C=S+(b^(E|~x))+T[3]+2399980690&4294967295,S=E+(C<<10&4294967295|C>>>22),C=x+(E^(S|~b))+T[10]+4293915773&4294967295,x=S+(C<<15&4294967295|C>>>17),C=b+(S^(x|~E))+T[1]+2240044497&4294967295,b=x+(C<<21&4294967295|C>>>11),C=E+(x^(b|~S))+T[8]+1873313359&4294967295,E=b+(C<<6&4294967295|C>>>26),C=S+(b^(E|~x))+T[15]+4264355552&4294967295,S=E+(C<<10&4294967295|C>>>22),C=x+(E^(S|~b))+T[6]+2734768916&4294967295,x=S+(C<<15&4294967295|C>>>17),C=b+(S^(x|~E))+T[13]+1309151649&4294967295,b=x+(C<<21&4294967295|C>>>11),C=E+(x^(b|~S))+T[4]+4149444226&4294967295,E=b+(C<<6&4294967295|C>>>26),C=S+(b^(E|~x))+T[11]+3174756917&4294967295,S=E+(C<<10&4294967295|C>>>22),C=x+(E^(S|~b))+T[2]+718787259&4294967295,x=S+(C<<15&4294967295|C>>>17),C=b+(S^(x|~E))+T[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(x+(C<<21&4294967295|C>>>11))&4294967295,A.g[2]=A.g[2]+x&4294967295,A.g[3]=A.g[3]+S&4294967295}r.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var b=E-this.blockSize,T=this.B,x=this.h,S=0;S<E;){if(x==0)for(;S<=b;)i(this,A,S),S+=this.blockSize;if(typeof A=="string"){for(;S<E;)if(T[x++]=A.charCodeAt(S++),x==this.blockSize){i(this,T),x=0;break}}else for(;S<E;)if(T[x++]=A[S++],x==this.blockSize){i(this,T),x=0;break}}this.h=x,this.o+=E},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var b=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=b&255,b/=256;for(this.u(A),A=Array(16),E=b=0;4>E;++E)for(var T=0;32>T;T+=8)A[b++]=this.g[E]>>>T&255;return A};function o(A,E){var b=a;return Object.prototype.hasOwnProperty.call(b,A)?b[A]:b[A]=E(A)}function s(A,E){this.h=E;for(var b=[],T=!0,x=A.length-1;0<=x;x--){var S=A[x]|0;T&&S==E||(b[x]=S,T=!1)}this.g=b}var a={};function u(A){return-128<=A&&128>A?o(A,function(E){return new s([E|0],0>E?-1:0)}):new s([A|0],0>A?-1:0)}function d(A){if(isNaN(A)||!isFinite(A))return g;if(0>A)return k(d(-A));for(var E=[],b=1,T=0;A>=b;T++)E[T]=A/b|0,b*=4294967296;return new s(E,0)}function p(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return k(p(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(E,8)),T=g,x=0;x<A.length;x+=8){var S=Math.min(8,A.length-x),C=parseInt(A.substring(x,x+S),E);8>S?(S=d(Math.pow(E,S)),T=T.j(S).add(d(C))):(T=T.j(b),T=T.add(d(C)))}return T}var g=u(0),_=u(1),I=u(16777216);n=s.prototype,n.m=function(){if(L(this))return-k(this).m();for(var A=0,E=1,b=0;b<this.g.length;b++){var T=this.i(b);A+=(0<=T?T:4294967296+T)*E,E*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(M(this))return"0";if(L(this))return"-"+k(this).toString(A);for(var E=d(Math.pow(A,6)),b=this,T="";;){var x=ge(b,E).g;b=H(b,x.j(E));var S=((0<b.g.length?b.g[0]:b.h)>>>0).toString(A);if(b=x,M(b))return S+T;for(;6>S.length;)S="0"+S;T=S+T}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function M(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function L(A){return A.h==-1}n.l=function(A){return A=H(this,A),L(A)?-1:M(A)?0:1};function k(A){for(var E=A.g.length,b=[],T=0;T<E;T++)b[T]=~A.g[T];return new s(b,~A.h).add(_)}n.abs=function(){return L(this)?k(this):this},n.add=function(A){for(var E=Math.max(this.g.length,A.g.length),b=[],T=0,x=0;x<=E;x++){var S=T+(this.i(x)&65535)+(A.i(x)&65535),C=(S>>>16)+(this.i(x)>>>16)+(A.i(x)>>>16);T=C>>>16,S&=65535,C&=65535,b[x]=C<<16|S}return new s(b,b[b.length-1]&-2147483648?-1:0)};function H(A,E){return A.add(k(E))}n.j=function(A){if(M(this)||M(A))return g;if(L(this))return L(A)?k(this).j(k(A)):k(k(this).j(A));if(L(A))return k(this.j(k(A)));if(0>this.l(I)&&0>A.l(I))return d(this.m()*A.m());for(var E=this.g.length+A.g.length,b=[],T=0;T<2*E;T++)b[T]=0;for(T=0;T<this.g.length;T++)for(var x=0;x<A.g.length;x++){var S=this.i(T)>>>16,C=this.i(T)&65535,kn=A.i(x)>>>16,yi=A.i(x)&65535;b[2*T+2*x]+=C*yi,Q(b,2*T+2*x),b[2*T+2*x+1]+=S*yi,Q(b,2*T+2*x+1),b[2*T+2*x+1]+=C*kn,Q(b,2*T+2*x+1),b[2*T+2*x+2]+=S*kn,Q(b,2*T+2*x+2)}for(T=0;T<E;T++)b[T]=b[2*T+1]<<16|b[2*T];for(T=E;T<2*E;T++)b[T]=0;return new s(b,0)};function Q(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function ee(A,E){this.g=A,this.h=E}function ge(A,E){if(M(E))throw Error("division by zero");if(M(A))return new ee(g,g);if(L(A))return E=ge(k(A),E),new ee(k(E.g),k(E.h));if(L(E))return E=ge(A,k(E)),new ee(k(E.g),E.h);if(30<A.g.length){if(L(A)||L(E))throw Error("slowDivide_ only works with positive integers.");for(var b=_,T=E;0>=T.l(A);)b=$e(b),T=$e(T);var x=ne(b,1),S=ne(T,1);for(T=ne(T,2),b=ne(b,2);!M(T);){var C=S.add(T);0>=C.l(A)&&(x=x.add(b),S=C),T=ne(T,1),b=ne(b,1)}return E=H(A,x.j(E)),new ee(x,E)}for(x=g;0<=A.l(E);){for(b=Math.max(1,Math.floor(A.m()/E.m())),T=Math.ceil(Math.log(b)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),S=d(b),C=S.j(E);L(C)||0<C.l(A);)b-=T,S=d(b),C=S.j(E);M(S)&&(S=_),x=x.add(S),A=H(A,C)}return new ee(x,A)}n.A=function(A){return ge(this,A).h},n.and=function(A){for(var E=Math.max(this.g.length,A.g.length),b=[],T=0;T<E;T++)b[T]=this.i(T)&A.i(T);return new s(b,this.h&A.h)},n.or=function(A){for(var E=Math.max(this.g.length,A.g.length),b=[],T=0;T<E;T++)b[T]=this.i(T)|A.i(T);return new s(b,this.h|A.h)},n.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),b=[],T=0;T<E;T++)b[T]=this.i(T)^A.i(T);return new s(b,this.h^A.h)};function $e(A){for(var E=A.g.length+1,b=[],T=0;T<E;T++)b[T]=A.i(T)<<1|A.i(T-1)>>>31;return new s(b,A.h)}function ne(A,E){var b=E>>5;E%=32;for(var T=A.g.length-b,x=[],S=0;S<T;S++)x[S]=0<E?A.i(S+b)>>>E|A.i(S+b+1)<<32-E:A.i(S+b);return new s(x,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,M_=BA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=p,lo=BA.Integer=s}).apply(typeof UA<"u"?UA:typeof self<"u"?self:typeof window<"u"?window:{});var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},di={};var N_,O$,Ja,P_,il,wp,O_,k_,F_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vp=="object"&&vp];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=t(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var R=c[v];if(!(R in m))break e;m=m[R]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function o(c,f){c instanceof String&&(c+="");var m=0,v=!1,R={next:function(){if(!v&&m<c.length){var P=m++;return{value:f(P,c[P]),done:!1}}return v=!0,{done:!0,value:void 0}}};return R[Symbol.iterator]=function(){return R},R}i("Array.prototype.values",function(c){return c||function(){return o(this,function(f,m){return m})}});var s=s||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,m){return c.call.apply(c.bind,arguments)}function g(c,f,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var R=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(R,v),c.apply(f,R)}}return function(){return c.apply(f,arguments)}}function _(c,f,m){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,_.apply(null,arguments)}function I(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function M(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,R,P){for(var z=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)z[Re-2]=arguments[Re];return f.prototype[R].apply(v,z)}}function L(c){let f=c.length;if(0<f){let m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function k(c,f){for(let m=1;m<arguments.length;m++){let v=arguments[m];if(u(v)){let R=c.length||0,P=v.length||0;c.length=R+P;for(let z=0;z<P;z++)c[R+z]=v[z]}else c.push(v)}}class H{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function Q(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var $e=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function ne(c,f,m){for(let v in c)f.call(m,c[v],v,c)}function A(c,f){for(let m in c)f.call(void 0,c[m],m,c)}function E(c){let f={};for(let m in c)f[m]=c[m];return f}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,f){let m,v;for(let R=1;R<arguments.length;R++){v=arguments[R];for(m in v)c[m]=v[m];for(let P=0;P<b.length;P++)m=b[P],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function x(c){var f=1;c=c.split(":");let m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function S(c){a.setTimeout(()=>{throw c},0)}function C(){var c=wi;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class kn{constructor(){this.h=this.g=null}add(f,m){let v=yi.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var yi=new H(()=>new Tc,c=>c.reset());class Tc{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let vi,Lr=!1,wi=new kn,cn=()=>{let c=a.Promise.resolve(void 0);vi=()=>{c.then(_i)}};var _i=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(m){S(m)}var f=yi;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}Lr=!1};function Vt(){this.s=this.s,this.C=this.C}Vt.prototype.s=!1,Vt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Vt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ct(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}Ct.prototype.h=function(){this.defaultPrevented=!0};var Ii=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function Fn(c,f){if(Ct.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if($e){e:{try{ge(f.nodeName);var R=!0;break e}catch{}R=!1}R||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ll[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Fn.aa.h.call(this)}}M(Fn,Ct);var Ll={2:"touch",3:"pen",4:"mouse"};Fn.prototype.h=function(){Fn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var or="closure_listenable_"+(1e6*Math.random()|0),Sc=0;function Mg(c,f,m,v,R){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=R,this.key=++Sc,this.da=this.fa=!1}function Ei(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bi(c){this.src=c,this.g={},this.h=0}bi.prototype.add=function(c,f,m,v,R){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var z=Ac(c,f,v,R);return-1<z?(f=c[z],m||(f.fa=!1)):(f=new Mg(f,this.src,P,!!v,R),f.fa=m,c.push(f)),f};function Ci(c,f){var m=f.type;if(m in c.g){var v=c.g[m],R=Array.prototype.indexOf.call(v,f,void 0),P;(P=0<=R)&&Array.prototype.splice.call(v,R,1),P&&(Ei(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function Ac(c,f,m,v){for(var R=0;R<c.length;++R){var P=c[R];if(!P.da&&P.listener==f&&P.capture==!!m&&P.ha==v)return R}return-1}var Mt="closure_lm_"+(1e6*Math.random()|0),un={};function Vl(c,f,m,v,R){if(v&&v.once)return xc(c,f,m,v,R);if(Array.isArray(f)){for(var P=0;P<f.length;P++)Vl(c,f[P],m,v,R);return null}return m=ct(m),c&&c[or]?c.K(f,m,d(v)?!!v.capture:!!v,R):jt(c,f,m,!1,v,R)}function jt(c,f,m,v,R,P){if(!f)throw Error("Invalid event type");var z=d(R)?!!R.capture:!!R,Re=Ln(c);if(Re||(c[Mt]=Re=new bi(c)),m=Re.add(f,m,v,z,P),m.proxy)return m;if(v=Ps(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)Ii||(R=z),R===void 0&&(R=!1),c.addEventListener(f.toString(),v,R);else if(c.attachEvent)c.attachEvent(Gt(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Ps(){function c(m){return f.call(c.src,c.listener,m)}let f=sr;return c}function xc(c,f,m,v,R){if(Array.isArray(f)){for(var P=0;P<f.length;P++)xc(c,f[P],m,v,R);return null}return m=ct(m),c&&c[or]?c.L(f,m,d(v)?!!v.capture:!!v,R):jt(c,f,m,!0,v,R)}function Rc(c,f,m,v,R){if(Array.isArray(f))for(var P=0;P<f.length;P++)Rc(c,f[P],m,v,R);else v=d(v)?!!v.capture:!!v,m=ct(m),c&&c[or]?(c=c.i,f=String(f).toString(),f in c.g&&(P=c.g[f],m=Ac(P,m,v,R),-1<m&&(Ei(P[m]),Array.prototype.splice.call(P,m,1),P.length==0&&(delete c.g[f],c.h--)))):c&&(c=Ln(c))&&(f=c.g[f.toString()],c=-1,f&&(c=Ac(f,m,v,R)),(m=-1<c?f[c]:null)&&we(m))}function we(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[or])Ci(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(Gt(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=Ln(f))?(Ci(m,c),m.h==0&&(m.src=null,f[Mt]=null)):Ei(c)}}}function Gt(c){return c in un?un[c]:un[c]="on"+c}function sr(c,f){if(c.da)c=!0;else{f=new Fn(f,this);var m=c.listener,v=c.ha||c.src;c.fa&&we(c),c=m.call(v,f)}return c}function Ln(c){return c=c[Mt],c instanceof bi?c:null}var nt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ct(c){return typeof c=="function"?c:(c[nt]||(c[nt]=function(f){return c.handleEvent(f)}),c[nt])}function ut(){Vt.call(this),this.i=new bi(this),this.M=this,this.F=null}M(ut,Vt),ut.prototype[or]=!0,ut.prototype.removeEventListener=function(c,f,m,v){Rc(this,c,f,m,v)};function Dt(c,f){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new Ct(f,c);else if(f instanceof Ct)f.target=f.target||c;else{var R=f;f=new Ct(v,c),T(f,R)}if(R=!0,m)for(var P=m.length-1;0<=P;P--){var z=f.g=m[P];R=ar(z,v,!0,f)&&R}if(z=f.g=c,R=ar(z,v,!0,f)&&R,R=ar(z,v,!1,f)&&R,m)for(P=0;P<m.length;P++)z=f.g=m[P],R=ar(z,v,!1,f)&&R}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],v=0;v<m.length;v++)Ei(m[v]);delete c.g[f],c.h--}}this.F=null},ut.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},ut.prototype.L=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function ar(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var R=!0,P=0;P<f.length;++P){var z=f[P];if(z&&!z.da&&z.capture==m){var Re=z.listener,mt=z.ha||z.src;z.fa&&Ci(c.i,z),R=Re.call(mt,v)!==!1&&R}}return R&&!v.defaultPrevented}function Nt(c,f,m){if(typeof c=="function")m&&(c=_(c,m));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function jl(c){c.g=Nt(()=>{c.g=null,c.i&&(c.i=!1,jl(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class Ul extends Vt{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:jl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Di(c){Vt.call(this),this.h=c,this.g={}}M(Di,Vt);var Os=[];function Bl(c){ne(c.g,function(f,m){this.g.hasOwnProperty(m)&&we(f)},c),c.g={}}Di.prototype.N=function(){Di.aa.N.call(this),Bl(this)},Di.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mc=a.JSON.stringify,Ng=a.JSON.parse,Pg=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Vn(){}Vn.prototype.h=null;function $l(c){return c.h||(c.h=c.i())}function Hl(){}var vo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nc(){Ct.call(this,"d")}M(Nc,Ct);function Pc(){Ct.call(this,"c")}M(Pc,Ct);var jn={},zl=null;function ks(){return zl=zl||new ut}jn.La="serverreachability";function ql(c){Ct.call(this,jn.La,c)}M(ql,Ct);function wo(c){let f=ks();Dt(f,new ql(f))}jn.STAT_EVENT="statevent";function Gl(c,f){Ct.call(this,jn.STAT_EVENT,c),this.stat=f}M(Gl,Ct);function gt(c){let f=ks();Dt(f,new Gl(f,c))}jn.Ma="timingevent";function Wl(c,f){Ct.call(this,jn.Ma,c),this.size=f}M(Wl,Ct);function _o(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function Io(){this.g=!0}Io.prototype.xa=function(){this.g=!1};function Og(c,f,m,v,R,P){c.info(function(){if(c.g)if(P)for(var z="",Re=P.split("&"),mt=0;mt<Re.length;mt++){var Me=Re[mt].split("=");if(1<Me.length){var St=Me[0];Me=Me[1];var yt=St.split("_");z=2<=yt.length&&yt[1]=="type"?z+(St+"="+Me+"&"):z+(St+"=redacted&")}}else z=null;else z=P;return"XMLHTTP REQ ("+v+") [attempt "+R+"]: "+f+`
`+m+`
`+z})}function kg(c,f,m,v,R,P,z){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+R+"]: "+f+`
`+m+`
`+P+" "+z})}function ke(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+Lg(c,m)+(v?" "+v:"")})}function Fg(c,f){c.info(function(){return"TIMEOUT: "+f})}Io.prototype.info=function(){};function Lg(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var R=v[1];if(Array.isArray(R)&&!(1>R.length)){var P=R[0];if(P!="noop"&&P!="stop"&&P!="close")for(var z=1;z<R.length;z++)R[z]=""}}}}return Mc(m)}catch{return f}}var Fs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Kl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Oc;function Ls(){}M(Ls,Vn),Ls.prototype.g=function(){return new XMLHttpRequest},Ls.prototype.i=function(){return{}},Oc=new Ls;function In(c,f,m,v){this.j=c,this.i=f,this.l=m,this.R=v||1,this.U=new Di(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ti}function Ti(){this.i=null,this.g="",this.h=!1}var kc={},Si={};function Qe(c,f,m){c.L=1,c.v=To(Un(f)),c.m=m,c.P=!0,Ql(c,null)}function Ql(c,f){c.F=Date.now(),Eo(c),c.A=Un(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),ad(m.i,"t",v),c.C=0,m=c.j.J,c.h=new Ti,c.g=zc(c.j,m?f:null,!c.m),0<c.O&&(c.M=new Ul(_(c.Y,c,c.g),c.O)),f=c.U,m=c.g,v=c.ca;var R="readystatechange";Array.isArray(R)||(R&&(Os[0]=R.toString()),R=Os);for(var P=0;P<R.length;P++){var z=Vl(m,R[P],v||f.handleEvent,!1,f.h||f);if(!z)break;f.g[z.key]=z}f=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),wo(),Og(c.i,c.u,c.A,c.l,c.R,c.m)}In.prototype.ca=function(c){c=c.target;let f=this.M;f&&Hn(c)==3?f.j():this.Y(c)},In.prototype.Y=function(c){try{if(c==this.g)e:{let yt=Hn(this.g);var f=this.g.Ba();let Br=this.g.Z();if(!(3>yt)&&(yt!=3||this.g&&(this.h.h||this.g.oa()||pd(this.g)))){this.J||yt!=4||f==7||(f==8||0>=Br?wo(3):wo(2)),Fc(this);var m=this.g.Z();this.X=m;t:if(Yl(this)){var v=pd(this.g);c="";var R=v.length,P=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cr(this),bo(this);var z="";break t}this.h.i=new a.TextDecoder}for(f=0;f<R;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(P&&f==R-1)});v.length=0,this.h.g+=c,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=m==200,kg(this.i,this.u,this.A,this.l,this.R,yt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,mt=this.g;if((Re=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Re)){var Me=Re;break t}}Me=null}if(m=Me)ke(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lc(this,m);else{this.o=!1,this.s=3,gt(12),cr(this),bo(this);break e}}if(this.P){m=!0;let en;for(;!this.J&&this.C<z.length;)if(en=Vg(this,z),en==Si){yt==4&&(this.s=4,gt(14),m=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}else if(en==kc){this.s=4,gt(15),ke(this.i,this.l,z,"[Invalid Chunk]"),m=!1;break}else ke(this.i,this.l,en,null),Lc(this,en);if(Yl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yt!=4||z.length!=0||this.h.h||(this.s=1,gt(16),m=!1),this.o=this.o&&m,!m)ke(this.i,this.l,z,"[Invalid Chunked Response]"),cr(this),bo(this);else if(0<z.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),ki(St),St.M=!0,gt(11))}}else ke(this.i,this.l,z,null),Lc(this,z);yt==4&&cr(this),this.o&&!this.J&&(yt==4?wd(this.j,this):(this.o=!1,Eo(this)))}else Gg(this.g),m==400&&0<z.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),cr(this),bo(this)}}}catch{}finally{}};function Yl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vg(c,f){var m=c.C,v=f.indexOf(`
`,m);return v==-1?Si:(m=Number(f.substring(m,v)),isNaN(m)?kc:(v+=1,v+m>f.length?Si:(f=f.slice(v,v+m),c.C=v+m,f)))}In.prototype.cancel=function(){this.J=!0,cr(this)};function Eo(c){c.S=Date.now()+c.I,Zl(c,c.I)}function Zl(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_o(_(c.ba,c),f)}function Fc(c){c.B&&(a.clearTimeout(c.B),c.B=null)}In.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Fg(this.i,this.A),this.L!=2&&(wo(),gt(17)),cr(this),this.s=2,bo(this)):Zl(this,this.S-c)};function bo(c){c.j.G==0||c.J||wd(c.j,c)}function cr(c){Fc(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,Bl(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Lc(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||js(m.h,c))){if(!c.K&&js(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var R=v;if(R[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Ws(m),qs(m);else break e;$c(m),gt(18)}}else m.za=R[1],0<m.za-m.T&&37500>R[2]&&m.F&&m.v==0&&!m.C&&(m.C=_o(_(m.Za,m),6e3));if(1>=Vc(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else dr(m,11)}else if((c.K||m.g==c)&&Ws(m),!Q(f))for(R=m.Da.g.parse(f),f=0;f<R.length;f++){let Me=R[f];if(m.T=Me[0],Me=Me[1],m.G==2)if(Me[0]=="c"){m.K=Me[1],m.ia=Me[2];let St=Me[3];St!=null&&(m.la=St,m.j.info("VER="+m.la));let yt=Me[4];yt!=null&&(m.Aa=yt,m.j.info("SVER="+m.Aa));let Br=Me[5];Br!=null&&typeof Br=="number"&&0<Br&&(v=1.5*Br,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;let en=c.g;if(en){let Qs=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qs){var P=v.h;P.g||Qs.indexOf("spdy")==-1&&Qs.indexOf("quic")==-1&&Qs.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(Us(P,P.h),P.h=null))}if(v.D){let Wc=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;Wc&&(v.ya=Wc,He(v.I,v.D,Wc))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var z=c;if(v.qa=Ks(v,v.J?v.ia:null,v.W),z.K){jc(v.h,z);var Re=z,mt=v.L;mt&&(Re.I=mt),Re.B&&(Fc(Re),Eo(Re)),v.g=z}else vd(v);0<m.i.length&&Gs(m)}else Me[0]!="stop"&&Me[0]!="close"||dr(m,7);else m.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?dr(m,7):Bc(m):Me[0]!="noop"&&m.l&&m.l.ta(Me),m.v=0)}}wo(4)}catch{}}var Jl=class{constructor(c,f){this.g=c,this.map=f}};function Xl(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Vc(c){return c.h?1:c.g?c.g.size:0}function js(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function Us(c,f){c.g?c.g.add(f):c.h=f}function jc(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}Xl.prototype.cancel=function(){if(this.i=ed(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function ed(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let m of c.g.values())f=f.concat(m.D);return f}return L(c.i)}function jg(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],m=c.length,v=0;v<m;v++)f.push(c[v]);return f}f=[],m=0;for(v in c)f[m++]=c[v];return f}function Bs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(let v in c)f[m++]=v;return f}}}function Co(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=Bs(c),v=jg(c),R=v.length,P=0;P<R;P++)f.call(void 0,v[P],m&&m[P],c)}var Do=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function td(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),R=null;if(0<=v){var P=c[m].substring(0,v);R=c[m].substring(v+1)}else P=c[m];f(P,R?decodeURIComponent(R.replace(/\+/g," ")):"")}}}function Vr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vr){this.h=c.h,$s(this,c.j),this.o=c.o,this.g=c.g,Hs(this,c.s),this.l=c.l;var f=c.i,m=new Ri;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),nd(this,m),this.m=c.m}else c&&(f=String(c).match(Do))?(this.h=!1,$s(this,f[1]||"",!0),this.o=So(f[2]||""),this.g=So(f[3]||"",!0),Hs(this,f[4]),this.l=So(f[5]||"",!0),nd(this,f[6]||"",!0),this.m=So(f[7]||"")):(this.h=!1,this.i=new Ri(null,this.h))}Vr.prototype.toString=function(){var c=[],f=this.j;f&&c.push(Ai(f,rd,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Ai(f,rd,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(Ai(m,m.charAt(0)=="/"?id:xi,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",Ai(m,Uc)),c.join("")};function Un(c){return new Vr(c)}function $s(c,f,m){c.j=m?So(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function Hs(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function nd(c,f,m){f instanceof Ri?(c.i=f,$g(c.i,c.h)):(m||(f=Ai(f,Bg)),c.i=new Ri(f,c.h))}function He(c,f,m){c.i.set(f,m)}function To(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function So(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ai(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,Ug),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ug(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var rd=/[#\/\?@]/g,xi=/[#\?:]/g,id=/[#\?]/g,Bg=/[#\?@]/g,Uc=/#/g;function Ri(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function ur(c){c.g||(c.g=new Map,c.h=0,c.i&&td(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}n=Ri.prototype,n.add=function(c,f){ur(this),this.i=null,c=Mi(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function od(c,f){ur(c),f=Mi(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function sd(c,f){return ur(c),f=Mi(c,f),c.g.has(f)}n.forEach=function(c,f){ur(this),this.g.forEach(function(m,v){m.forEach(function(R){c.call(f,R,v,this)},this)},this)},n.na=function(){ur(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){let R=c[v];for(let P=0;P<R.length;P++)m.push(f[v])}return m},n.V=function(c){ur(this);let f=[];if(typeof c=="string")sd(this,c)&&(f=f.concat(this.g.get(Mi(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},n.set=function(c,f){return ur(this),this.i=null,c=Mi(this,c),sd(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},n.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function ad(c,f,m){od(c,f),0<m.length&&(c.i=null,c.g.set(Mi(c,f),L(m)),c.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];let P=encodeURIComponent(String(v)),z=this.V(v);for(v=0;v<z.length;v++){var R=P;z[v]!==""&&(R+="="+encodeURIComponent(String(z[v]))),c.push(R)}}return this.i=c.join("&")};function Mi(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function $g(c,f){f&&!c.j&&(ur(c),c.i=null,c.g.forEach(function(m,v){var R=v.toLowerCase();v!=R&&(od(this,v),ad(this,R,m))},c)),c.j=f}function Ni(c,f){let m=new Io;if(a.Image){let v=new Image;v.onload=I(Bn,m,"TestLoadImage: loaded",!0,f,v),v.onerror=I(Bn,m,"TestLoadImage: error",!1,f,v),v.onabort=I(Bn,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=I(Bn,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function Hg(c,f){let m=new Io,v=new AbortController,R=setTimeout(()=>{v.abort(),Bn(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(P=>{clearTimeout(R),P.ok?Bn(m,"TestPingServer: ok",!0,f):Bn(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(R),Bn(m,"TestPingServer: error",!1,f)})}function Bn(c,f,m,v,R){try{R&&(R.onload=null,R.onerror=null,R.onabort=null,R.ontimeout=null),v(m)}catch{}}function cd(){this.g=new Pg}function zg(c,f,m){let v=m||"";try{Co(c,function(R,P){let z=R;d(R)&&(z=Mc(R)),f.push(v+P+"="+encodeURIComponent(z))})}catch(R){throw f.push(v+"type="+encodeURIComponent("_badmap")),R}}function Ao(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Ao,Vn),Ao.prototype.g=function(){return new zs(this.l,this.j)},Ao.prototype.i=function(c){return function(){return c}}({});function zs(c,f){ut.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(zs,ut),n=zs.prototype,n.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Ro(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xo(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ro(this)),this.g&&(this.readyState=3,Ro(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ud(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ud(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?xo(this):Ro(this),this.readyState==3&&ud(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,xo(this))},n.Qa=function(c){this.g&&(this.response=c,xo(this))},n.ga=function(){this.g&&xo(this)};function xo(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ro(c)}n.setRequestHeader=function(c,f){this.u.append(c,f)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function Ro(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ld(c){let f="";return ne(c,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function lr(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=ld(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):He(c,f,m))}function Ye(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ye,ut);var qg=/^https?$/i,dd=["POST","PUT"];n=Ye.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Oc.g(),this.v=this.o?$l(this.o):$l(Oc),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(P){hd(this,P);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var R in v)m.set(R,v[R]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let P of v.keys())m.set(P,v.get(P));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(P=>P.toLowerCase()=="content-type"),R=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(dd,f,void 0))||v||R||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,z]of m)this.g.setRequestHeader(P,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pi(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){hd(this,P)}};function hd(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,$n(c),Mo(c)}function $n(c){c.A||(c.A=!0,Dt(c,"complete"),Dt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Dt(this,"complete"),Dt(this,"abort"),Mo(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mo(this,!0)),Ye.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?fd(this):this.bb())},n.bb=function(){fd(this)};function fd(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)Nt(c.Ea,0,c);else if(Dt(c,"readystatechange"),Hn(c)==4){c.h=!1;try{let z=c.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=z===0){var R=String(c.D).match(Do)[1]||null;!R&&a.self&&a.self.location&&(R=a.self.location.protocol.slice(0,-1)),v=!qg.test(R?R.toLowerCase():"")}m=v}if(m)Dt(c,"complete"),Dt(c,"success");else{c.m=6;try{var P=2<Hn(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",$n(c)}}finally{Mo(c)}}}}function Mo(c,f){if(c.g){Pi(c);let m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||Dt(c,"ready");try{m.onreadystatechange=v}catch{}}}function Pi(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),Ng(f)}};function pd(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Gg(c){let f={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(Q(c[v]))continue;var m=x(c[v]);let R=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let P=f[R]||[];f[R]=P,P.push(m)}A(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function jr(c){this.Aa=0,this.i=[],this.j=new Io,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oi("baseRetryDelayMs",5e3,c),this.cb=Oi("retryDelaySeedMs",1e4,c),this.Wa=Oi("forwardChannelMaxRetries",2,c),this.wa=Oi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Xl(c&&c.concurrentRequestLimit),this.Da=new cd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=jr.prototype,n.la=8,n.G=1,n.connect=function(c,f,m,v){gt(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=Ks(this,null,this.W),Gs(this)};function Bc(c){if(gd(c),c.G==3){var f=c.U++,m=Un(c.I);if(He(m,"SID",c.K),He(m,"RID",f),He(m,"TYPE","terminate"),No(c,m),f=new In(c,c.j,f),f.L=2,f.v=To(Un(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=zc(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Eo(f)}Id(c)}function qs(c){c.g&&(ki(c),c.g.cancel(),c.g=null)}function gd(c){qs(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ws(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Gs(c){if(!Vs(c.h)&&!c.s){c.s=!0;var f=c.Ga;vi||cn(),Lr||(vi(),Lr=!0),wi.add(f,c),c.B=0}}function Wg(c,f){return Vc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_o(_(c.Ga,c,f),_d(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let R=new In(this,this.j,c),P=this.o;if(this.S&&(P?(P=E(P),T(P,this.S)):P=this.S),this.m!==null||this.O||(R.H=P,P=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=yd(this,R,f),m=Un(this.I),He(m,"RID",c),He(m,"CVER",22),this.D&&He(m,"X-HTTP-Session-Id",this.D),No(this,m),P&&(this.O?f="headers="+encodeURIComponent(String(ld(P)))+"&"+f:this.m&&lr(m,this.m,P)),Us(this.h,R),this.Ua&&He(m,"TYPE","init"),this.P?(He(m,"$req",f),He(m,"SID","null"),R.T=!0,Qe(R,m,null)):Qe(R,m,f),this.G=2}}else this.G==3&&(c?md(this,c):this.i.length==0||Vs(this.h)||md(this))};function md(c,f){var m;f?m=f.l:m=c.U++;let v=Un(c.I);He(v,"SID",c.K),He(v,"RID",m),He(v,"AID",c.T),No(c,v),c.m&&c.o&&lr(v,c.m,c.o),m=new In(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=yd(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Us(c.h,m),Qe(m,v,f)}function No(c,f){c.H&&ne(c.H,function(m,v){He(f,v,m)}),c.l&&Co({},function(m,v){He(f,v,m)})}function yd(c,f,m){m=Math.min(c.i.length,m);var v=c.l?_(c.l.Na,c.l,c):null;e:{var R=c.i;let P=-1;for(;;){let z=["count="+m];P==-1?0<m?(P=R[0].g,z.push("ofs="+P)):P=0:z.push("ofs="+P);let Re=!0;for(let mt=0;mt<m;mt++){let Me=R[mt].g,St=R[mt].map;if(Me-=P,0>Me)P=Math.max(0,R[mt].g-100),Re=!1;else try{zg(St,z,"req"+Me+"_")}catch{v&&v(St)}}if(Re){v=z.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,v}function vd(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;vi||cn(),Lr||(vi(),Lr=!0),wi.add(f,c),c.v=0}}function $c(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_o(_(c.Fa,c),_d(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Hc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_o(_(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),qs(this),Hc(this))};function ki(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Hc(c){c.g=new In(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=Un(c.qa);He(f,"RID","rpc"),He(f,"SID",c.K),He(f,"AID",c.T),He(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(f,"TO",c.ja),He(f,"TYPE","xmlhttp"),No(c,f),c.m&&c.o&&lr(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=To(Un(f)),m.m=null,m.P=!0,Ql(m,c)}n.Za=function(){this.C!=null&&(this.C=null,qs(this),$c(this),gt(19))};function Ws(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function wd(c,f){var m=null;if(c.g==f){Ws(c),ki(c),c.g=null;var v=2}else if(js(c.h,f))m=f.D,jc(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var R=c.B;v=ks(),Dt(v,new Wl(v,m)),Gs(c)}else vd(c);else if(R=f.s,R==3||R==0&&0<f.X||!(v==1&&Wg(c,f)||v==2&&$c(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),R){case 1:dr(c,5);break;case 4:dr(c,10);break;case 3:dr(c,6);break;default:dr(c,2)}}}function _d(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function dr(c,f){if(c.j.info("Error code "+f),f==2){var m=_(c.fb,c),v=c.Xa;let R=!v;v=new Vr(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||$s(v,"https"),To(v),R?Ni(v.toString(),m):Hg(v.toString(),m)}else gt(2);c.G=0,c.l&&c.l.sa(f),Id(c),gd(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function Id(c){if(c.G=0,c.ka=[],c.l){let f=ed(c.h);(f.length!=0||c.i.length!=0)&&(k(c.ka,f),k(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function Ks(c,f,m){var v=m instanceof Vr?Un(m):new Vr(m);if(v.g!="")f&&(v.g=f+"."+v.g),Hs(v,v.s);else{var R=a.location;v=R.protocol,f=f?f+"."+R.hostname:R.hostname,R=+R.port;var P=new Vr(null);v&&$s(P,v),f&&(P.g=f),R&&Hs(P,R),m&&(P.l=m),v=P}return m=c.D,f=c.ya,m&&f&&He(v,m,f),He(v,"VER",c.la),No(c,v),v}function zc(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Ye(new Ao({eb:m})):new Ye(c.pa),f.Ha(c.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function qc(){}n=qc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Fi(){}Fi.prototype.g=function(c,f){return new Tt(c,f)};function Tt(c,f){ut.call(this),this.g=new jr(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!Q(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!Q(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Ur(this)}M(Tt,ut),Tt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tt.prototype.close=function(){Bc(this.g)},Tt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Mc(c),c=m);f.i.push(new Jl(f.Ya++,c)),f.G==3&&Gs(f)},Tt.prototype.N=function(){this.g.l=null,delete this.j,Bc(this.g),delete this.g,Tt.aa.N.call(this)};function Ed(c){Nc.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}M(Ed,Nc);function Gc(){Pc.call(this),this.status=1}M(Gc,Pc);function Ur(c){this.g=c}M(Ur,qc),Ur.prototype.ua=function(){Dt(this.g,"a")},Ur.prototype.ta=function(c){Dt(this.g,new Ed(c))},Ur.prototype.sa=function(c){Dt(this.g,new Gc)},Ur.prototype.ra=function(){Dt(this.g,"b")},Fi.prototype.createWebChannel=Fi.prototype.g,Tt.prototype.send=Tt.prototype.o,Tt.prototype.open=Tt.prototype.m,Tt.prototype.close=Tt.prototype.close,F_=di.createWebChannelTransport=function(){return new Fi},k_=di.getStatEventTarget=function(){return ks()},O_=di.Event=jn,wp=di.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fs.NO_ERROR=0,Fs.TIMEOUT=8,Fs.HTTP_ERROR=6,il=di.ErrorCode=Fs,Kl.COMPLETE="complete",P_=di.EventType=Kl,Hl.EventType=vo,vo.OPEN="a",vo.CLOSE="b",vo.ERROR="c",vo.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Ja=di.WebChannel=Hl,O$=di.FetchXmlHttpFactory=Ao,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,N_=di.XhrIo=Ye}).apply(typeof vp<"u"?vp:typeof self<"u"?self:typeof window<"u"?window:{});var $A="@firebase/firestore";var Rt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");var yc="10.14.0";var Es=new ro("@firebase/firestore");function ol(){return Es.logLevel}function K(n,...e){if(Es.logLevel<=Se.DEBUG){let t=e.map(II);Es.debug(`Firestore (${yc}): ${n}`,...t)}}function fi(n,...e){if(Es.logLevel<=Se.ERROR){let t=e.map(II);Es.error(`Firestore (${yc}): ${n}`,...t)}}function oc(n,...e){if(Es.logLevel<=Se.WARN){let t=e.map(II);Es.warn(`Firestore (${yc}): ${n}`,...t)}}function II(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ie(n="Unexpected state"){let e=`FIRESTORE (${yc}) INTERNAL ASSERTION FAILED: `+n;throw fi(e),new Error(e)}function Ue(n,e){n||ie()}function ue(n,e){return n}var V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},W=class extends vn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var xr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Cp=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},B_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rt.UNAUTHENTICATED))}shutdown(){}},$_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},H_=class{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ue(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new xr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>D(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new xr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new Cp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Rt(e)}},z_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},q_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new z_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},G_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},W_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ue(this.o===void 0);let r=o=>{o.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ue(typeof t.token=="string"),this.R=t.token,new G_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function k$(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Dp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=k$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Fe(n,e){return n<e?-1:n>e?1:0}function sc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Lt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new W(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new W(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new W(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var de=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Lt(0,0))}static max(){return new n(new Lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Tp=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ie(),r===void 0?r=e.length-t:r>e.length-t&&ie(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},tt=class n extends Tp{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new W(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},F$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,_n=class n extends Tp{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return F$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new W(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new W(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var X=class n{constructor(e){this.path=e}static fromPath(e){return new n(tt.fromString(e))}static fromName(e){return new n(tt.fromString(e).popFirst(5))}static empty(){return new n(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new tt(e.slice()))}};var K_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};K_.UNKNOWN_ID=-1;function L$(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new Lt(t+1,0):new Lt(t,r));return new bs(i,X.empty(),e)}function V$(n){return new bs(n.readTime,n.key,-1)}var bs=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(de.min(),X.empty(),-1)}static max(){return new n(de.max(),X.empty(),-1)}};function j$(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=X.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}var U$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Q_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function bl(n){return D(this,null,function*(){if(n.code!==V.FAILED_PRECONDITION||n.message!==U$)throw n;K("LocalStore","Unexpectedly lost primary lease")})}var B=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let d=u;t(e[d]).next(p=>{s[d]=p,++a,a===o&&r(s)},p=>i(p))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function B$(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Cl(n){return n.name==="IndexedDbTransactionError"}var bx=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function ig(n){return n==null}function dl(n){return n===0&&1/n==-1/0}function $$(n){return typeof n=="number"&&Number.isInteger(n)&&!dl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var H$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],GK=[...H$,"documentOverlays"],z$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],q$=z$,G$=[...q$,"indexConfiguration","indexState","indexEntries"];var WK=[...G$,"globals"];function HA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Rs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Cx(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var ot=class n{constructor(e,t){this.comparator=e,this.root=t||Rr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Rr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nc(this.root,e,this.comparator,!0)}},nc=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Rr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();let e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}};Rr.EMPTY=null,Rr.RED=!0,Rr.BLACK=!1;Rr.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Rr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ht=class n{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sp(this.data.getIterator())}getIteratorFrom(e){return new Sp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Sp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var On=class n{constructor(e){this.fields=e,e.sort(_n.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ht(_n.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sc(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Ap=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var qt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ap("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qt.EMPTY_BYTE_STRING=new qt("");var W$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pi(n){if(Ue(!!n),typeof n=="string"){let e=0,t=W$.exec(n);if(Ue(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ze(n.seconds),nanos:Ze(n.nanos)}}function Ze(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function fo(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}function EI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function bI(n){let e=n.mapValue.fields.__previous_value__;return EI(e)?bI(e):e}function hl(n){let e=pi(n.mapValue.fields.__local_write_time__.timestampValue);return new Lt(e.seconds,e.nanos)}var Y_=class{constructor(e,t,r,i,o,s,a,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},xp=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var _p={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?EI(n)?4:Tx(n)?9007199254740991:Dx(n)?10:11:ie()}function Pr(n,e){if(n===e)return!0;let t=Cs(n);if(t!==Cs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hl(n).isEqual(hl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=pi(i.timestampValue),a=pi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return fo(i.bytesValue).isEqual(fo(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return Ze(i.geoPointValue.latitude)===Ze(o.geoPointValue.latitude)&&Ze(i.geoPointValue.longitude)===Ze(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Ze(i.integerValue)===Ze(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Ze(i.doubleValue),a=Ze(o.doubleValue);return s===a?dl(s)===dl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return sc(n.arrayValue.values||[],e.arrayValue.values||[],Pr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(HA(s)!==HA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Pr(s[u],a[u])))return!1;return!0}(n,e);default:return ie()}}function fl(n,e){return(n.values||[]).find(t=>Pr(t,e))!==void 0}function ac(n,e){if(n===e)return 0;let t=Cs(n),r=Cs(e);if(t!==r)return Fe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Ze(o.integerValue||o.doubleValue),u=Ze(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return zA(n.timestampValue,e.timestampValue);case 4:return zA(hl(n),hl(e));case 5:return Fe(n.stringValue,e.stringValue);case 6:return function(o,s){let a=fo(o),u=fo(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=Fe(a[d],u[d]);if(p!==0)return p}return Fe(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Fe(Ze(o.latitude),Ze(s.latitude));return a!==0?a:Fe(Ze(o.longitude),Ze(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return qA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,d,p;let g=o.fields||{},_=s.fields||{},I=(a=g.value)===null||a===void 0?void 0:a.arrayValue,M=(u=_.value)===null||u===void 0?void 0:u.arrayValue,L=Fe(((d=I?.values)===null||d===void 0?void 0:d.length)||0,((p=M?.values)===null||p===void 0?void 0:p.length)||0);return L!==0?L:qA(I,M)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===_p.mapValue&&s===_p.mapValue)return 0;if(o===_p.mapValue)return 1;if(s===_p.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),d=s.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){let _=Fe(u[g],p[g]);if(_!==0)return _;let I=ac(a[u[g]],d[p[g]]);if(I!==0)return I}return Fe(u.length,p.length)}(n.mapValue,e.mapValue);default:throw ie()}}function zA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);let t=pi(n),r=pi(e),i=Fe(t.seconds,r.seconds);return i!==0?i:Fe(t.nanos,r.nanos)}function qA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=ac(t[i],r[i]);if(o)return o}return Fe(t.length,r.length)}function cc(n){return Z_(n)}function Z_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=pi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return fo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return X.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=Z_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${Z_(t.fields[s])}`;return i+"}"}(n.mapValue):ie()}function GA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function J_(n){return!!n&&"integerValue"in n}function CI(n){return!!n&&"arrayValue"in n}function WA(n){return!!n&&"nullValue"in n}function KA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Ep(n){return!!n&&"mapValue"in n}function Dx(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function al(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Rs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=al(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=al(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Tx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var wn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ep(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(t)}setAll(e){let t=_n.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=al(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());Ep(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ep(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Rs(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(al(this.value))}};function Sx(n){let e=[];return Rs(n.fields,(t,r)=>{let i=new _n([t]);if(Ep(r)){let o=Sx(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new On(e)}var nr=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,de.min(),de.min(),de.min(),wn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,de.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,de.min(),de.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,de.min(),de.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var uc=class{constructor(e,t){this.position=e,this.inclusive=t}};function QA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=X.comparator(X.fromName(s.referenceValue),t.key):r=ac(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function YA(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Pr(n.position[t],e.position[t]))return!1;return!0}var Ds=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function K$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Rp=class{},pt=class n extends Rp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new e0(e,t,r):t==="array-contains"?new r0(e,r):t==="in"?new i0(e,r):t==="not-in"?new o0(e,r):t==="array-contains-any"?new s0(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new t0(e,r):new n0(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ac(t,this.value)):t!==null&&Cs(this.value)===Cs(t)&&this.matchesComparison(ac(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},rr=class n extends Rp{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return Ax(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function Ax(n){return n.op==="and"}function xx(n){return Q$(n)&&Ax(n)}function Q$(n){for(let e of n.filters)if(e instanceof rr)return!1;return!0}function X_(n){if(n instanceof pt)return n.field.canonicalString()+n.op.toString()+cc(n.value);if(xx(n))return n.filters.map(e=>X_(e)).join(",");{let e=n.filters.map(t=>X_(t)).join(",");return`${n.op}(${e})`}}function Rx(n,e){return n instanceof pt?function(r,i){return i instanceof pt&&r.op===i.op&&r.field.isEqual(i.field)&&Pr(r.value,i.value)}(n,e):n instanceof rr?function(r,i){return i instanceof rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&Rx(s,i.filters[a]),!0):!1}(n,e):void ie()}function Mx(n){return n instanceof pt?function(t){return`${t.field.canonicalString()} ${t.op} ${cc(t.value)}`}(n):n instanceof rr?function(t){return t.op.toString()+" {"+t.getFilters().map(Mx).join(" ,")+"}"}(n):"Filter"}var e0=class extends pt{constructor(e,t,r){super(e,t,r),this.key=X.fromName(r.referenceValue)}matches(e){let t=X.comparator(e.key,this.key);return this.matchesComparison(t)}},t0=class extends pt{constructor(e,t){super(e,"in",t),this.keys=Nx("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},n0=class extends pt{constructor(e,t){super(e,"not-in",t),this.keys=Nx("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Nx(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>X.fromName(r.referenceValue))}var r0=class extends pt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return CI(t)&&fl(t.arrayValue,this.value)}},i0=class extends pt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&fl(this.value.arrayValue,t)}},o0=class extends pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!fl(this.value.arrayValue,t)}},s0=class extends pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!CI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>fl(this.value.arrayValue,r))}};var a0=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function ZA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new a0(n,e,t,r,i,o,s)}function DI(n){let e=ue(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>X_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),ig(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>cc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>cc(r)).join(",")),e.ue=t}return e.ue}function TI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!K$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Rx(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!YA(n.startAt,e.startAt)&&YA(n.endAt,e.endAt)}function c0(n){return X.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var po=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function Y$(n,e,t,r,i,o,s,a){return new po(n,e,t,r,i,o,s,a)}function og(n){return new po(n)}function JA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Px(n){return n.collectionGroup!==null}function cl(n){let e=ue(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ht(_n.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Ds(o,r))}),t.has(_n.keyField().canonicalString())||e.ce.push(new Ds(_n.keyField(),r))}return e.ce}function Mr(n){let e=ue(n);return e.le||(e.le=Z$(e,cl(n))),e.le}function Z$(n,e){if(n.limitType==="F")return ZA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Ds(i.field,o)});let t=n.endAt?new uc(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new uc(n.startAt.position,n.startAt.inclusive):null;return ZA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function u0(n,e){let t=n.filters.concat([e]);return new po(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function l0(n,e,t){return new po(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function sg(n,e){return TI(Mr(n),Mr(e))&&n.limitType===e.limitType}function Ox(n){return`${DI(Mr(n))}|lt:${n.limitType}`}function Xa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Mx(i)).join(", ")}]`),ig(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>cc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>cc(i)).join(",")),`Target(${r})`}(Mr(n))}; limitType=${n.limitType})`}function ag(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):X.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of cl(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let d=QA(s,a,u);return s.inclusive?d<=0:d<0}(r.startAt,cl(r),i)||r.endAt&&!function(s,a,u){let d=QA(s,a,u);return s.inclusive?d>=0:d>0}(r.endAt,cl(r),i))}(n,e)}function J$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kx(n){return(e,t)=>{let r=!1;for(let i of cl(n)){let o=X$(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function X$(n,e,t){let r=n.field.isKeyField()?X.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),d=a.data.field(o);return u!==null&&d!==null?ac(u,d):ie()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ie()}}var go=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return Cx(this.inner)}size(){return this.innerSize}};var eH=new ot(X.comparator);function gi(){return eH}var Fx=new ot(X.comparator);function sl(...n){let e=Fx;for(let t of n)e=e.insert(t.key,t);return e}function Lx(n){let e=Fx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ws(){return ul()}function Vx(){return ul()}function ul(){return new go(n=>n.toString(),(n,e)=>n.isEqual(e))}var tH=new ot(X.comparator),nH=new Ht(X.comparator);function Ae(...n){let e=nH;for(let t of n)e=e.add(t);return e}var rH=new Ht(Fe);function iH(){return rH}function SI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dl(e)?"-0":e}}function jx(n){return{integerValue:""+n}}function oH(n,e){return $$(e)?jx(e):SI(n,e)}var lc=class{constructor(){this._=void 0}};function sH(n,e,t){return n instanceof dc?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&EI(o)&&(o=bI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Ts?Bx(n,e):n instanceof Ss?$x(n,e):function(i,o){let s=Ux(i,o),a=XA(s)+XA(i.Pe);return J_(s)&&J_(i.Pe)?jx(a):SI(i.serializer,a)}(n,e)}function aH(n,e,t){return n instanceof Ts?Bx(n,e):n instanceof Ss?$x(n,e):t}function Ux(n,e){return n instanceof hc?function(r){return J_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var dc=class extends lc{},Ts=class extends lc{constructor(e){super(),this.elements=e}};function Bx(n,e){let t=Hx(e);for(let r of n.elements)t.some(i=>Pr(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ss=class extends lc{constructor(e){super(),this.elements=e}};function $x(n,e){let t=Hx(e);for(let r of n.elements)t=t.filter(i=>!Pr(i,r));return{arrayValue:{values:t}}}var hc=class extends lc{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function XA(n){return Ze(n.integerValue||n.doubleValue)}function Hx(n){return CI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function cH(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Ts&&i instanceof Ts||r instanceof Ss&&i instanceof Ss?sc(r.elements,i.elements,Pr):r instanceof hc&&i instanceof hc?Pr(r.Pe,i.Pe):r instanceof dc&&i instanceof dc}(n.transform,e.transform)}var d0=class{constructor(e,t){this.version=e,this.transformResults=t}},hi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function bp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var fc=class{};function zx(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Mp(n.key,hi.none()):new As(n.key,n.data,hi.none());{let t=n.data,r=wn.empty(),i=new Ht(_n.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Or(n.key,r,new On(i.toArray()),hi.none())}}function uH(n,e,t){n instanceof As?function(i,o,s){let a=i.value.clone(),u=tx(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Or?function(i,o,s){if(!bp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=tx(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(qx(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function ll(n,e,t,r){return n instanceof As?function(o,s,a,u){if(!bp(o.precondition,s))return a;let d=o.value.clone(),p=nx(o.fieldTransforms,u,s);return d.setAll(p),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof Or?function(o,s,a,u){if(!bp(o.precondition,s))return a;let d=nx(o.fieldTransforms,u,s),p=s.data;return p.setAll(qx(o)),p.setAll(d),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,s,a){return bp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function lH(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=Ux(r.transform,i||null);o!=null&&(t===null&&(t=wn.empty()),t.set(r.field,o))}return t||null}function ex(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&sc(r,i,(o,s)=>cH(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var As=class extends fc{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Or=class extends fc{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function qx(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function tx(n,e,t){let r=new Map;Ue(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,aH(s,a,t[i]))}return r}function nx(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,sH(o,s,e))}return r}var Mp=class extends fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},h0=class extends fc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var f0=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&uH(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=ll(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=ll(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=Vx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=zx(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ae())}isEqual(e){return this.batchId===e.batchId&&sc(this.mutations,e.mutations,(t,r)=>ex(t,r))&&sc(this.baseMutations,e.baseMutations,(t,r)=>ex(t,r))}},p0=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ue(e.mutations.length===r.length);let i=function(){return tH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var g0=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var m0=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ht,Oe;function dH(n){switch(n){default:return ie();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function Gx(n){if(n===void 0)return fi("GRPC error has no .code"),V.UNKNOWN;switch(n){case ht.OK:return V.OK;case ht.CANCELLED:return V.CANCELLED;case ht.UNKNOWN:return V.UNKNOWN;case ht.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case ht.INTERNAL:return V.INTERNAL;case ht.UNAVAILABLE:return V.UNAVAILABLE;case ht.UNAUTHENTICATED:return V.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case ht.NOT_FOUND:return V.NOT_FOUND;case ht.ALREADY_EXISTS:return V.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return V.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case ht.ABORTED:return V.ABORTED;case ht.OUT_OF_RANGE:return V.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return V.UNIMPLEMENTED;case ht.DATA_LOSS:return V.DATA_LOSS;default:return ie()}}(Oe=ht||(ht={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";var rx=null;function hH(){return new TextEncoder}var fH=new lo([4294967295,4294967295],0);function ix(n){let e=hH().encode(n),t=new M_;return t.update(e),new Uint8Array(t.digest())}function ox(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new lo([t,r],0),new lo([i,o],0)]}var y0=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _s(`Invalid padding: ${t}`);if(r<0)throw new _s(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _s(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _s(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=lo.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(lo.fromNumber(r)));return i.compare(fH)===1&&(i=new lo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=ix(e),[r,i]=ox(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=ix(e),[r,i]=ox(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},_s=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Np=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,pl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(de.min(),i,new ot(Fe),gi(),Ae())}},pl=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,Ae(),Ae(),Ae())}};var rc=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},Pp=class{constructor(e,t){this.targetId=e,this.me=t}},Op=class{constructor(e,t,r=qt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},kp=class{constructor(){this.fe=0,this.ge=ax(),this.pe=qt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ae(),t=Ae(),r=Ae();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ie()}}),new pl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=ax()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},v0=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=gi(),this.qe=sx(),this.Qe=new ot(Fe)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ie()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(c0(o))if(r===0){let s=new X(o.path);this.Ue(t,s,nr.newNoDocument(s,de.min()))}else Ue(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}rx?.et(function(p,g,_,I,M){var L,k,H,Q,ee,ge;let $e={localCacheCount:p,existenceFilterCount:g.count,databaseId:_.database,projectId:_.projectId},ne=g.unchangedNames;return ne&&($e.bloomFilter={applied:M===0,hashCount:(L=ne?.hashCount)!==null&&L!==void 0?L:0,bitmapLength:(Q=(H=(k=ne?.bits)===null||k===void 0?void 0:k.bitmap)===null||H===void 0?void 0:H.length)!==null&&Q!==void 0?Q:0,padding:(ge=(ee=ne?.bits)===null||ee===void 0?void 0:ee.padding)!==null&&ge!==void 0?ge:0,mightContain:A=>{var E;return(E=I?.mightContain(A))!==null&&E!==void 0&&E}}),$e}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=fo(r).toUint8Array()}catch(u){if(u instanceof Ap)return oc("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new y0(s,i,o)}catch(u){return oc(u instanceof _s?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&c0(a.target)){let u=new X(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,nr.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=Ae();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Np(e,t,this.Qe,this.ke,r);return this.ke=gi(),this.qe=sx(),this.Qe=new ot(Fe),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new kp,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Ht(Fe),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||K("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new kp),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function sx(){return new ot(X.comparator)}function ax(){return new ot(X.comparator)}var pH={asc:"ASCENDING",desc:"DESCENDING"},gH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mH={and:"AND",or:"OR"},w0=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function _0(n,e){return n.useProto3Json||ig(e)?e:{value:e}}function Fp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yH(n,e){return Fp(n,e.toTimestamp())}function Nr(n){return Ue(!!n),de.fromTimestamp(function(t){let r=pi(t);return new Lt(r.seconds,r.nanos)}(n))}function AI(n,e){return I0(n,e).canonicalString()}function I0(n,e){let t=function(i){return new tt(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Kx(n){let e=tt.fromString(n);return Ue(Xx(e)),e}function E0(n,e){return AI(n.databaseId,e.path)}function L_(n,e){let t=Kx(e);if(t.get(1)!==n.databaseId.projectId)throw new W(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new W(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new X(Yx(t))}function Qx(n,e){return AI(n.databaseId,e)}function vH(n){let e=Kx(n);return e.length===4?tt.emptyPath():Yx(e)}function b0(n){return new tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Yx(n){return Ue(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function cx(n,e,t){return{name:E0(n,e),fields:t.value.mapValue.fields}}function wH(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(Ue(p===void 0||typeof p=="string"),qt.fromBase64String(p||"")):(Ue(p===void 0||p instanceof Buffer||p instanceof Uint8Array),qt.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let p=d.code===void 0?V.UNKNOWN:Gx(d.code);return new W(p,d.message||"")}(s);t=new Op(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=L_(n,r.document.name),o=Nr(r.document.updateTime),s=r.document.createTime?Nr(r.document.createTime):de.min(),a=new wn({mapValue:{fields:r.document.fields}}),u=nr.newFoundDocument(i,o,s,a),d=r.targetIds||[],p=r.removedTargetIds||[];t=new rc(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=L_(n,r.document),o=r.readTime?Nr(r.readTime):de.min(),s=nr.newNoDocument(i,o),a=r.removedTargetIds||[];t=new rc([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=L_(n,r.document),o=r.removedTargetIds||[];t=new rc([],o,i,null)}else{if(!("filter"in e))return ie();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new m0(i,o),a=r.targetId;t=new Pp(a,s)}}return t}function _H(n,e){let t;if(e instanceof As)t={update:cx(n,e.key,e.value)};else if(e instanceof Mp)t={delete:E0(n,e.key)};else if(e instanceof Or)t={update:cx(n,e.key,e.data),updateMask:xH(e.fieldMask)};else{if(!(e instanceof h0))return ie();t={verify:E0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof dc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ts)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ss)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof hc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ie()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:yH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ie()}(n,e.precondition)),t}function IH(n,e){return n&&n.length>0?(Ue(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?Nr(i.updateTime):Nr(o);return s.isEqual(de.min())&&(s=Nr(o)),new d0(s,i.transformResults||[])}(t,e))):[]}function EH(n,e){return{documents:[Qx(n,e.path)]}}function bH(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Qx(n,i);let o=function(d){if(d.length!==0)return Jx(rr.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:ec(_.field),direction:TH(_.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=_0(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:i}}function CH(n){let e=vH(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Ue(r===1);let p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];t.where&&(o=function(g){let _=Zx(g);return _ instanceof rr&&xx(_)?_.getFilters():[_]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(_=>function(M){return new Ds(tc(M.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(g){let _;return _=typeof g=="object"?g.value:g,ig(_)?null:_}(t.limit));let u=null;t.startAt&&(u=function(g){let _=!!g.before,I=g.values||[];return new uc(I,_)}(t.startAt));let d=null;return t.endAt&&(d=function(g){let _=!g.before,I=g.values||[];return new uc(I,_)}(t.endAt)),Y$(e,i,s,o,a,"F",u,d)}function DH(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Zx(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=tc(t.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=tc(t.unaryFilter.field);return pt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=tc(t.unaryFilter.field);return pt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=tc(t.unaryFilter.field);return pt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(n):n.fieldFilter!==void 0?function(t){return pt.create(tc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return rr.create(t.compositeFilter.filters.map(r=>Zx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie()}}(t.compositeFilter.op))}(n):ie()}function TH(n){return pH[n]}function SH(n){return gH[n]}function AH(n){return mH[n]}function ec(n){return{fieldPath:n.canonicalString()}}function tc(n){return _n.fromServerFormat(n.fieldPath)}function Jx(n){return n instanceof pt?function(t){if(t.op==="=="){if(KA(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NAN"}};if(WA(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(KA(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NOT_NAN"}};if(WA(t.value))return{unaryFilter:{field:ec(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ec(t.field),op:SH(t.op),value:t.value}}}(n):n instanceof rr?function(t){let r=t.getFilters().map(i=>Jx(i));return r.length===1?r[0]:{compositeFilter:{op:AH(t.op),filters:r}}}(n):ie()}function xH(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Xx(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var gl=class n{constructor(e,t,r,i,o=de.min(),s=de.min(),a=qt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var C0=class{constructor(e){this.ct=e}};function RH(n){let e=CH({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?l0(e,e.limit,"L"):e}var Lp=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ze(e.integerValue));else if("doubleValue"in e){let r=Ze(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),dl(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=pi(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(fo(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?Tx(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Dx(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ie()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Ze(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),X.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Lp.vt=new Lp;var D0=class{constructor(){this.un=new T0}addToCollectionParentIndex(e,t){return this.un.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(bs.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(bs.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}},T0=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ht(tt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ht(tt.comparator)).toArray()}};var QK=new Uint8Array(0);var Ar=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Ar.DEFAULT_COLLECTION_PERCENTILE=10,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ar.DEFAULT=new Ar(41943040,Ar.DEFAULT_COLLECTION_PERCENTILE,Ar.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ar.DISABLED=new Ar(-1,0,0);var ml=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var S0=class{constructor(){this.changes=new go(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,nr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var A0=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var x0=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ll(r.mutation,i,On.empty(),Lt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ae()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ae()){let i=ws();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=sl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ws();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ae()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=gi(),s=ul(),a=function(){return ul()}();return t.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof Or)?o=o.insert(d.key,d):p!==void 0?(s.set(d.key,p.mutation.getFieldMask()),ll(p.mutation,d,p.mutation.getFieldMask(),Lt.now())):s.set(d.key,On.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,p)=>s.set(d,p)),t.forEach((d,p)=>{var g;return a.set(d,new A0(p,(g=s.get(d))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ul(),i=new ot((s,a)=>s-a),o=Ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let d=t.get(u);if(d===null)return;let p=r.get(u)||On.empty();p=a.applyToLocalView(d,p),r.set(u,p);let g=(i.get(a.batchId)||Ae()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,g=Vx();p.forEach(_=>{if(!o.has(_)){let I=zx(t.get(_),r.get(_));I!==null&&g.set(_,I),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,g))}return B.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return X.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Px(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):B.resolve(ws()),a=-1,u=o;return s.next(d=>B.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(p)?B.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{u=u.insert(p,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,Ae())).next(p=>({batchId:a,changes:Lx(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new X(t)).next(r=>{let i=sl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=sl();return this.indexManager.getCollectionParents(e,o).next(a=>B.forEach(a,u=>{let d=function(g,_){return new po(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((g,_)=>{s=s.insert(g,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,d)=>{let p=d.getKey();s.get(p)===null&&(s=s.insert(p,nr.newInvalidDocument(p)))});let a=sl();return s.forEach((u,d)=>{let p=o.get(u);p!==void 0&&ll(p.mutation,d,On.empty(),Lt.now()),ag(t,d)&&(a=a.insert(u,d))}),a})}};var R0=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return B.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Nr(i.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:RH(i.bundledQuery),readTime:Nr(i.readTime)}}(t)),B.resolve()}};var M0=class{constructor(){this.overlays=new ot(X.comparator),this.Ir=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ws();return B.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),B.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){let i=ws(),o=t.length+1,s=new X(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return B.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new ot((d,p)=>d-p),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=ws(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=ws(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return B.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new g0(t,r));let o=this.Ir.get(t);o===void 0&&(o=Ae(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var N0=class{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}};var yl=class{constructor(){this.Tr=new Ht(ft.Er),this.dr=new Ht(ft.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new ft(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new ft(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new X(new tt([])),r=new ft(t,e),i=new ft(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new X(new tt([])),r=new ft(t,e),i=new ft(t,e+1),o=Ae();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new ft(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},ft=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return X.comparator(e.key,t.key)||Fe(e.wr,t.wr)}static Ar(e,t){return Fe(e.wr,t.wr)||X.comparator(e.key,t.key)}};var P0=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Ht(ft.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new f0(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new ft(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(s)}lookupMutationBatch(e,t){return B.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new ft(t,0),i=new ft(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ht(Fe);return t.forEach(i=>{let o=new ft(i,0),s=new ft(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;X.isDocumentKey(o)||(o=o.child(""));let s=new ft(new X(o),0),a=new Ht(Fe);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},s),B.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Ue(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(t.mutations,i=>{let o=new ft(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new ft(t,0),i=this.br.firstAfterOrEqual(r);return B.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var O0=class{constructor(e){this.Mr=e,this.docs=function(){return new ot(X.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():nr.newInvalidDocument(t))}getEntries(e,t){let r=gi();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():nr.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=gi(),s=t.path,a=new X(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||j$(V$(p),r)<=0||(i.has(p.key)||ag(t,p))&&(o=o.insert(p.key,p.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ie()}Or(e,t){return B.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new k0(this)}getSize(e){return B.resolve(this.size)}},k0=class extends S0{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),B.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var F0=class{constructor(e){this.persistence=e,this.Nr=new go(t=>DI(t),TI),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.Lr=0,this.Br=new yl,this.targetCount=0,this.kr=ml.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),B.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new ml(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Kn(t),B.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),B.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this.Br.containsKey(t))}};var L0=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new bx(0),this.Kr=!1,this.Kr=!0,this.$r=new N0,this.referenceDelegate=e(this),this.Ur=new F0(this),this.indexManager=new D0,this.remoteDocumentCache=function(i){return new O0(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new C0(t),this.Gr=new R0(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new M0,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new P0(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){K("MemoryPersistence","Starting transaction:",e);let i=new V0(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},V0=class extends Q_{constructor(e){super(),this.currentSequenceNumber=e}},j0=class n{constructor(e){this.persistence=e,this.Jr=new yl,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ie()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),B.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{let i=X.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,de.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return B.or([()=>B.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var U0=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=Ae(),i=Ae();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var B0=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var $0=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return xS()?8:B$(At())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new B0;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(ol()<=Se.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",Xa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(ol()<=Se.DEBUG&&K("QueryEngine","Query:",Xa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ol()<=Se.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",Xa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mr(t))):B.resolve())}Yi(e,t){if(JA(t))return B.resolve(null);let r=Mr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=l0(t,null,"F"),r=Mr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=Ae(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(t,a);return this.ns(t,d,s,u.readTime)?this.Yi(e,l0(t,null,"F")):this.rs(e,d,t,u)}))})))}Zi(e,t,r,i){return JA(t)||i.isEqual(de.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?B.resolve(null):(ol()<=Se.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xa(t)),this.rs(e,s,t,L$(i,-1)).next(a=>a))})}ts(e,t){let r=new Ht(kx(e));return t.forEach((i,o)=>{ag(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return ol()<=Se.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",Xa(t)),this.Ji.getDocumentsMatchingQuery(e,t,bs.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var H0=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new ot(Fe),this._s=new go(o=>DI(o),TI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new x0(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function MH(n,e,t,r){return new H0(n,e,t,r)}function eR(n,e){return D(this,null,function*(){let t=ue(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=Ae();for(let d of i){s.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of o){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function NH(n,e){let t=ue(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let g=d.batch,_=g.keys(),I=B.resolve();return _.forEach(M=>{I=I.next(()=>p.getEntry(u,M)).next(L=>{let k=d.docVersions.get(M);Ue(k!==null),L.version.compareTo(k)<0&&(g.applyToRemoteDocument(L,d),L.isValidDocument()&&(L.setReadTime(d.commitVersion),p.addEntry(L)))})}),I.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ae();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function tR(n){let e=ue(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function PH(n,e){let t=ue(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((p,g)=>{let _=i.get(g);if(!_)return;a.push(t.Ur.removeMatchingKeys(o,p.removedDocuments,g).next(()=>t.Ur.addMatchingKeys(o,p.addedDocuments,g)));let I=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?I=I.withResumeToken(qt.EMPTY_BYTE_STRING,de.min()).withLastLimboFreeSnapshotVersion(de.min()):p.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(p.resumeToken,r)),i=i.insert(g,I),function(L,k,H){return L.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(_,I,p)&&a.push(t.Ur.updateTargetData(o,I))});let u=gi(),d=Ae();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,p))}),a.push(OH(o,s,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(de.min())){let p=t.Ur.getLastRemoteSnapshotVersion(o).next(g=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(p)}return B.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(t.os=i,o))}function OH(n,e,t){let r=Ae(),i=Ae();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=gi();return t.forEach((a,u)=>{let d=o.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(de.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function kH(n,e){let t=ue(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FH(n,e){let t=ue(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new gl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function z0(n,e,t){return D(this,null,function*(){let r=ue(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Cl(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function ux(n,e,t){let r=ue(n),i=de.min(),o=Ae();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,d,p){let g=ue(u),_=g._s.get(p);return _!==void 0?B.resolve(g.os.get(_)):g.Ur.getTargetData(d,p)}(r,s,Mr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:de.min(),t?o:Ae())).next(a=>(LH(r,J$(e),a),{documents:a,Ts:o})))}function LH(n,e,t){let r=n.us.get(e)||de.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var Vp=class{constructor(){this.activeTargetIds=iH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var q0=class{constructor(){this.so=new Vp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Vp,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var G0=class{_o(e){}shutdown(){}};var jp=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Ip=null;function V_(){return Ip===null?Ip=function(){return 268435456+Math.round(2147483648*Math.random())}():Ip++,"0x"+Ip.toString(16)}var VH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var W0=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var $t="WebChannelConnection",K0=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=V_(),u=this.xo(t,r.toUriEncodedString());K("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(t,u,d,i).then(p=>(K("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw oc("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yc}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=VH[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=V_();return new Promise((s,a)=>{let u=new N_;u.setWithCredentials(!0),u.listenOnce(P_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case il.NO_ERROR:let p=u.getResponseJson();K($t,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case il.TIMEOUT:K($t,`RPC '${e}' ${o} timed out`),a(new W(V.DEADLINE_EXCEEDED,"Request time out"));break;case il.HTTP_ERROR:let g=u.getStatus();if(K($t,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let I=_?.error;if(I&&I.status&&I.message){let M=function(k){let H=k.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(H)>=0?H:V.UNKNOWN}(I.status);a(new W(M,I.message))}else a(new W(V.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new W(V.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{K($t,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);K($t,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",d,r,15)})}Bo(e,t,r){let i=V_(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=F_(),a=k_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let p=o.join("");K($t,`Creating RPC '${e}' stream ${i}: ${p}`,u);let g=s.createWebChannel(p,u),_=!1,I=!1,M=new W0({Io:k=>{I?K($t,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(_||(K($t,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),K($t,`RPC '${e}' stream ${i} sending:`,k),g.send(k))},To:()=>g.close()}),L=(k,H,Q)=>{k.listen(H,ee=>{try{Q(ee)}catch(ge){setTimeout(()=>{throw ge},0)}})};return L(g,Ja.EventType.OPEN,()=>{I||(K($t,`RPC '${e}' stream ${i} transport opened.`),M.yo())}),L(g,Ja.EventType.CLOSE,()=>{I||(I=!0,K($t,`RPC '${e}' stream ${i} transport closed`),M.So())}),L(g,Ja.EventType.ERROR,k=>{I||(I=!0,oc($t,`RPC '${e}' stream ${i} transport errored:`,k),M.So(new W(V.UNAVAILABLE,"The operation could not be completed")))}),L(g,Ja.EventType.MESSAGE,k=>{var H;if(!I){let Q=k.data[0];Ue(!!Q);let ee=Q,ge=ee.error||((H=ee[0])===null||H===void 0?void 0:H.error);if(ge){K($t,`RPC '${e}' stream ${i} received error:`,ge);let $e=ge.status,ne=function(b){let T=ht[b];if(T!==void 0)return Gx(T)}($e),A=ge.message;ne===void 0&&(ne=V.INTERNAL,A="Unknown error status: "+$e+" with message "+ge.message),I=!0,M.So(new W(ne,A)),g.close()}else K($t,`RPC '${e}' stream ${i} received:`,Q),M.bo(Q)}}),L(a,O_.STAT_EVENT,k=>{k.stat===wp.PROXY?K($t,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===wp.NOPROXY&&K($t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function j_(){return typeof document<"u"?document:null}function cg(n){return new w0(n,!0)}var Up=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&K("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Bp=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Up(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return D(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return D(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return D(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===V.RESOURCE_EXHAUSTED?(fi(t.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new W(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>D(this,null,function*(){this.state=0,this.start()}))}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Q0=class extends Bp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=wH(this.serializer,e),r=function(o){if(!("targetChange"in o))return de.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?de.min():s.readTime?Nr(s.readTime):de.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=b0(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=c0(u)?{documents:EH(o,u)}:{query:bH(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Wx(o,s.resumeToken);let d=_0(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(de.min())>0){a.readTime=Fp(o,s.snapshotVersion.toTimestamp());let d=_0(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=DH(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=b0(this.serializer),t.removeTarget=e,this.a_(t)}},Y0=class extends Bp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=IH(e.writeResults,e.commitTime),r=Nr(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=b0(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>_H(this.serializer,r))};this.a_(t)}};var Z0=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new W(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,I0(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new W(V.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,I0(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(V.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},J0=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(fi(t),this.D_=!1):K("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var X0=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>D(this,null,function*(){Ms(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(u){return D(this,null,function*(){let d=ue(u);d.L_.add(4),yield Dl(d),d.q_.set("Unknown"),d.L_.delete(4),yield ug(d)})}(this))}))}),this.q_=new J0(r,i)}};function ug(n){return D(this,null,function*(){if(Ms(n))for(let e of n.B_)yield e(!0)})}function Dl(n){return D(this,null,function*(){for(let e of n.B_)yield e(!1)})}function nR(n,e){let t=ue(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),NI(t)?MI(t):vc(t).r_()&&RI(t,e))}function xI(n,e){let t=ue(n),r=vc(t);t.N_.delete(e),r.r_()&&rR(t,e),t.N_.size===0&&(r.r_()?r.o_():Ms(t)&&t.q_.set("Unknown"))}function RI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(de.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vc(n).A_(e)}function rR(n,e){n.Q_.xe(e),vc(n).R_(e)}function MI(n){n.Q_=new v0({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),vc(n).start(),n.q_.v_()}function NI(n){return Ms(n)&&!vc(n).n_()&&n.N_.size>0}function Ms(n){return ue(n).L_.size===0}function iR(n){n.Q_=void 0}function jH(n){return D(this,null,function*(){n.q_.set("Online")})}function UH(n){return D(this,null,function*(){n.N_.forEach((e,t)=>{RI(n,e)})})}function BH(n,e){return D(this,null,function*(){iR(n),NI(n)?(n.q_.M_(e),MI(n)):n.q_.set("Unknown")})}function $H(n,e,t){return D(this,null,function*(){if(n.q_.set("Online"),e instanceof Op&&e.state===2&&e.cause)try{yield function(i,o){return D(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield $p(n,r)}else if(e instanceof rc?n.Q_.Ke(e):e instanceof Pp?n.Q_.He(e):n.Q_.We(e),!t.isEqual(de.min()))try{let r=yield tR(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=o.N_.get(d);p&&o.N_.set(d,p.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,d)=>{let p=o.N_.get(u);if(!p)return;o.N_.set(u,p.withResumeToken(qt.EMPTY_BYTE_STRING,p.snapshotVersion)),rR(o,u);let g=new gl(p.target,u,d,p.sequenceNumber);RI(o,g)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){K("RemoteStore","Failed to raise snapshot:",r),yield $p(n,r)}})}function $p(n,e,t){return D(this,null,function*(){if(!Cl(e))throw e;n.L_.add(1),yield Dl(n),n.q_.set("Offline"),t||(t=()=>tR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>D(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield ug(n)}))})}function oR(n,e){return e().catch(t=>$p(n,t,e))}function lg(n){return D(this,null,function*(){let e=ue(n),t=mo(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;HH(e);)try{let i=yield kH(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,zH(e,i)}catch(i){yield $p(e,i)}sR(e)&&aR(e)})}function HH(n){return Ms(n)&&n.O_.length<10}function zH(n,e){n.O_.push(e);let t=mo(n);t.r_()&&t.V_&&t.m_(e.mutations)}function sR(n){return Ms(n)&&!mo(n).n_()&&n.O_.length>0}function aR(n){mo(n).start()}function qH(n){return D(this,null,function*(){mo(n).p_()})}function GH(n){return D(this,null,function*(){let e=mo(n);for(let t of n.O_)e.m_(t.mutations)})}function WH(n,e,t){return D(this,null,function*(){let r=n.O_.shift(),i=p0.from(r,e,t);yield oR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield lg(n)})}function KH(n,e){return D(this,null,function*(){e&&mo(n).V_&&(yield function(r,i){return D(this,null,function*(){if(function(s){return dH(s)&&s!==V.ABORTED}(i.code)){let o=r.O_.shift();mo(r).s_(),yield oR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield lg(r)}})}(n,e)),sR(n)&&aR(n)})}function lx(n,e){return D(this,null,function*(){let t=ue(n);t.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let r=Ms(t);t.L_.add(3),yield Dl(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield ug(t)})}function QH(n,e){return D(this,null,function*(){let t=ue(n);e?(t.L_.delete(2),yield ug(t)):e||(t.L_.add(2),yield Dl(t),t.q_.set("Unknown"))})}function vc(n){return n.K_||(n.K_=function(t,r,i){let o=ue(t);return o.w_(),new Q0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:jH.bind(null,n),Ro:UH.bind(null,n),mo:BH.bind(null,n),d_:$H.bind(null,n)}),n.B_.push(e=>D(this,null,function*(){e?(n.K_.s_(),NI(n)?MI(n):n.q_.set("Unknown")):(yield n.K_.stop(),iR(n))}))),n.K_}function mo(n){return n.U_||(n.U_=function(t,r,i){let o=ue(t);return o.w_(),new Y0(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:qH.bind(null,n),mo:KH.bind(null,n),f_:GH.bind(null,n),g_:WH.bind(null,n)}),n.B_.push(e=>D(this,null,function*(){e?(n.U_.s_(),yield lg(n)):(yield n.U_.stop(),n.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var eI=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function PI(n,e){if(fi("AsyncQueue",`${e}: ${n}`),Cl(n))return new W(V.UNAVAILABLE,`${e}: ${n}`);throw n}var Hp=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||X.comparator(t.key,r.key):(t,r)=>X.comparator(t.key,r.key),this.keyedMap=sl(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var zp=class{constructor(){this.W_=new ot(X.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ie():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},pc=class n{constructor(e,t,r,i,o,s,a,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Hp.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&sg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var tI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},nI=class{constructor(){this.queries=dx(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ue(t),o=i.queries;i.queries=dx(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new W(V.ABORTED,"Firestore shutting down"))}};function dx(){return new go(n=>Ox(n),sg)}function cR(n,e){return D(this,null,function*(){let t=ue(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new tI,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=PI(s,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&OI(t)})}function uR(n,e){return D(this,null,function*(){let t=ue(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function YH(n,e){let t=ue(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&OI(t)}function ZH(n,e,t){let r=ue(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function OI(n){n.Y_.forEach(e=>{e.next()})}var rI,hx;(hx=rI||(rI={})).ea="default",hx.Cache="cache";var qp=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new pc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=pc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==rI.Cache}};var Gp=class{constructor(e){this.key=e}},Wp=class{constructor(e){this.key=e}},iI=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ae(),this.mutatedKeys=Ae(),this.Aa=kx(e),this.Ra=new Hp(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new zp,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{let _=i.get(p),I=ag(this.query,g)?g:null,M=!!_&&this.mutatedKeys.has(_.key),L=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations),k=!1;_&&I?_.data.isEqual(I.data)?M!==L&&(r.track({type:3,doc:I}),k=!0):this.ga(_,I)||(r.track({type:2,doc:I}),k=!0,(u&&this.Aa(I,u)>0||d&&this.Aa(I,d)<0)&&(a=!0)):!_&&I?(r.track({type:0,doc:I}),k=!0):_&&!I&&(r.track({type:1,doc:_}),k=!0,(u||d)&&(a=!0)),k&&(I?(s=s.add(I),o=L?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((p,g)=>function(I,M){let L=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return L(I)-L(M)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,s.length!==0||d?{snapshot:new pc(this.query,e.Ra,o,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new zp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=Ae(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Wp(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Gp(r))}),t}ba(e){this.Ta=e.Ts,this.da=Ae();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return pc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},oI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},sI=class{constructor(e){this.key=e,this.va=!1}},aI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new go(a=>Ox(a),sg),this.Ma=new Map,this.xa=new Set,this.Oa=new ot(X.comparator),this.Na=new Map,this.La=new yl,this.Ba={},this.ka=new Map,this.qa=ml.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function JH(n,e,t=!0){return D(this,null,function*(){let r=gR(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield lR(r,e,t,!0),i})}function XH(n,e){return D(this,null,function*(){let t=gR(n);yield lR(t,e,!0,!1)})}function lR(n,e,t,r){return D(this,null,function*(){let i=yield FH(n.localStore,Mr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield e4(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&nR(n.remoteStore,i),a})}function e4(n,e,t,r,i){return D(this,null,function*(){n.Ka=(g,_,I)=>function(L,k,H,Q){return D(this,null,function*(){let ee=k.view.ma(H);ee.ns&&(ee=yield ux(L.localStore,k.query,!1).then(({documents:A})=>k.view.ma(A,ee)));let ge=Q&&Q.targetChanges.get(k.targetId),$e=Q&&Q.targetMismatches.get(k.targetId)!=null,ne=k.view.applyChanges(ee,L.isPrimaryClient,ge,$e);return px(L,k.targetId,ne.wa),ne.snapshot})}(n,g,_,I);let o=yield ux(n.localStore,e,!0),s=new iI(e,o.Ts),a=s.ma(o.documents),u=pl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=s.applyChanges(a,n.isPrimaryClient,u);px(n,t,d.wa);let p=new oI(e,t,s);return n.Fa.set(e,p),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot})}function t4(n,e,t){return D(this,null,function*(){let r=ue(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!sg(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield z0(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&xI(r.remoteStore,i.targetId),cI(r,i.targetId)}).catch(bl))):(cI(r,i.targetId),yield z0(r.localStore,i.targetId,!0))})}function n4(n,e){return D(this,null,function*(){let t=ue(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),xI(t.remoteStore,r.targetId))})}function r4(n,e,t){return D(this,null,function*(){let r=l4(n);try{let i=yield function(s,a){let u=ue(s),d=Lt.now(),p=a.reduce((I,M)=>I.add(M.key),Ae()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",I=>{let M=gi(),L=Ae();return u.cs.getEntries(I,p).next(k=>{M=k,M.forEach((H,Q)=>{Q.isValidDocument()||(L=L.add(H))})}).next(()=>u.localDocuments.getOverlayedDocuments(I,M)).next(k=>{g=k;let H=[];for(let Q of a){let ee=lH(Q,g.get(Q.key).overlayedDocument);ee!=null&&H.push(new Or(Q.key,ee,Sx(ee.value.mapValue),hi.exists(!0)))}return u.mutationQueue.addMutationBatch(I,d,H,a)}).next(k=>{_=k;let H=k.applyToLocalDocumentSet(g,L);return u.documentOverlayCache.saveOverlays(I,k.batchId,H)})}).then(()=>({batchId:_.batchId,changes:Lx(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let d=s.Ba[s.currentUser.toKey()];d||(d=new ot(Fe)),d=d.insert(a,u),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,t),yield Tl(r,i.changes),yield lg(r.remoteStore)}catch(i){let o=PI(i,"Failed to persist write");t.reject(o)}})}function dR(n,e){return D(this,null,function*(){let t=ue(n);try{let r=yield PH(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ue(s.va):i.removedDocuments.size>0&&(Ue(s.va),s.va=!1))}),yield Tl(t,r,e)}catch(r){yield bl(r)}})}function fx(n,e,t){let r=ue(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ue(s);u.onlineState=a;let d=!1;u.queries.forEach((p,g)=>{for(let _ of g.j_)_.Z_(a)&&(d=!0)}),d&&OI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function i4(n,e,t){return D(this,null,function*(){let r=ue(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new ot(X.comparator);s=s.insert(o,nr.newNoDocument(o,de.min()));let a=Ae().add(o),u=new Np(de.min(),new Map,new ot(Fe),s,a);yield dR(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),kI(r)}else yield z0(r.localStore,e,!1).then(()=>cI(r,e,t)).catch(bl)})}function o4(n,e){return D(this,null,function*(){let t=ue(n),r=e.batch.batchId;try{let i=yield NH(t.localStore,e);fR(t,r,null),hR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Tl(t,i)}catch(i){yield bl(i)}})}function s4(n,e,t){return D(this,null,function*(){let r=ue(n);try{let i=yield function(s,a){let u=ue(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(g=>(Ue(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);fR(r,e,t),hR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Tl(r,i)}catch(i){yield bl(i)}})}function hR(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function fR(n,e,t){let r=ue(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function cI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||pR(n,r)})}function pR(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(xI(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),kI(n))}function px(n,e,t){for(let r of t)r instanceof Gp?(n.La.addReference(r.key,e),a4(n,r)):r instanceof Wp?(K("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||pR(n,r.key)):ie()}function a4(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(K("SyncEngine","New document in limbo: "+t),n.xa.add(r),kI(n))}function kI(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new X(tt.fromString(e)),r=n.qa.next();n.Na.set(r,new sI(t)),n.Oa=n.Oa.insert(t,r),nR(n.remoteStore,new gl(Mr(og(t.path)),r,"TargetPurposeLimboResolution",bx.oe))}}function Tl(n,e,t){return D(this,null,function*(){let r=ue(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(d=>{var p;if((d||t)&&r.isPrimaryClient){let g=d?!d.fromCache:(p=t?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=U0.Wi(u.targetId,d);o.push(g)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,d){return D(this,null,function*(){let p=ue(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>B.forEach(d,_=>B.forEach(_.$i,I=>p.persistence.referenceDelegate.addReference(g,_.targetId,I)).next(()=>B.forEach(_.Ui,I=>p.persistence.referenceDelegate.removeReference(g,_.targetId,I)))))}catch(g){if(!Cl(g))throw g;K("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let I=p.os.get(_),M=I.snapshotVersion,L=I.withLastLimboFreeSnapshotVersion(M);p.os=p.os.insert(_,L)}}})}(r.localStore,o))})}function c4(n,e){return D(this,null,function*(){let t=ue(n);if(!t.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let r=yield eR(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new W(V.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Tl(t,r.hs)}})}function u4(n,e){let t=ue(n),r=t.Na.get(e);if(r&&r.va)return Ae().add(r.key);{let i=Ae(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function gR(n){let e=ue(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=dR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i4.bind(null,e),e.Ca.d_=YH.bind(null,e.eventManager),e.Ca.$a=ZH.bind(null,e.eventManager),e}function l4(n){let e=ue(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=o4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s4.bind(null,e),e}var gx=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return D(this,null,function*(){this.serializer=cg(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return MH(this.persistence,new $0,t.initialUser,this.serializer)}Ga(t){return new L0(j0.Zr,this.serializer)}Wa(t){return new q0}terminate(){return D(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var d4=(()=>{class n{initialize(t,r){return D(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>fx(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=c4.bind(null,this.syncEngine),yield QH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new nI}()}createDatastore(t){let r=cg(t.databaseInfo.databaseId),i=function(s){return new K0(s)}(t.databaseInfo);return function(s,a,u,d){return new Z0(s,a,u,d)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new X0(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>fx(this.syncEngine,r,0),function(){return jp.D()?new jp:new G0}())}createSyncEngine(t,r){return function(o,s,a,u,d,p,g){let _=new aI(o,s,a,u,d,p);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return D(this,null,function*(){var t,r;yield function(o){return D(this,null,function*(){let s=ue(o);K("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Dl(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Kp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var uI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Rt.UNAUTHENTICATED,this.clientId=Dp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>D(this,null,function*(){K("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>D(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=PI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function U_(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>D(this,null,function*(){r.isEqual(i)||(yield eR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function mx(n,e){return D(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield h4(n);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>lx(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>lx(e.remoteStore,i)),n._onlineComponents=e})}function h4(n){return D(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield U_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===V.FAILED_PRECONDITION||i.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;oc("Error using user provided cache. Falling back to memory cache: "+t),yield U_(n,new gx)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield U_(n,new gx);return n._offlineComponents})}function mR(n){return D(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield mx(n,n._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield mx(n,new d4))),n._onlineComponents})}function f4(n){return mR(n).then(e=>e.syncEngine)}function lI(n){return D(this,null,function*(){let e=yield mR(n),t=e.eventManager;return t.onListen=JH.bind(null,e.syncEngine),t.onUnlisten=t4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=XH.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=n4.bind(null,e.syncEngine),t})}function p4(n,e,t={}){let r=new xr;return n.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return function(o,s,a,u,d){let p=new Kp({next:_=>{p.Za(),s.enqueueAndForget(()=>uR(o,g));let I=_.docs.has(a);!I&&_.fromCache?d.reject(new W(V.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&_.fromCache&&u&&u.source==="server"?d.reject(new W(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new qp(og(a.path),p,{includeMetadataChanges:!0,_a:!0});return cR(o,g)}(yield lI(n),n.asyncQueue,e,t,r)})),r.promise}function yR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var yx=new Map;function vR(n,e,t){if(!t)throw new W(V.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function g4(n,e,t,r){if(e===!0&&r===!0)throw new W(V.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vx(n){if(!X.isDocumentKey(n))throw new W(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function wx(n){if(X.isDocumentKey(n))throw new W(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ie()}function tr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new W(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=dg(n);throw new W(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Qp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new W(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new W(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new W(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new W(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new W(V.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},gc=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new B_;switch(r.type){case"firstParty":return new q_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return D(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=yx.get(t);r&&(K("ComponentProvider","Removing Datastore"),yx.delete(t),r.terminate())}(this),Promise.resolve()}};function wR(n,e,t,r={}){var i;let o=(n=tr(n,gc))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&oc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Rt.MOCK_USER;else{a=bS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new W(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Rt(d)}n._authCredentials=new $_(new Cp(a,u))}}var xs=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},zt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ho=class n extends xs{constructor(e,t,r){super(e,t,og(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new X(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function _R(n,e,...t){if(n=xt(n),vR("collection","path",e),n instanceof gc){let r=tt.fromString(e,...t);return wx(r),new ho(n,null,r)}{if(!(n instanceof zt||n instanceof ho))throw new W(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(tt.fromString(e,...t));return wx(r),new ho(n.firestore,null,r)}}function FI(n,e,...t){if(n=xt(n),arguments.length===1&&(e=Dp.newId()),vR("doc","path",e),n instanceof gc){let r=tt.fromString(e,...t);return vx(r),new zt(n,null,new X(r))}{if(!(n instanceof zt||n instanceof ho))throw new W(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(tt.fromString(e,...t));return vx(r),new zt(n.firestore,n instanceof ho?n.converter:null,new X(r))}}var Yp=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Up(this,"async_queue_retry"),this.Vu=()=>{let r=j_();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=j_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=j_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new xr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return D(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Cl(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw fi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=eI.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ie()}verifyOperationInProgress(){}wu(){return D(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function _x(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var mi=class extends gc{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Yp,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return D(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Yp(e),this._firestoreClient=void 0,yield e}})}};function IR(n,e){let t=typeof n=="object"?n:Ga(),r=typeof n=="string"?n:e||"(default)",i=Ku(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=ES("firestore");o&&wR(i,...o)}return i}function LI(n){if(n._terminated)throw new W(V.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||m4(n),n._firestoreClient}function m4(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,d,p){return new Y_(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,yR(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new uI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var vl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(qt.fromBase64String(e))}catch(t){throw new W(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var mc=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new W(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var wl=class{constructor(e){this._methodName=e}};var _l=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new W(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new W(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}};var Il=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var y4=/^__.*__$/,dI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,t,this.fieldTransforms):new As(e,this.data,t,this.fieldTransforms)}},Zp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Or(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function ER(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}var hI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Xp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ER(this.Cu)&&y4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},fI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||cg(e)}Qu(e,t,r,i=!1){return new hI({Cu:e,methodName:t,qu:r,path:_n.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function hg(n){let e=n._freezeSettings(),t=cg(n._databaseId);return new fI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function bR(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);VI("Data must be an object, but it was:",s,r);let a=CR(r,s),u,d;if(o.merge)u=new On(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let p=[];for(let g of o.mergeFields){let _=pI(e,g,t);if(!s.contains(_))throw new W(V.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);TR(p,_)||p.push(_)}u=new On(p),d=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=s.fieldTransforms;return new dI(new wn(a),u,d)}var Jp=class n extends wl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function v4(n,e,t,r){let i=n.Qu(1,e,t);VI("Data must be an object, but it was:",i,r);let o=[],s=wn.empty();Rs(r,(u,d)=>{let p=jI(e,u,t);d=xt(d);let g=i.Nu(p);if(d instanceof Jp)o.push(p);else{let _=Sl(d,g);_!=null&&(o.push(p),s.set(p,_))}});let a=new On(o);return new Zp(s,a,i.fieldTransforms)}function w4(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[pI(e,r,t)],u=[i];if(o.length%2!=0)throw new W(V.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(pI(e,o[_])),u.push(o[_+1]);let d=[],p=wn.empty();for(let _=a.length-1;_>=0;--_)if(!TR(d,a[_])){let I=a[_],M=u[_];M=xt(M);let L=s.Nu(I);if(M instanceof Jp)d.push(I);else{let k=Sl(M,L);k!=null&&(d.push(I),p.set(I,k))}}let g=new On(d);return new Zp(p,g,s.fieldTransforms)}function _4(n,e,t,r=!1){return Sl(t,n.Qu(r?4:3,e))}function Sl(n,e){if(DR(n=xt(n)))return VI("Unsupported field value:",e,n),CR(n,e);if(n instanceof wl)return function(r,i){if(!ER(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Sl(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=xt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Lt.fromDate(r);return{timestampValue:Fp(i.serializer,o)}}if(r instanceof Lt){let o=new Lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Fp(i.serializer,o)}}if(r instanceof _l)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vl)return{bytesValue:Wx(i.serializer,r._byteString)};if(r instanceof zt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:AI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Il)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return SI(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${dg(r)}`)}(n,e)}function CR(n,e){let t={};return Cx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(n,(r,i)=>{let o=Sl(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function DR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Lt||n instanceof _l||n instanceof vl||n instanceof zt||n instanceof wl||n instanceof Il)}function VI(n,e,t){if(!DR(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=dg(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function pI(n,e,t){if((e=xt(e))instanceof mc)return e._internalPath;if(typeof e=="string")return jI(n,e);throw Xp("Field path arguments must be of type string or ",n,!1,void 0,t)}var I4=new RegExp("[~\\*/\\[\\]]");function jI(n,e,t){if(e.search(I4)>=0)throw Xp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new mc(...e.split("."))._internalPath}catch{throw Xp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Xp(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new W(V.INVALID_ARGUMENT,a+n+u)}function TR(n,e){return n.some(t=>t.isEqual(e))}var eg=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new gI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(UI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},gI=class extends eg{data(){return super.data()}};function UI(n,e){return typeof e=="string"?jI(n,e):e instanceof mc?e._internalPath:e._delegate._internalPath}function E4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new W(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var El=class{},tg=class extends El{};function SR(n,e,...t){let r=[];e instanceof El&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof yI).length,a=o.filter(u=>u instanceof mI).length;if(s>1||s>0&&a>0)throw new W(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var mI=class n extends tg{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return xR(e._query,t),new xs(e.firestore,e.converter,u0(e._query,t))}_parse(e){let t=hg(e.firestore);return function(o,s,a,u,d,p,g){let _;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new W(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){Ex(g,p);let I=[];for(let M of g)I.push(Ix(u,o,M));_={arrayValue:{values:I}}}else _=Ix(u,o,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||Ex(g,p),_=_4(a,s,g,p==="in"||p==="not-in");return pt.create(d,p,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};var yI=class n extends El{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:rr.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)xR(s,u),s=u0(s,u)}(e._query,t),new xs(e.firestore,e.converter,u0(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var vI=class n extends tg{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new W(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new W(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ds(o,s)}(e._query,this._field,this._direction);return new xs(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new po(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function AR(n,e="asc"){let t=e,r=UI("orderBy",n);return vI._create(r,t)}function Ix(n,e,t){if(typeof(t=xt(t))=="string"){if(t==="")throw new W(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Px(e)&&t.indexOf("/")!==-1)throw new W(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(tt.fromString(t));if(!X.isDocumentKey(r))throw new W(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return GA(n,new X(r))}if(t instanceof zt)return GA(n,t._key);throw new W(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dg(t)}.`)}function Ex(n,e){if(!Array.isArray(n)||n.length===0)throw new W(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xR(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new W(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new W(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var wI=class{convertValue(e,t="none"){switch(Cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ie()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Rs(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Ze(s.doubleValue));return new Il(o)}convertGeoPoint(e){return new _l(Ze(e.latitude),Ze(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=bI(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){let t=pi(e);return new Lt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=tt.fromString(e);Ue(Xx(r));let i=new xp(r.get(1),r.get(3)),o=new X(r.popFirst(5));return i.isEqual(t)||fi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function RR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Is=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ng=class extends eg{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(UI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},ic=class extends ng{data(e={}){return super.data(e)}},_I=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Is(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ic(this._firestore,this._userDataWriter,r.key,r,new Is(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new W(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Is(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new ic(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Is(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:b4(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function b4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}function MR(n){n=tr(n,zt);let e=tr(n.firestore,mi);return p4(LI(e),n._key).then(t=>kR(e,n,t))}var rg=class extends wI{constructor(e){super(),this.firestore=e}convertBytes(e){return new vl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,t)}};function NR(n,e,t){n=tr(n,zt);let r=tr(n.firestore,mi),i=RR(n.converter,e,t);return $I(r,[bR(hg(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,hi.none())])}function PR(n,e,t,...r){n=tr(n,zt);let i=tr(n.firestore,mi),o=hg(i),s;return s=typeof(e=xt(e))=="string"||e instanceof mc?w4(o,"updateDoc",n._key,e,t,r):v4(o,"updateDoc",n._key,e),$I(i,[s.toMutation(n._key,hi.exists(!0))])}function OR(n,e){let t=tr(n.firestore,mi),r=FI(n),i=RR(n.converter,e);return $I(t,[bR(hg(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then(()=>r)}function BI(n,...e){var t,r,i;n=xt(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||_x(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(_x(e[s])){let g=e[s];e[s]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[s+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[s+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,d,p;if(n instanceof zt)d=tr(n.firestore,mi),p=og(n._key.path),u={next:g=>{e[s]&&e[s](kR(d,n,g))},error:e[s+1],complete:e[s+2]};else{let g=tr(n,xs);d=tr(g.firestore,mi),p=g._query;let _=new rg(d);u={next:I=>{e[s]&&e[s](new _I(d,_,g,I))},error:e[s+1],complete:e[s+2]},E4(n._query)}return function(_,I,M,L){let k=new Kp(L),H=new qp(I,k,M);return _.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return cR(yield lI(_),H)})),()=>{k.Za(),_.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return uR(yield lI(_),H)}))}}(LI(d),p,a,u)}function $I(n,e){return function(r,i){let o=new xr;return r.asyncQueue.enqueueAndForget(()=>D(this,null,function*(){return r4(yield f4(r),i,o)})),o.promise}(LI(n),e)}function kR(n,e,t){let r=t.docs.get(e._key),i=new rg(n);return new ng(n,i,e._key,r,new Is(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){yc=i})(so),oo(new Pn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new mi(new H_(r.getProvider("auth-internal")),new W_(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new W(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xp(d.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),bt($A,"4.7.3",e),bt($A,"4.7.3","esm2017")})();var fg=function(){return fg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},fg.apply(this,arguments)};var T4={includeMetadataChanges:!1};function FR(n,e){return e===void 0&&(e=T4),new Ce(function(t){var r=BI(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function LR(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:fg(fg({},r),(t={},t[e.idField]=n.id,t))}function VR(n){return FR(n,{includeMetadataChanges:!0}).pipe(se(function(e){return e.docs}))}function jR(n,e){return e===void 0&&(e={}),VR(n).pipe(se(function(t){return t.map(function(r){return LR(r,e)})}))}var ir=class{constructor(e){return e}},UR="firestore",HI=class{constructor(){return Qu(UR)}};var zI=new J("angularfire2.firestore-instances");function S4(n,e){let t=Xf(UR,n,e);return t&&new ir(t)}function A4(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new ir(r)}}var x4={provide:HI,deps:[[new Bt,zI]]},R4={provide:ir,useFactory:S4,deps:[[new Bt,zI],ci]};function BR(n,...e){return bt("angularfire",fs.full,"fst"),_r([R4,x4,{provide:zI,useFactory:A4(n),multi:!0,deps:[Be,on,Qa,ps,[new Bt,rl],[new Bt,Ka],...e]}])}var wc=Xt(jR,!0);var $R=Xt(OR,!0);var Ns=Xt(_R,!0);var yo=Xt(FI,!0);var qI=Xt(MR,!0);var HR=Xt(IR,!0);var pg=Xt(AR,!0);var gg=Xt(SR,!0);var zR=Xt(NR,!0);var Al=Xt(PR,!0);var _c=class n{transform(e){if(!e)return"Fecha no v\xE1lida";let t;if(typeof e=="string"&&e.includes("/")){let i=e.split("/");if(i.length===3){let o=parseInt(i[0],10),s=parseInt(i[1],10)-1,a=parseInt(i[2],10);t=new Date(a,s,o)}else return"Fecha no v\xE1lida"}else t=new Date(e);return console.log("Fecha interpretada:",t),isNaN(t.getTime())?"Fecha no v\xE1lida":new Intl.DateTimeFormat("es-ES",{weekday:"long",day:"numeric",month:"long",year:"numeric"}).format(t)}static \u0275fac=function(t){return new(t||n)};static \u0275pipe=$h({name:"formatDateSpanish",type:n,pure:!0,standalone:!0})};var XR=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(Ie(Ir),Ie(Zn))}}static{this.\u0275dir=Xe({type:n})}}return n})(),Ol=(()=>{class n extends XR{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=An(n)))(i||n)}})()}static{this.\u0275dir=Xe({type:n,features:[fn]})}}return n})(),Cc=new J(""),M4={provide:Cc,useExisting:Tn(()=>ZI),multi:!0},ZI=(()=>{class n extends Ol{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=An(n)))(i||n)}})()}static{this.\u0275dir=Xe({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&xe("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Er([M4]),fn]})}}return n})(),N4={provide:Cc,useExisting:Tn(()=>_g),multi:!0};function P4(){let n=ni()?ni().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var O4=new J(""),_g=(()=>{class n extends XR{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!P4())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(Ie(Ir),Ie(Zn),Ie(O4,8))}}static{this.\u0275dir=Xe({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&xe("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Er([N4]),fn]})}}return n})();function eM(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function tM(n){return n!=null&&typeof n.length=="number"}var Ig=new J(""),k4=new J("");function F4(n){return e=>eM(e.value)||!tM(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function L4(n){return e=>tM(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function V4(n){if(!n)return GI;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(eM(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function GI(n){return null}function nM(n){return n!=null}function rM(n){return ns(n)?it(n):n}function iM(n){let e={};return n.forEach(t=>{e=t!=null?$($({},e),t):e}),Object.keys(e).length===0?null:e}function oM(n,e){return e.map(t=>t(n))}function j4(n){return!n.validate}function sM(n){return n.map(e=>j4(e)?e:t=>e.validate(t))}function U4(n){if(!n)return null;let e=n.filter(nM);return e.length==0?null:function(t){return iM(oM(t,e))}}function aM(n){return n!=null?U4(sM(n)):null}function B4(n){if(!n)return null;let e=n.filter(nM);return e.length==0?null:function(t){let r=oM(t,e).map(rM);return wm(r).pipe(se(iM))}}function cM(n){return n!=null?B4(sM(n)):null}function qR(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function $4(n){return n._rawValidators}function H4(n){return n._rawAsyncValidators}function WI(n){return n?Array.isArray(n)?n:[n]:[]}function yg(n,e){return Array.isArray(n)?n.includes(e):n===e}function GR(n,e){let t=WI(e);return WI(n).forEach(i=>{yg(t,i)||t.push(i)}),t}function WR(n,e){return WI(e).filter(t=>!yg(n,t))}var vg=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=aM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},KI=class extends vg{get formDirective(){return null}get path(){return null}},Pl=class extends vg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},QI=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},z4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},$Y=re($({},z4),{"[class.ng-submitted]":"isSubmitted"}),Eg=(()=>{class n extends QI{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(Ie(Pl,2))}}static{this.\u0275dir=Xe({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&an("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[fn]})}}return n})();var xl="VALID",mg="INVALID",Ic="PENDING",Rl="DISABLED",bc=class{},wg=class extends bc{constructor(e,t){super(),this.value=e,this.source=t}},Ml=class extends bc{constructor(e,t){super(),this.pristine=e,this.source=t}},Nl=class extends bc{constructor(e,t){super(),this.touched=e,this.source=t}},Ec=class extends bc{constructor(e,t){super(),this.status=e,this.source=t}};function q4(n){return(bg(n)?n.validators:n)||null}function G4(n){return Array.isArray(n)?aM(n):n||null}function W4(n,e){return(bg(e)?e.asyncValidators:n)||null}function K4(n){return Array.isArray(n)?cM(n):n||null}function bg(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var YI=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=df(()=>this.statusReactive()),this.statusReactive=of(void 0),this._pristine=df(()=>this.pristineReactive()),this.pristineReactive=of(!0),this._touched=df(()=>this.touchedReactive()),this.touchedReactive=of(!1),this._events=new Pt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Xi(this.statusReactive)}set status(e){Xi(()=>this.statusReactive.set(e))}get valid(){return this.status===xl}get invalid(){return this.status===mg}get pending(){return this.status==Ic}get disabled(){return this.status===Rl}get enabled(){return this.status!==Rl}get pristine(){return Xi(this.pristineReactive)}set pristine(e){Xi(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Xi(this.touchedReactive)}set touched(e){Xi(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(GR(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(GR(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WR(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WR(e,this._rawAsyncValidators))}hasValidator(e){return yg(this._rawValidators,e)}hasAsyncValidator(e){return yg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re($({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Nl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Nl(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re($({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ml(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ml(!0,r))}markAsPending(e={}){this.status=Ic;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ec(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re($({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Rl,this.errors=null,this._forEachChild(i=>{i.disable(re($({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wg(this.value,r)),this._events.next(new Ec(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re($({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=xl,this._forEachChild(r=>{r.enable(re($({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re($({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xl||this.status===Ic)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new wg(this.value,t)),this._events.next(new Ec(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re($({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rl:xl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ic,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=rM(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ec(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new It,this.statusChanges=new It}_calculateStatus(){return this._allControlsDisabled()?Rl:this.errors?mg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ic)?Ic:this._anyControlsHaveStatus(mg)?mg:xl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ml(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Nl(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){bg(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=G4(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=K4(this._rawAsyncValidators)}};var uM=new J("CallSetDisabledState",{providedIn:"root",factory:()=>JI}),JI="always";function Q4(n,e){return[...e.path,n]}function Y4(n,e,t=JI){J4(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),X4(n,e),t3(n,e),e3(n,e),Z4(n,e)}function KR(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Z4(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function J4(n,e){let t=$4(n);e.validator!==null?n.setValidators(qR(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=H4(n);e.asyncValidator!==null?n.setAsyncValidators(qR(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();KR(e._rawValidators,i),KR(e._rawAsyncValidators,i)}function X4(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&lM(n,e)})}function e3(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&lM(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function lM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function t3(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function n3(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function r3(n){return Object.getPrototypeOf(n.constructor)===Ol}function i3(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===_g?t=o:r3(o)?r=o:i=o}),i||r||t||null}function QR(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function YR(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var o3=class extends YI{constructor(e=null,t,r){super(q4(t),W4(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(YR(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){QR(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){QR(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){YR(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var s3={provide:Pl,useExisting:Tn(()=>kl)},ZR=Promise.resolve(),kl=(()=>{class n extends Pl{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new o3,this._registered=!1,this.name="",this.update=new It,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=i3(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),n3(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Y4(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){ZR.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&lf(r);ZR.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?Q4(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(Ie(KI,9),Ie(Ig,10),Ie(k4,10),Ie(Cc,10),Ie(is,8),Ie(uM,8))}}static{this.\u0275dir=Xe({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Er([s3]),fn,Zo]})}}return n})();var a3={provide:Cc,useExisting:Tn(()=>XI),multi:!0},XI=(()=>{class n extends Ol{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=An(n)))(i||n)}})()}static{this.\u0275dir=Xe({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&xe("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Er([a3]),fn]})}}return n})();var c3={provide:Cc,useExisting:Tn(()=>Dc),multi:!0};function dM(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function u3(n){return n.split(":")[0]}var Dc=(()=>{class n extends Ol{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=dM(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=u3(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=An(n)))(i||n)}})()}static{this.\u0275dir=Xe({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&xe("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Er([c3]),fn]})}}return n})(),Cg=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(dM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Ie(Zn),Ie(Ir),Ie(Dc,9))}}static{this.\u0275dir=Xe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),l3={provide:Cc,useExisting:Tn(()=>hM),multi:!0};function JR(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function d3(n){return n.split(":")[0]}var hM=(()=>{class n extends Ol{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],d=this._getOptionValue(u.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=d3(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=An(n)))(i||n)}})()}static{this.\u0275dir=Xe({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&xe("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Er([l3]),fn]})}}return n})(),Dg=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(JR(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(JR(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(Ie(Zn),Ie(Ir),Ie(hM,9))}}static{this.\u0275dir=Xe({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function fM(n){return typeof n=="number"?n:parseInt(n,10)}var eE=(()=>{class n{constructor(){this._validator=GI}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):GI,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Xe({type:n,features:[Zo]})}}return n})();var h3={provide:Ig,useExisting:Tn(()=>tE),multi:!0},tE=(()=>{class n extends eE{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=t=>fM(t),this.createValidator=t=>F4(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=An(n)))(i||n)}})()}static{this.\u0275dir=Xe({type:n,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Na("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[Er([h3]),fn]})}}return n})(),f3={provide:Ig,useExisting:Tn(()=>nE),multi:!0},nE=(()=>{class n extends eE{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>fM(t),this.createValidator=t=>L4(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=An(n)))(i||n)}})()}static{this.\u0275dir=Xe({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Na("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Er([f3]),fn]})}}return n})(),p3={provide:Ig,useExisting:Tn(()=>rE),multi:!0},rE=(()=>{class n extends eE{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>V4(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=An(n)))(i||n)}})()}static{this.\u0275dir=Xe({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Na("pattern",i._enabled?i.pattern:null)},inputs:{pattern:"pattern"},features:[Er([p3]),fn]})}}return n})();var g3=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Yo({type:n})}static{this.\u0275inj=Qo({})}}return n})();var Tg=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:uM,useValue:t.callSetDisabledState??JI}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Yo({type:n})}static{this.\u0275inj=Qo({imports:[g3]})}}return n})();var m3=n=>({"background-color":n}),y3=(n,e,t)=>({"border-yellow-400":n,"border-blue-400":e,"border-green-400":t}),gM=(n,e,t)=>({"bg-yellow-100 text-yellow-800":n,"bg-blue-100 text-blue-800":e,"bg-green-100 text-green-800":t});function v3(n,e){if(n&1&&(F(0,"option",41),U(1),ts(2,"formatDateSpanish"),O()),n&2){let t=e.$implicit;ye("value",t),j(),Jn(wu(2,2,t))}}function w3(n,e){if(n&1&&(F(0,"p",42),U(1),O()),n&2){let t=Y();j(),fe(" ",t.getSelectedStats().topProducts[0].name," ")}}function _3(n,e){n&1&&(F(0,"p",42),U(1," No hay datos "),O())}function I3(n,e){if(n&1&&(F(0,"div",17)(1,"span",18),U(2),O()()),n&2){let t=Y();j(2),fe("",t.getSelectedStats().topProducts[0].quantity," unidades vendidas")}}function E3(n,e){if(n&1&&(F(0,"tr")(1,"td",43)(2,"div",22)(3,"div",44)(4,"span",45),U(5),O()(),F(6,"div",46)(7,"div",47),U(8),O()()()(),F(9,"td",43)(10,"div",48),U(11),O()(),F(12,"td",43)(13,"div",48),U(14),O()()()),n&2){let t=e.$implicit,r=e.index,i=Y();j(3),ye("ngStyle",JD(5,m3,i.getColor(r))),j(2),Jn(r+1),j(3),Jn(t.name),j(3),Jn(t.quantity),j(3),fe("$",t.revenue.toFixed(2),"")}}function b3(n,e){n&1&&(F(0,"tr")(1,"td",49),U(2," No hay datos disponibles "),O()())}function C3(n,e){if(n&1&&(F(0,"p",69),U(1),O()),n&2){let t=Y().$implicit;j(),fe(" Mesas: ",t.tables.join(", ")," ")}}function D3(n,e){if(n&1&&(F(0,"span",18),U(1),O()),n&2){let t=Y().$implicit;j(),fe(" (",t.selectedOption,") ")}}function T3(n,e){n&1&&(F(0,"span",78),U(1," \u2713 "),O())}function S3(n,e){if(n&1&&(F(0,"div",70)(1,"div")(2,"span",71),U(3),et(4,D3,2,1,"span",72),O(),F(5,"div",73)(6,"span",74),U(7),O()()(),F(8,"div",75)(9,"p",76),U(10),O(),et(11,T3,2,0,"span",77),O()()),n&2){let t=e.$implicit,r=Y(3);ye("ngClass",r.getItemStatusClass(t.status||"En espera")),j(3),vu(" ",t.quantity,"x ",t.name," "),j(),ye("ngIf",t.selectedOption),j(2),ye("ngClass",es(8,gM,(t.status||"En espera")==="En espera",(t.status||"En espera")==="En preparaci\xF3n",(t.status||"En espera")==="Realizado")),j(),fe(" ",t.status||"En espera"," "),j(3),fe("$",(t.quantity*t.price).toFixed(2),""),j(),ye("ngIf",(t.status||"En espera")==="Realizado")}}function A3(n,e){n&1&&(F(0,"div",79)(1,"p",80),U(2," \xA1Hay platos listos para servir! \u{1F514} "),O()())}function x3(n,e){if(n&1&&(F(0,"div",53)(1,"div",54)(2,"div")(3,"h2",55),U(4),O(),F(5,"p",56),U(6),O(),et(7,C3,2,1,"p",57),O(),F(8,"p",58),U(9),ts(10,"date"),O()(),F(11,"div",59)(12,"span",60),U(13),O()(),F(14,"div",61)(15,"p",62),U(16,"Total:"),O(),F(17,"p",63),U(18),O()(),F(19,"div",64)(20,"p",65),U(21,"Art\xEDculos:"),O(),F(22,"div",66),et(23,S3,12,12,"div",67),O()(),et(24,A3,3,0,"div",68),O()),n&2){let t=e.$implicit,r=Y(2);ye("ngClass",es(13,y3,t.status==="En espera",t.status==="En preparaci\xF3n",t.status==="Realizado")),j(4),fe(" ",t.customer.name," "),j(2),fe(" ID: ",t.customer.idNumber," "),j(),ye("ngIf",t.tables),j(2),fe(" ",af(10,10,t.date,"dd/MM/yyyy HH:mm")," "),j(3),ye("ngClass",es(17,gM,t.status==="En espera",t.status==="En preparaci\xF3n",t.status==="Realizado")),j(),fe(" ",t.status||"En espera"," "),j(5),fe(" $",t.total.toFixed(2)," "),j(5),ye("ngForOf",t.items),j(),ye("ngIf",r.hasReadyItems(t))}}function R3(n,e){if(n&1&&(F(0,"div")(1,"h3",50),U(2),ts(3,"formatDateSpanish"),O(),F(4,"div",51),et(5,x3,25,21,"div",52),O()()),n&2){let t=e.$implicit,r=Y();j(2),fe(" ",wu(3,2,t)," "),j(3),ye("ngForOf",r.getOrdersForDate(t))}}function M3(n,e){if(n&1){let t=kt();F(0,"div",81)(1,"button",82),xe("click",function(){Ge(t);let i=Y();return We(i.loadMoreDates())}),U(2," Cargar m\xE1s "),O()()}}var Sg=class n{firestore=q(ir);router=q(no);orders$=oe([]);groupedOrders=new Map;visibleDates=[];allDates=[];statsMap=new Map;overallStats=this.createEmptyStats();selectedDate="overall";showOnlyWithReadyItems=!1;INITIAL_DATES_TO_SHOW=3;DATES_TO_LOAD_MORE=3;TOP_PRODUCTS_COUNT=5;ngOnInit(){this.loadOrders()}loadOrders(){let e=Ns(this.firestore,"orders"),t=gg(e,pg("date","desc"));wc(t,{idField:"id"}).pipe(se(r=>r.map(i=>{let o=i;return o.status||(o.status="En espera"),o.items&&Array.isArray(o.items)&&(o.items=o.items.map(s=>re($({},s),{status:s.status||"En espera"}))),re($({},o),{date:o.date?.toDate()})}))).subscribe(r=>{this.groupedOrders=this.groupOrdersByDate(r),this.allDates=this.getSortedDates(this.groupedOrders),this.visibleDates=this.allDates.slice(0,this.INITIAL_DATES_TO_SHOW),this.calculateStats(r),this.allDates.length>0&&(this.selectedDate=this.allDates[0])})}groupOrdersByDate(e){let t=new Map;return e.forEach(r=>{let i=r.date.toLocaleDateString();t.has(i)||t.set(i,[]),t.get(i).push(r)}),t.forEach(r=>{r.sort((i,o)=>o.date.getTime()-i.date.getTime())}),t}getSortedDates(e){return Array.from(e.keys()).sort((t,r)=>{let i=new Date(t);return new Date(r).getTime()-i.getTime()})}getOrdersForDate(e){let t=this.groupedOrders.get(e)||[];return this.showOnlyWithReadyItems?t.filter(r=>this.hasReadyItems(r)):t}loadMoreDates(){let e=this.visibleDates.length,t=this.allDates.slice(e,e+this.DATES_TO_LOAD_MORE);this.visibleDates.push(...t)}navigateToOrders(){this.router.navigate(["/pedidos"])}navigateToKitchen(){this.router.navigate(["/cocina"])}hasReadyItems(e){return e.items.some(t=>(t.status||"En espera")==="Realizado"&&e.status!=="Realizado")}getItemStatusClass(e){switch(e){case"En espera":return"bg-yellow-50 border-l-2 border-yellow-300";case"En preparaci\xF3n":return"bg-blue-50 border-l-2 border-blue-300";case"Realizado":return"bg-green-50 border-l-2 border-green-300";default:return"bg-gray-50 border-l-2 border-gray-300"}}calculateStats(e){this.statsMap=new Map,this.overallStats=this.createEmptyStats(),e.forEach(t=>{let r=t.date.toLocaleDateString();this.statsMap.has(r)||this.statsMap.set(r,this.createEmptyStats());let i=this.statsMap.get(r),o=this.overallStats;this.updateStats(i,t),this.updateStats(o,t)}),this.finalizeStats(this.overallStats),this.statsMap.forEach(t=>this.finalizeStats(t))}createEmptyStats(){return{totalRevenue:0,orderCount:0,totalItems:0,averageTicket:0,topProducts:[],statusCounts:{"En espera":0,"En preparaci\xF3n":0,Realizado:0}}}updateStats(e,t){e.totalRevenue+=t.total,e.orderCount+=1,t.status&&(e.statusCounts[t.status]=(e.statusCounts[t.status]||0)+1);let r=new Map;t.items.forEach(i=>{e.totalItems+=i.quantity;let o=i.selectedOption?`${i.name} (${i.selectedOption})`:i.name;r.has(o)||r.set(o,{name:o,quantity:0,revenue:0});let s=r.get(o);s.quantity+=i.quantity,s.revenue+=i.price*i.quantity}),r.forEach(i=>{let o=e.topProducts.findIndex(s=>s.name===i.name);o>=0?(e.topProducts[o].quantity+=i.quantity,e.topProducts[o].revenue+=i.revenue):e.topProducts.push(i)})}finalizeStats(e){e.orderCount>0&&(e.averageTicket=e.totalRevenue/e.orderCount),e.topProducts.sort((t,r)=>r.quantity-t.quantity),e.topProducts=e.topProducts.slice(0,this.TOP_PRODUCTS_COUNT)}getSelectedStats(){return this.selectedDate==="overall"?this.overallStats:this.statsMap.get(this.selectedDate)||this.createEmptyStats()}onDateChange(e){let t=e.target;this.selectedDate=t.value}getStatusPercentage(e){let t=this.getSelectedStats(),r=t.orderCount;if(r===0)return 0;let i=t.statusCounts[e]||0;return Math.round(i/r*100)}getColor(e){let t=["#4F46E5","#10B981","#F59E0B","#EF4444","#8B5CF6"];return t[e%t.length]}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=wr({type:n,selectors:[["app-home"]],standalone:!0,features:[br],decls:82,vars:23,consts:[[1,"container","mx-auto","px-4","py-6"],[1,"flex","justify-end","mb-4"],[1,"bg-orange-500","text-white","rounded-lg","py-2","px-4","shadow-md","hover:bg-orange-600","flex","items-center","gap-2","mr-2",3,"click"],[1,"bg-blue-500","text-white","rounded-lg","py-2","px-4","shadow-md","hover:bg-blue-600","flex","items-center","gap-2",3,"click"],[1,"font-bold","text-2xl","lg:text-3xl","mb-6","text-center","text-gray-800"],[1,"mb-6"],["for","dateSelector",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","dateSelector",1,"w-full","md:w-64","bg-white","border","border-gray-300","rounded-md","py-2","px-3","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","change","ngModel"],["value","overall"],[3,"value",4,"ngFor","ngForOf"],[1,"mb-6","flex","items-center"],["type","checkbox","id","readyItemsFilter",1,"mr-2","h-4","w-4","text-blue-600","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","readyItemsFilter",1,"text-sm","font-medium","text-gray-700"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-4","mb-8"],[1,"bg-white","rounded-lg","shadow-md","p-5","border-l-4","border-blue-500"],[1,"text-sm","font-medium","text-gray-500"],[1,"mt-1","text-2xl","font-semibold","text-gray-900"],[1,"mt-2","flex","items-center","text-sm"],[1,"text-gray-500"],[1,"bg-white","rounded-lg","shadow-md","p-5","border-l-4","border-green-500"],[1,"bg-white","rounded-lg","shadow-md","p-5","border-l-4","border-yellow-500"],[1,"mt-2","grid","grid-cols-1","gap-2"],[1,"flex","items-center"],[1,"w-full","bg-gray-200","rounded-full","h-2.5"],[1,"bg-yellow-400","h-2.5","rounded-full"],[1,"ml-2","text-sm","text-gray-600"],[1,"bg-blue-400","h-2.5","rounded-full"],[1,"bg-green-400","h-2.5","rounded-full"],[1,"bg-white","rounded-lg","shadow-md","p-5","border-l-4","border-purple-500"],["class","mt-1 text-xl font-semibold text-gray-900",4,"ngIf"],["class","mt-2 flex items-center text-sm",4,"ngIf"],[1,"bg-white","rounded-lg","shadow-md","p-6","mb-8"],[1,"text-lg","font-semibold","text-gray-800","mb-4"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],["scope","col",1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","text-center mt-6",4,"ngIf"],[3,"value"],[1,"mt-1","text-xl","font-semibold","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap"],[1,"flex-shrink-0","h-8","w-8","rounded-full","flex","items-center","justify-center",3,"ngStyle"],[1,"text-white","text-xs"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-900"],["colspan","3",1,"px-6","py-4","text-center","text-sm","text-gray-500"],[1,"font-semibold","text-md","mt-6","mb-4","text-gray-700"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white shadow-lg rounded-lg p-6 border-l-4",3,"ngClass",4,"ngFor","ngForOf"],[1,"bg-white","shadow-lg","rounded-lg","p-6","border-l-4",3,"ngClass"],[1,"flex","justify-between","items-start","flex-wrap"],[1,"font-bold","text-lg","break-words","text-gray-900"],[1,"text-sm","text-gray-600","break-words"],["class","text-sm text-gray-600",4,"ngIf"],[1,"text-sm","text-gray-500","whitespace-nowrap"],[1,"mt-2"],[1,"px-2","py-1","rounded-full","text-xs","font-medium",3,"ngClass"],[1,"flex","justify-between","items-center","mt-4"],[1,"font-semibold","text-gray-700"],[1,"text-lg","font-bold","text-gray-800"],[1,"mt-4"],[1,"font-semibold","text-gray-700","mb-2"],[1,"space-y-2"],["class","p-2 rounded-md flex justify-between items-center",3,"ngClass",4,"ngFor","ngForOf"],["class","mt-4 p-2 bg-green-100 rounded-lg text-center animate-pulse",4,"ngIf"],[1,"text-sm","text-gray-600"],[1,"p-2","rounded-md","flex","justify-between","items-center",3,"ngClass"],[1,"text-sm","text-gray-700"],["class","text-gray-500",4,"ngIf"],[1,"mt-1"],[1,"text-xs","px-2","py-1","rounded-full",3,"ngClass"],[1,"text-right"],[1,"text-sm","font-medium"],["class","inline-block text-green-600 text-lg","title","\xA1Listo para servir!",4,"ngIf"],["title","\xA1Listo para servir!",1,"inline-block","text-green-600","text-lg"],[1,"mt-4","p-2","bg-green-100","rounded-lg","text-center","animate-pulse"],[1,"text-green-800","font-medium"],[1,"text-center","mt-6"],[1,"bg-blue-500","text-white","rounded-full","px-6","py-2","shadow-lg","hover:bg-blue-600","transition-all","duration-300",3,"click"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"div",1)(2,"button",2),xe("click",function(){return r.navigateToKitchen()}),U(3," \u{1F468}\u200D\u{1F373} Cocina "),O(),F(4,"button",3),xe("click",function(){return r.navigateToOrders()}),U(5," \u{1F37D}\uFE0F Nuevo Pedido "),O()(),F(6,"h1",4),U(7," \u{1F4CA} Dashboard de Ventas "),O(),F(8,"div",5)(9,"label",6),U(10,"Seleccionar Per\xEDodo:"),O(),F(11,"select",7),Xr("ngModelChange",function(o){return Ji(r.selectedDate,o)||(r.selectedDate=o),o}),xe("change",function(o){return r.onDateChange(o)}),F(12,"option",8),U(13,"Todos los per\xEDodos"),O(),et(14,v3,3,4,"option",9),O()(),F(15,"div",10)(16,"input",11),Xr("ngModelChange",function(o){return Ji(r.showOnlyWithReadyItems,o)||(r.showOnlyWithReadyItems=o),o}),O(),F(17,"label",12),U(18," Mostrar solo pedidos con platos listos para servir "),O()(),F(19,"div",13)(20,"div",14)(21,"h3",15),U(22,"Ingresos Totales"),O(),F(23,"p",16),U(24),O(),F(25,"div",17)(26,"span",18),U(27),O()()(),F(28,"div",19)(29,"h3",15),U(30,"Ticket Promedio"),O(),F(31,"p",16),U(32),O(),F(33,"div",17)(34,"span",18),U(35),O()()(),F(36,"div",20)(37,"h3",15),U(38,"Estado de Pedidos"),O(),F(39,"div",21)(40,"div",22)(41,"div",23),pn(42,"div",24),O(),F(43,"span",25),U(44),O()(),F(45,"div",22)(46,"div",23),pn(47,"div",26),O(),F(48,"span",25),U(49),O()(),F(50,"div",22)(51,"div",23),pn(52,"div",27),O(),F(53,"span",25),U(54),O()()()(),F(55,"div",28)(56,"h3",15),U(57,"Producto M\xE1s Vendido"),O(),et(58,w3,2,1,"p",29)(59,_3,2,0,"p",29)(60,I3,3,1,"div",30),O()(),F(61,"div",31)(62,"h2",32),U(63,"Top Productos M\xE1s Vendidos"),O(),F(64,"div",33)(65,"table",34)(66,"thead",35)(67,"tr")(68,"th",36),U(69," Producto "),O(),F(70,"th",36),U(71," Cantidad "),O(),F(72,"th",36),U(73," Ingresos "),O()()(),F(74,"tbody",37),et(75,E3,15,7,"tr",38)(76,b3,3,0,"tr",39),O()()()(),F(77,"div",31)(78,"h2",32),U(79,"Detalle de Pedidos Recientes"),O(),et(80,R3,6,4,"div",38)(81,M3,3,0,"div",40),O()()),t&2&&(j(11),Jr("ngModel",r.selectedDate),j(3),ye("ngForOf",r.allDates),j(2),Jr("ngModel",r.showOnlyWithReadyItems),j(8),fe("$",r.getSelectedStats().totalRevenue.toFixed(2),""),j(3),fe("",r.getSelectedStats().orderCount," pedidos"),j(5),fe("$",r.getSelectedStats().averageTicket.toFixed(2),""),j(3),fe("",r.getSelectedStats().totalItems," items totales"),j(7),Pa("width",r.getStatusPercentage("En espera"),"%"),j(2),fe("",r.getSelectedStats().statusCounts["En espera"]||0," En espera"),j(3),Pa("width",r.getStatusPercentage("En preparaci\xF3n"),"%"),j(2),fe("",r.getSelectedStats().statusCounts["En preparaci\xF3n"]||0," En preparaci\xF3n"),j(3),Pa("width",r.getStatusPercentage("Realizado"),"%"),j(2),fe("",r.getSelectedStats().statusCounts.Realizado||0," Realizados"),j(4),ye("ngIf",r.getSelectedStats().topProducts.length>0),j(),ye("ngIf",r.getSelectedStats().topProducts.length===0),j(),ye("ngIf",r.getSelectedStats().topProducts.length>0),j(15),ye("ngForOf",r.getSelectedStats().topProducts),j(),ye("ngIf",r.getSelectedStats().topProducts.length===0),j(4),ye("ngForOf",r.visibleDates),j(),ye("ngIf",r.visibleDates.length<r.allDates.length))},dependencies:[Iu,Df,Tf,Sf,DT,Af,_c,Tg,Cg,Dg,ZI,Dc,Eg,kl],styles:['@charset "UTF-8";@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.7}}.animate-pulse[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s cubic-bezier(.4,0,.6,1) infinite}']})};var Fr=IE(sE());var N3=(n,e)=>e.category,mM=(n,e)=>e.id,P3=()=>[1,2,3,4,5,6,7,8,9,10];function O3(n,e){if(n&1){let t=kt();F(0,"div",17),xe("click",function(){let i=Ge(t).$implicit,o=Y(2);return We(o.toggleTableSelection(i))}),U(1),O()}if(n&2){let t=e.$implicit,r=Y(2);an("bg-blue-500",r.selectedTables.includes(t))("text-white",r.selectedTables.includes(t))("text-gray-800",!r.selectedTables.includes(t)),j(),fe(" Mesa ",t," ")}}function k3(n,e){if(n&1){let t=kt();F(0,"div",9)(1,"h2",10),U(2," Datos del Cliente "),O(),F(3,"input",11),Xr("ngModelChange",function(i){Ge(t);let o=Y();return Ji(o.customer.idNumber,i)||(o.customer.idNumber=i),We(i)}),xe("input",function(){Ge(t);let i=Y();return We(i.validateCustomer())}),O(),F(4,"input",12),Xr("ngModelChange",function(i){Ge(t);let o=Y();return Ji(o.customer.name,i)||(o.customer.name=i),We(i)}),O(),F(5,"h3",13),U(6," Selecciona las mesas: "),O(),F(7,"div",14),Oa(8,O3,2,7,"div",15,wv),O(),F(10,"button",16),xe("click",function(){Ge(t);let i=Y();return We(i.nextStep())}),U(11," Siguiente "),O()()}if(n&2){let t=Y();j(3),Jr("ngModel",t.customer.idNumber),j(),Jr("ngModel",t.customer.name),j(4),ka(ZD(2,P3))}}function F3(n,e){if(n&1&&(F(0,"p",29),U(1),O()),n&2){let t=Y().$implicit;j(),Jn(t.description)}}function L3(n,e){if(n&1&&(F(0,"option",36),U(1),O()),n&2){let t=e.$implicit;ye("value",t),j(),Jn(t)}}function V3(n,e){if(n&1){let t=kt();F(0,"div",30)(1,"label",29),U(2,"Opciones:"),O(),F(3,"select",35),Xr("ngModelChange",function(i){Ge(t);let o=Y().$implicit;return Ji(o.selectedOption,i)||(o.selectedOption=i),We(i)}),xe("change",function(){Ge(t);let i=Y().$implicit,o=Y(3);return We(o.updateSelectedOption(i,i.selectedOption||""))}),Oa(4,L3,2,2,"option",36,wv),O()()}if(n&2){let t=Y().$implicit;j(3),Jr("ngModel",t.selectedOption),j(),ka(t.options)}}function j3(n,e){if(n&1){let t=kt();F(0,"div",27)(1,"div")(2,"h3",28),U(3),O(),F(4,"p",29),U(5),O(),et(6,F3,2,1,"p",29)(7,V3,6,1,"div",30),O(),F(8,"div",31)(9,"button",32),xe("click",function(){let i=Ge(t).$implicit,o=Y(3);return We(o.removeFromOrder(i))}),U(10," - "),O(),F(11,"span",33),U(12),O(),F(13,"button",34),xe("click",function(){let i=Ge(t).$implicit,o=Y(3);return We(o.addToOrder(i))}),U(14," + "),O()()()}if(n&2){let t=e.$implicit,r=Y(3);j(3),Jn(t.name),j(2),fe("$",t.price.toFixed(2),""),j(),Xo(t.description?6:-1),j(),Xo(t.options!=null&&t.options.length?7:-1),j(5),Jn(r.getItemQuantity(t.id))}}function U3(n,e){if(n&1&&(F(0,"div")(1,"h2",25),U(2),O(),F(3,"div",26),Oa(4,j3,15,5,"div",27,mM),O()()),n&2){let t=e.$implicit;j(2),fe(" ",t.category," "),j(2),ka(t.items)}}function B3(n,e){if(n&1){let t=kt();F(0,"div",18)(1,"input",19),Xr("ngModelChange",function(i){Ge(t);let o=Y();return Ji(o.searchQuery,i)||(o.searchQuery=i),We(i)}),xe("input",function(){Ge(t);let i=Y();return We(i.filterMenu())}),O()(),F(2,"div",20)(3,"div",21),Oa(4,U3,6,1,"div",null,N3),O(),F(6,"div",22)(7,"button",23),xe("click",function(){Ge(t);let i=Y();return We(i.previousStep())}),U(8," Anterior "),O(),F(9,"button",24),xe("click",function(){Ge(t);let i=Y();return We(i.nextStep())}),U(10," Siguiente "),O()()()}if(n&2){let t=Y();j(),Jr("ngModel",t.searchQuery),j(3),ka(t.filteredCategories)}}function $3(n,e){if(n&1&&(F(0,"p",29),U(1),O()),n&2){let t=Y().$implicit;j(),fe("Opci\xF3n: ",t.selectedOption,"")}}function H3(n,e){if(n&1&&(F(0,"p",33),U(1),O(),et(2,$3,2,1,"p",29)),n&2){let t=e.$implicit;j(),_v(" ",t.name," x",t.quantity," - $",(t.price*t.quantity).toFixed(2)," "),j(),Xo(t.selectedOption?2:-1)}}function z3(n,e){if(n&1){let t=kt();F(0,"div",9)(1,"h2",10),U(2," Resumen del Pedido "),O(),F(3,"p",37),U(4),O(),F(5,"p",37),U(6),O(),F(7,"p",37),U(8),O(),F(9,"div",38)(10,"h3",39),U(11,"Detalles del Pedido:"),O(),Oa(12,H3,3,4,null,null,mM),O(),F(14,"p",40),U(15),O(),F(16,"div",41)(17,"button",42),xe("click",function(){Ge(t);let i=Y();return We(i.previousStep())}),U(18," Anterior "),O(),F(19,"button",43),xe("click",function(){Ge(t);let i=Y();return We(i.confirmOrder())}),U(20," Confirmar "),O()()()}if(n&2){let t=Y();j(4),fe("Nombre: ",t.customer.name,""),j(2),fe(" N\xFAmero de C\xE9dula: ",t.customer.idNumber," "),j(2),fe(" Mesas Seleccionadas: ",t.selectedTables.join(", ")," "),j(4),ka(t.orderItems),j(3),fe(" Total: $",t.getTotal().toFixed(2)," ")}}var Ag=class n{step=1;searchQuery="";selectedTables=[];customer={name:"",idNumber:""};orderItems=[];menuCategories=[];filteredCategories=[];firestore=q(ir);router=q(no);ngOnInit(){this.loadMenu()}loadMenu(){let e=Ns(this.firestore,"menu");wc(e,{idField:"id"}).subscribe(t=>{let r=t.reduce((i,o)=>{let s=o.category||"Sin Categor\xEDa";return i[s]||(i[s]=[]),i[s].push($({id:o.id,name:o.name,price:Number(o.price)||0,quantity:0,description:o.description||""},o.option?.length>0?{options:o.option}:{})),i},{});this.menuCategories=Object.keys(r).map(i=>({category:i,items:r[i]})),this.filteredCategories=[...this.menuCategories]},t=>{Fr.default.fire("Error","No se pudo cargar el men\xFA","error"),console.error("Error loading menu:",t)})}filterMenu(){let e=this.searchQuery.toLowerCase();this.filteredCategories=this.menuCategories.map(t=>({category:t.category,items:t.items.filter(r=>r.name.toLowerCase().includes(e))})).filter(t=>t.items.length>0)}toggleTableSelection(e){let t=this.selectedTables.indexOf(e);t===-1?this.selectedTables.push(e):this.selectedTables.splice(t,1)}addToOrder(e){let t=this.orderItems.find(r=>r.id===e.id);t?t.quantity+=1:this.orderItems.push(re($({},e),{quantity:1}))}removeFromOrder(e){let t=this.orderItems.find(r=>r.id===e.id);t&&(t.quantity-=1,t.quantity===0&&(this.orderItems=this.orderItems.filter(r=>r.id!==e.id)))}validateCustomer(){if(!/^[0-9]{10}$/.test(this.customer.idNumber)){this.customer.name="";return}let t=yo(this.firestore,`client/${this.customer.idNumber}`);qI(t).then(r=>{if(r.exists()){let i=r.data();this.customer.name=i.name,Fr.default.fire("Cliente Encontrado",`Bienvenido, ${i.name}`,"success")}else this.customer.name="",Fr.default.fire("Cliente No Encontrado","Por favor registra un cliente.","info")}).catch(r=>{Fr.default.fire("Error","No se pudo validar el cliente","error"),console.error("Error validating customer:",r)})}confirmOrder(){let e=this.orderItems.map(o=>re($({},o),{status:"En espera"})),t={customer:this.customer,tables:this.selectedTables,items:e,total:this.getTotal(),date:new Date,status:"En espera"},r=Ns(this.firestore,"orders"),i=yo(this.firestore,`client/${this.customer.idNumber}`);$R(r,t).then(()=>{Fr.default.fire("Pedido Confirmado","\xA1Tu pedido ha sido registrado exitosamente!","success"),qI(i).then(o=>{o.exists()||zR(i,this.customer).then(()=>{console.log("Cliente guardado"),this.customer={name:"",idNumber:""}}).catch(s=>console.error("Error guardando cliente:",s))}),this.resetForm()}).catch(o=>{Fr.default.fire("Error","No se pudo confirmar el pedido","error"),console.error("Error confirming order:",o)})}nextStep(){if(this.step===1&&this.selectedTables.length===0){Fr.default.fire("Atenci\xF3n","\xA1Debes seleccionar al menos una mesa antes de continuar!","warning");return}if(this.step===2&&this.orderItems.length===0){Fr.default.fire("Atenci\xF3n","\xA1Debes seleccionar al menos un plato antes de continuar!","warning");return}if(this.step===2&&!this.validateSelectedOptions()){Fr.default.fire("Atenci\xF3n","\xA1Debes seleccionar una opci\xF3n para todos los productos que tienen opciones y una cantidad mayor o igual a 1!","warning");return}this.step<3&&this.step++}previousStep(){this.step>1&&this.step--}getItemQuantity(e){let t=this.orderItems.find(r=>r.id===e);return t?t.quantity:0}updateSelectedOption(e,t){let r=this.orderItems.find(i=>i.id===e.id);r&&(r.selectedOption=t)}validateSelectedOptions(){return this.orderItems.every(e=>e.quantity===0||!e.options||e.options.length>0&&!!e.selectedOption)}resetForm(){this.step=1,this.selectedTables=[],this.orderItems=[]}getTotal(){return this.orderItems.reduce((e,t)=>e+t.price*t.quantity,0)}goToHome(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=wr({type:n,selectors:[["app-order"]],standalone:!0,features:[br],decls:28,vars:33,consts:[[1,"container","mx-auto","px-4","py-6","max-w-lg","lg:max-w-4xl"],[1,"flex","justify-end","mb-4"],[1,"bg-blue-500","text-white","rounded-lg","py-2","px-4","shadow-md","hover:bg-blue-600","flex","items-center","gap-2",3,"click"],[1,"text-2xl","lg:text-4xl","font-bold","text-center","mb-6","text-gray-800"],[1,"flex","justify-between","items-center","mb-8"],[1,"flex","flex-col","items-center"],[1,"w-8","h-8","lg:w-10","lg:h-10","flex","items-center","justify-center","rounded-full","border-2"],[1,"text-white","text-sm","lg:text-base"],[1,"text-xs","lg:text-sm","mt-2","text-gray-600"],[1,"bg-white","p-4","lg:p-6","rounded-lg","shadow-md"],[1,"text-lg","lg:text-xl","font-semibold","text-gray-700","mb-4"],["type","text","placeholder","N\xFAmero de C\xE9dula","pattern","^[0-9]*$","minlength","10","maxlength","10","type","number",1,"w-full","p-2","lg:p-3","mb-4","border","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","input","ngModel"],["type","text","placeholder","Nombre",1,"w-full","p-2","lg:p-3","mb-4","border","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"text-lg","font-semibold","text-gray-700","mb-2"],[1,"grid","grid-cols-2","lg:grid-cols-3","gap-4"],[1,"border","p-4","rounded-lg","cursor-pointer","text-center",3,"bg-blue-500","text-white","text-gray-800"],[1,"w-full","bg-blue-500","text-white","py-2","lg:py-3","rounded","shadow","hover:bg-blue-600","mt-6",3,"click"],[1,"border","p-4","rounded-lg","cursor-pointer","text-center",3,"click"],[1,"mb-4"],["type","text","placeholder","Buscar productos...",1,"w-full","p-2","lg:p-3","border","rounded","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","input","ngModel"],[1,"relative"],[1,"content","grid","grid-cols-1","lg:grid-cols-2","gap-4","px-4","py-6"],[1,"fixed","bottom-4","left-1/2","transform","-translate-x-1/2","flex","gap-4"],[1,"bg-gray-400","text-white","py-2","px-4","rounded","hover:bg-gray-500","transition",3,"click"],[1,"bg-blue-500","text-white","py-2","px-4","rounded","hover:bg-blue-600","transition",3,"click"],[1,"text-lg","font-semibold","text-gray-800"],[1,"grid","grid-cols-1","gap-4","mt-2"],[1,"bg-white","p-4","rounded-lg","shadow-md"],[1,"font-semibold","text-gray-800"],[1,"text-gray-600","text-sm"],[1,"mt-2"],[1,"flex","items-center","space-x-2","mt-4"],[1,"bg-red-500","text-white","w-8","h-8","rounded-full","flex","items-center","justify-center","hover:bg-red-600",3,"click"],[1,"text-gray-800"],[1,"bg-green-500","text-white","w-8","h-8","rounded-full","flex","items-center","justify-center","hover:bg-green-600",3,"click"],[1,"mt-1","p-2","border","rounded",3,"ngModelChange","change","ngModel"],[3,"value"],[1,"text-gray-800","font-semibold","mb-2"],[1,"mt-4"],[1,"text-lg","font-semibold","text-gray-700"],[1,"text-lg","font-bold","text-gray-800","mt-4"],[1,"mt-6","flex","justify-between"],[1,"bg-gray-400","text-white","py-2","px-4","rounded","hover:bg-gray-500",3,"click"],[1,"bg-green-500","text-white","py-2","px-4","rounded","hover:bg-green-600",3,"click"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"div",1)(2,"button",2),xe("click",function(){return r.goToHome()}),U(3," Ver Pedidos "),O()(),F(4,"h1",3),U(5," \u{1F6D2} Realizar Pedido "),O(),F(6,"div",4)(7,"div",5)(8,"div",6)(9,"span",7),U(10,"1"),O()(),F(11,"p",8),U(12," Datos "),O()(),F(13,"div",5)(14,"div",6)(15,"span",7),U(16,"2"),O()(),F(17,"p",8),U(18," Platos "),O()(),F(19,"div",5)(20,"div",6)(21,"span",7),U(22,"3"),O()(),F(23,"p",8),U(24," Resumen "),O()()(),et(25,k3,12,3,"div",9)(26,B3,11,1)(27,z3,21,4,"div",9),O()),t&2&&(j(8),an("bg-blue-500",r.step===1)("border-blue-500",r.step===1)("border-gray-300",r.step!==1),j(),an("text-gray-600",r.step!==1),j(2),an("text-blue-500",r.step===1),j(3),an("bg-blue-500",r.step===2)("border-blue-500",r.step===2)("border-gray-300",r.step!==2),j(),an("text-gray-600",r.step!==2),j(2),an("text-blue-500",r.step===2),j(3),an("bg-blue-500",r.step===3)("border-blue-500",r.step===3)("border-gray-300",r.step!==3),j(),an("text-gray-600",r.step!==3),j(2),an("text-blue-500",r.step===3),j(2),Xo(r.step===1?25:-1),j(),Xo(r.step===2?26:-1),j(),Xo(r.step===3?27:-1))},dependencies:[Tg,Cg,Dg,_g,XI,Dc,Eg,tE,nE,rE,kl]})};var Fl=IE(sE());var q3=(n,e,t)=>({"bg-yellow-100 text-yellow-800":n,"bg-blue-100 text-blue-800":e,"bg-green-100 text-green-800":t}),G3=(n,e,t)=>({"bg-yellow-200 text-yellow-800":n,"bg-blue-200 text-blue-800":e,"bg-green-200 text-green-800":t});function W3(n,e){if(n&1&&(F(0,"span",39),U(1),O()),n&2){let t=Y().$implicit;j(),fe(" (",t.selectedOption,") ")}}function K3(n,e){if(n&1){let t=kt();F(0,"button",40),xe("click",function(){Ge(t);let i=Y().index,o=Y().$implicit,s=Y(2);return We(s.updateItemStatus(o,i,"En espera"))}),U(1," Espera "),O()}}function Q3(n,e){if(n&1){let t=kt();F(0,"button",41),xe("click",function(){Ge(t);let i=Y().index,o=Y().$implicit,s=Y(2);return We(s.updateItemStatus(o,i,"En preparaci\xF3n"))}),U(1," Preparar "),O()}}function Y3(n,e){if(n&1){let t=kt();F(0,"button",42),xe("click",function(){Ge(t);let i=Y().index,o=Y().$implicit,s=Y(2);return We(s.updateItemStatus(o,i,"Realizado"))}),U(1," Listo "),O()}}function Z3(n,e){if(n&1&&(F(0,"div",30)(1,"div",31)(2,"div")(3,"p",32),U(4),et(5,W3,2,1,"span",33),O(),F(6,"span",34),U(7),O()(),F(8,"div",35),et(9,K3,2,0,"button",36)(10,Q3,2,0,"button",37)(11,Y3,2,0,"button",38),O()()()),n&2){let t=e.$implicit,r=Y(3);ye("ngClass",r.getItemStatusClass(t.status||"En espera")),j(4),vu(" ",t.quantity,"x ",t.name," "),j(),ye("ngIf",t.selectedOption),j(),ye("ngClass",es(9,G3,(t.status||"En espera")==="En espera",(t.status||"En espera")==="En preparaci\xF3n",(t.status||"En espera")==="Realizado")),j(),fe(" ",t.status||"En espera"," "),j(2),ye("ngIf",(t.status||"En espera")!=="En espera"),j(),ye("ngIf",(t.status||"En espera")!=="En preparaci\xF3n"),j(),ye("ngIf",(t.status||"En espera")!=="Realizado")}}function J3(n,e){if(n&1){let t=kt();F(0,"button",43),xe("click",function(){Ge(t);let i=Y().$implicit,o=Y(2);return We(o.updateOrderStatus(i,"En espera"))}),U(1," Todo a Espera "),O()}}function X3(n,e){if(n&1){let t=kt();F(0,"button",44),xe("click",function(){Ge(t);let i=Y().$implicit,o=Y(2);return We(o.updateOrderStatus(i,"En preparaci\xF3n"))}),U(1," Todo a Preparaci\xF3n "),O()}}function e5(n,e){if(n&1){let t=kt();F(0,"button",45),xe("click",function(){Ge(t);let i=Y().$implicit,o=Y(2);return We(o.updateOrderStatus(i,"Realizado"))}),U(1," Todo Listo "),O()}}function t5(n,e){if(n&1&&(F(0,"div",14)(1,"div",15)(2,"div")(3,"h2",16),U(4),O(),F(5,"p",17),U(6),O(),F(7,"p",18),U(8),O()(),F(9,"p",19),U(10),ts(11,"date"),O()(),F(12,"div",20)(13,"span",21),U(14),O()(),F(15,"div",22)(16,"p",23),U(17,"Art\xEDculos:"),O(),F(18,"div",24),et(19,Z3,12,13,"div",25),O()(),F(20,"div",26),et(21,J3,2,0,"button",27)(22,X3,2,0,"button",28)(23,e5,2,0,"button",29),O()()),n&2){let t=e.$implicit,r=Y(2);ye("ngClass",r.getStatusClass(t.status)),j(4),fe(" ",t.customer.name," "),j(2),fe(" ID: ",t.customer.idNumber," "),j(2),fe(" Mesas: ",(t.tables==null?null:t.tables.join(", "))||"No especificada"," "),j(2),fe(" ",af(11,11,t.date,"dd/MM/yyyy HH:mm")," "),j(3),ye("ngClass",es(14,q3,t.status==="En espera",t.status==="En preparaci\xF3n",t.status==="Realizado")),j(),fe(" ",t.status," "),j(5),ye("ngForOf",t.items),j(2),ye("ngIf",t.status!=="En espera"),j(),ye("ngIf",t.status!=="En preparaci\xF3n"),j(),ye("ngIf",t.status!=="Realizado")}}function n5(n,e){if(n&1&&(F(0,"div")(1,"h2",11),U(2),ts(3,"formatDateSpanish"),O(),F(4,"div",12),et(5,t5,24,18,"div",13),O()()),n&2){let t=e.$implicit,r=Y();j(2),fe(" ",wu(3,2,t)," "),j(3),ye("ngForOf",r.groupedOrders.get(t))}}function r5(n,e){if(n&1){let t=kt();F(0,"div",46)(1,"button",47),xe("click",function(){Ge(t);let i=Y();return We(i.loadMoreDates())}),U(2," Cargar m\xE1s "),O()()}}var xg=class n{firestore=q(ir);router=q(no);orders$=oe([]);groupedOrders=new Map;visibleDates=[];allDates=[];INITIAL_DATES_TO_SHOW=3;DATES_TO_LOAD_MORE=3;ngOnInit(){this.loadOrders()}updateItemStatus(e,t,r){let i=yo(this.firestore,`orders/${e.id}`),o=[...e.items];o[t]=re($({},o[t]),{status:r}),Al(i,{items:o}).then(()=>{e.items[t].status=r,this.updateOrderStatusBasedOnItems(e);let s="",a="";switch(r){case"En preparaci\xF3n":s=`${e.items[t].name} ha pasado a preparaci\xF3n`,a="info";break;case"Realizado":s=`${e.items[t].name} est\xE1 listo`,a="success";break;case"En espera":s=`${e.items[t].name} ha vuelto a la lista de espera`,a="warning";break}Fl.default.fire({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,icon:a,title:s})}).catch(s=>{console.error("Error al actualizar el estado del \xEDtem:",s),Fl.default.fire("Error","No se pudo actualizar el estado del \xEDtem","error")})}updateOrderStatusBasedOnItems(e){let t=e.items.map(i=>i.status||"En espera");if(new Set(t).size===1){let i=t[0];if(e.status!==i){let o=yo(this.firestore,`orders/${e.id}`);Al(o,{status:i}).then(()=>{e.status=i}).catch(s=>{console.error("Error al actualizar el estado general del pedido:",s)})}}else if(t.every(i=>i==="Realizado"||i==="En preparaci\xF3n")&&e.status!=="En preparaci\xF3n"){let i=yo(this.firestore,`orders/${e.id}`);Al(i,{status:"En preparaci\xF3n"}).then(()=>{e.status="En preparaci\xF3n"}).catch(o=>{console.error("Error al actualizar el estado general del pedido:",o)})}}getItemStatusClass(e){switch(e){case"En espera":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"En preparaci\xF3n":return"bg-blue-100 text-blue-800 border-blue-300";case"Realizado":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}}loadOrders(){let e=Ns(this.firestore,"orders"),t=gg(e,pg("date","desc"));wc(t,{idField:"id"}).pipe(se(r=>r.map(i=>{let o=i;return o.status||(o.status="En espera"),o.items&&Array.isArray(o.items)&&(o.items=o.items.map(s=>re($({},s),{status:s.status||"En espera"}))),re($({},o),{date:o.date?.toDate()})}))).subscribe(r=>{this.groupedOrders=this.groupOrdersByDate(r),this.allDates=this.getSortedDates(this.groupedOrders),this.visibleDates=this.allDates.slice(0,this.INITIAL_DATES_TO_SHOW)})}groupOrdersByDate(e){let t=new Map;return e.forEach(r=>{let i=r.date.toLocaleDateString();t.has(i)||t.set(i,[]),t.get(i).push(r)}),t.forEach(r=>{r.sort((i,o)=>o.date.getTime()-i.date.getTime())}),t}getSortedDates(e){return Array.from(e.keys()).sort((t,r)=>{let i=new Date(t);return new Date(r).getTime()-i.getTime()})}loadMoreDates(){let e=this.visibleDates.length,t=this.allDates.slice(e,e+this.DATES_TO_LOAD_MORE);this.visibleDates.push(...t)}updateOrderStatus(e,t){let r=yo(this.firestore,`orders/${e.id}`),i=e.items.map(o=>re($({},o),{status:t}));Al(r,{status:t,items:i}).then(()=>{e.status=t,e.items.forEach(a=>a.status=t);let o="",s="";switch(t){case"En preparaci\xF3n":o="El pedido completo ha pasado a preparaci\xF3n",s="info";break;case"Realizado":o="El pedido completo est\xE1 listo para ser entregado",s="success";break;case"En espera":o="El pedido completo ha vuelto a la lista de espera",s="warning";break}Fl.default.fire("Estado actualizado",o,s)}).catch(o=>{console.error("Error al actualizar el estado del pedido:",o),Fl.default.fire("Error","No se pudo actualizar el estado del pedido","error")})}getStatusClass(e){switch(e){case"En espera":return"bg-yellow-100 text-yellow-800 border-yellow-300";case"En preparaci\xF3n":return"bg-blue-100 text-blue-800 border-blue-300";case"Realizado":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}}navigateToHome(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=wr({type:n,selectors:[["app-kitchen"]],standalone:!0,features:[br],decls:21,vars:2,consts:[[1,"container","mx-auto","px-4","py-6"],[1,"flex","justify-end","mb-4"],[1,"bg-blue-500","text-white","rounded-lg","py-2","px-4","shadow-md","hover:bg-blue-600","flex","items-center","gap-2",3,"click"],[1,"font-bold","text-2xl","lg:text-3xl","mb-6","text-center","text-gray-800"],[1,"flex","flex-wrap","justify-center","gap-4","mb-6"],[1,"flex","items-center","gap-2"],[1,"inline-block","w-4","h-4","rounded-full","bg-yellow-400"],[1,"inline-block","w-4","h-4","rounded-full","bg-blue-400"],[1,"inline-block","w-4","h-4","rounded-full","bg-green-400"],[4,"ngFor","ngForOf"],["class","text-center mt-6",4,"ngIf"],[1,"font-semibold","text-lg","mt-6","mb-4","text-gray-700"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["class","bg-white shadow-lg rounded-lg p-6 border-l-4",3,"ngClass",4,"ngFor","ngForOf"],[1,"bg-white","shadow-lg","rounded-lg","p-6","border-l-4",3,"ngClass"],[1,"flex","justify-between","items-start","mb-3"],[1,"font-bold","text-lg","break-words","text-gray-900"],[1,"text-sm","text-gray-600","break-words"],[1,"text-sm","text-gray-600"],[1,"text-sm","text-gray-500","whitespace-nowrap"],[1,"mb-4"],[1,"px-3","py-1","rounded-full","text-sm","font-medium",3,"ngClass"],[1,"mt-4"],[1,"font-semibold","text-gray-700","mb-2"],[1,"space-y-3"],["class","p-2 rounded-md",3,"ngClass",4,"ngFor","ngForOf"],[1,"flex","flex-wrap","gap-2","mt-4","pt-3","border-t","border-gray-200"],["class","px-3 py-1 bg-yellow-500 text-white rounded-md hover:bg-yellow-600 text-sm",3,"click",4,"ngIf"],["class","px-3 py-1 bg-blue-500 text-white rounded-md hover:bg-blue-600 text-sm",3,"click",4,"ngIf"],["class","px-3 py-1 bg-green-500 text-white rounded-md hover:bg-green-600 text-sm",3,"click",4,"ngIf"],[1,"p-2","rounded-md",3,"ngClass"],[1,"flex","justify-between","items-center"],[1,"text-sm","font-medium"],["class","text-gray-500",4,"ngIf"],[1,"inline-block","px-2","py-0.5","text-xs","rounded-full","mt-1",3,"ngClass"],[1,"flex","gap-1"],["class","px-2 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600 text-xs",3,"click",4,"ngIf"],["class","px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-xs",3,"click",4,"ngIf"],["class","px-2 py-1 bg-green-500 text-white rounded hover:bg-green-600 text-xs",3,"click",4,"ngIf"],[1,"text-gray-500"],[1,"px-2","py-1","bg-yellow-500","text-white","rounded","hover:bg-yellow-600","text-xs",3,"click"],[1,"px-2","py-1","bg-blue-500","text-white","rounded","hover:bg-blue-600","text-xs",3,"click"],[1,"px-2","py-1","bg-green-500","text-white","rounded","hover:bg-green-600","text-xs",3,"click"],[1,"px-3","py-1","bg-yellow-500","text-white","rounded-md","hover:bg-yellow-600","text-sm",3,"click"],[1,"px-3","py-1","bg-blue-500","text-white","rounded-md","hover:bg-blue-600","text-sm",3,"click"],[1,"px-3","py-1","bg-green-500","text-white","rounded-md","hover:bg-green-600","text-sm",3,"click"],[1,"text-center","mt-6"],[1,"bg-blue-500","text-white","rounded-full","px-6","py-2","shadow-lg","hover:bg-blue-600","transition-all","duration-300",3,"click"]],template:function(t,r){t&1&&(F(0,"div",0)(1,"div",1)(2,"button",2),xe("click",function(){return r.navigateToHome()}),U(3," Ver Listado General "),O()(),F(4,"h1",3),U(5," \u{1F468}\u200D\u{1F373} Vista de Cocina "),O(),F(6,"div",4)(7,"div",5),pn(8,"span",6),F(9,"span"),U(10,"En espera"),O()(),F(11,"div",5),pn(12,"span",7),F(13,"span"),U(14,"En preparaci\xF3n"),O()(),F(15,"div",5),pn(16,"span",8),F(17,"span"),U(18,"Realizado"),O()()(),et(19,n5,6,4,"div",9)(20,r5,3,0,"div",10),O()),t&2&&(j(19),ye("ngForOf",r.visibleDates),j(),ye("ngIf",r.visibleDates.length<r.allDates.length))},dependencies:[Iu,Df,Tf,Sf,Af,_c]})};var yM=[{path:"",component:Sg},{path:"pedidos",component:Ag},{path:"cocina",component:xg}];var vM={providers:[aT({eventCoalescing:!0}),vS(yM),WS(()=>KS({projectId:"complejo-paraiso",appId:"1:572747406183:web:2ccd25787ff30964bbadc2",storageBucket:"complejo-paraiso.firebasestorage.app",apiKey:"AIzaSyBC3JiEftn1mhp5FsPrWwvpyZ7AZ8cVbdg",authDomain:"complejo-paraiso.firebaseapp.com",messagingSenderId:"572747406183"})),VA(()=>jA()),BR(()=>HR())]};var Rg=class n{title="complejo-paraiso";static \u0275fac=function(t){return new(t||n)};static \u0275cmp=wr({type:n,selectors:[["app-root"]],standalone:!0,features:[br],decls:1,vars:0,template:function(t,r){t&1&&pn(0,"router-outlet")},dependencies:[ww]})};kT(Rg,vM).catch(n=>console.error(n));
